(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{479:function(e,t,a){},480:function(e,t,a){},482:function(e,t,a){},508:function(e,t,a){},509:function(e,t,a){},510:function(e,t,a){},512:function(e,t,a){},513:function(e,t,a){},514:function(e,t,a){},515:function(e,t,a){},516:function(e,t,a){},620:function(e,t,a){},621:function(e,t,a){},654:function(e,t,a){},655:function(e,t,a){},657:function(e,t,a){},658:function(e,t,a){},659:function(e,t,a){},660:function(e,t,a){},668:function(e,t){},669:function(e,t,a){},670:function(e,t,a){},671:function(e,t,a){},672:function(e,t,a){},673:function(e,t,a){},674:function(e,t,a){},675:function(e,t,a){},677:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a(0),o=a.n(s),r=a(57),c=a.n(r),i=a(15),l=a(182),d=(a(479),a(94)),u=Object(d.a)(),h=a(21),p=a(22),j=a(24),b=a(23),m=(a(480),a(42)),O=a(222),f=a(742),g=a(341),x=a(174),v=(a(482),"SIGNUP_USER"),y="LOGIN_USER",k="LOGOUT_USER",C="CLOSE_MODAL",D="OPEN_AUTH_MODAL",w="OPEN_ADD_TASK_MODAL",T="CLOSE_ADD_TASK_MODAL",A="OPEN_ADD_ACC_MODAL",_="CLOSE_ADD_ACC_MODAL",G="GET_ALL_GOAL",S="GET_GOAL",E="ADD_GOAL",N="EDIT_GOAL",Y="DELETE_GOAL",M="ADD_TASK_TO_GOAL",F="DELETE_TASK_FROM_GOAL",B="EDIT_TASK_OF_SELECTED_GOAL",L="GET_ALL_TASK",I="ADD_TASK",U="DELETE_TASK",H="EDIT_TASK",P="GET_ACHIEVEMENTS_OF_TASK",R="GET_ACHIEVEMENTS_OF_GOAL",z="ADD_ACHIEVEMENT",W="EDIT_ACHIEVEMENT",V="DELETE_ACHIEVEMENT",K="EXPLORE_GET_ALL_GOAL",q="EXPLORE_GET_GOAL",X="EXPLORE_GET_ACH_BY_GOAL",J=a(13),Q=a.n(J),Z=a(31),$=a(28),ee=a.n($),te=function(e){return function(t){return ee.a.post("/api/v1/users/signup/",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return t((a=e.data,{type:v,payload:{id:a.id,username:a.username}}));var a}))}},ae=function(){return function(e){return ee.a.get("/api/v1/goals/").then((function(t){return e((a=t.data,console.log("getAllGoal_ goals: ",a),{type:G,payload:a}));var a}))}},ne=function(e){return function(t){return ee.a.get("/api/v1/goals/"+e+"/").then((function(e){var a;t((a=e.data,{type:S,payload:a}))}))}},se=function(e){return{type:N,payload:e}},oe=function(e){return function(t){return ee.a.delete("/api/v1/goals/"+e).then((function(a){return t(function(e){return{type:Y,id:e}}(e))}))}},re=function(){return{type:C,payload:null}},ce=function(e){return{type:M,payload:{id:e.id,user:e.user,goal:e.goal,title:e.title,start_at:e.start_at,deadline:e.deadline,importance:e.importance,day_of_week:e.day_of_week}}},ie=function(e,t){return{type:F,payload:{goal_id:e,task_id:t}}},le=function(e,t){return function(){var a=Object(Z.a)(Q.a.mark((function a(n){return Q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ee.a.delete("/api/v1/tasks/"+t+"/");case 2:a.sent,n({type:U,payload:t}),n(ie(e,t));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},de=function(e){return function(){var t=Object(Z.a)(Q.a.mark((function t(a){var n;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ee.a.get("/api/v1/achievements/task/".concat(e,"/"));case 2:n=t.sent,console.log("[DEBUG] get_achievements_of_task res.data: ",n.data),a({type:P,payload:n.data});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ue=function(e){return{type:X,achievements:e}},he=function(){var e=Object(i.d)(),t=Object(O.a)(),a=t.register,s=t.handleSubmit,o=t.watch,r=t.errors;return o(),Object(n.jsxs)(f.a,{onSubmit:s((function(t,a){var n=new FormData;n.append("username",t.username),n.append("password",t.password),e(function(e){return function(){var t=Object(Z.a)(Q.a.mark((function t(a){var n;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ee.a.post("/api/v1/users/login/",e);case 2:n=t.sent,a((s=n.data,console.log("[DEBUG] loginUser action. user: ",s),{type:y,payload:{id:s.id,username:s.username}})),u.push("/main");case 5:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()}(n))}),(function(e,t){return console.log(e,t)})),children:[Object(n.jsxs)(g.a,{className:"LoginSegment",children:[Object(n.jsx)("label",{htmlFor:"username",children:"username"}),Object(n.jsx)("input",{id:"username",name:"username",placeholder:"Enter username",ref:a({required:!0,minLength:{value:5,message:"min length is 5"}})}),r.username&&Object(n.jsx)("span",{children:"This field is required"}),Object(n.jsx)("label",{htmlFor:"password",children:"password"}),Object(n.jsx)("input",{id:"password",name:"password",type:"password",placeholder:"Enter password",ref:a({required:!0})}),r.password&&Object(n.jsx)("span",{role:"alert",children:r.password.message})]}),Object(n.jsx)(x.a,{type:"submit",className:"submitButtonLogin",children:"Go Submit"})]})},pe=a(17),je=a(342),be=a.n(je),me=(a(508),function(e){be.a.setAppElement("#root");var t=e.children,a=Object(i.d)();return Object(n.jsxs)(be.a,Object(pe.a)(Object(pe.a)({id:"reactModal"},e),{},{style:{overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(230, 230, 230, 0.5)"}},children:[t,Object(n.jsx)(x.a,{className:"modal__close-btn",onClick:function(){return a(re())},floated:"right",id:"closeButton",children:"close"})]}))}),Oe=a(250),fe=(a(509),function(e){var t=Object(i.e)((function(e){return e.modal.authModal})),a=Object(s.useState)(e.authMode),o=Object(m.a)(a,2),r=o[0],c=o[1],l="signup"===r?function(){var e=Object(i.d)(),t=Object(O.a)(),a=t.register,s=t.handleSubmit,o=t.watch,r=t.errors,c=t.reset;return o(),Object(n.jsxs)(f.a,{className:"signupForm",onSubmit:s((function(t){console.log("[DEBUG] signup form data: ",t),t.password1,t.password2;var a=new FormData;a.append("username",t.username),a.append("password",t.password1),e(te(a)),c()}),(function(e,t){return console.log("ERROR",e)})),children:[Object(n.jsxs)(g.a,{className:"signupSegment",children:[Object(n.jsx)("label",{htmlFor:"email",children:"email"}),Object(n.jsx)("input",{id:"email",name:"email",placeholder:"Enter email",ref:a({required:!0})}),r.email&&Object(n.jsx)("span",{role:"alert",children:r.email.message}),Object(n.jsx)("label",{htmlFor:"username",children:"username"}),Object(n.jsx)("input",{id:"username",name:"username",placeholder:"Enter username",ref:a({required:!0,minLength:{value:5,message:"min length is 5"}})}),r.username&&Object(n.jsx)("span",{children:"This field is required"}),Object(n.jsx)("label",{htmlFor:"password1",children:"password"}),Object(n.jsx)("input",{id:"password1",name:"password1",placeholder:"Enter password",ref:a({required:!0})}),r.password1&&Object(n.jsx)("span",{role:"alert",children:r.password1.message}),Object(n.jsx)("label",{htmlFor:"password2",children:" Confirm password"}),Object(n.jsx)("input",{id:"password2",name:"password2",placeholder:"Confirm password",ref:a({required:!0})}),r.password2&&Object(n.jsx)("span",{children:"This field is required"})]}),Object(n.jsx)(x.a,{type:"submit",className:"submitButton",children:"Go Submit"})]})}():he();return Object(n.jsx)(g.a,{className:"SegmentModal",children:Object(n.jsx)(me,{isOpen:t,children:Object(n.jsxs)("div",{className:"modal-container small-container modal-auth",id:"Auth",children:[Object(n.jsxs)(Oe.a,{className:"ButtonGroupModal",floated:"right",children:[Object(n.jsx)(x.a,{onClick:function(){return c("signup")},id:"AuthSignup",children:"Sign Up"}),Object(n.jsx)(x.a,{onClick:function(){return c("login")},id:"AuthLogin",children:"Log In"})]}),Object(n.jsx)("br",{}),Object(n.jsx)("div",{className:"modal__body",children:l})]})})})}),ge=a(423),xe=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={authMode:"signup"},e.onClickSignup=function(){e.setState({authMode:"signup"}),e.props.openAuthModal()},e.onClickLogin=function(){e.setState({authMode:"login"}),e.props.openAuthModal()},e}return Object(p.a)(a,[{key:"render",value:function(){return this.props.isUserLoggedIn?(u.push("/main"),Object(n.jsx)("div",{children:"Should redirect to main page"})):Object(n.jsx)(f.a,{center:"true",aligned:"true",className:"FormLogin",children:Object(n.jsxs)(g.a,{className:"Segment",children:[Object(n.jsxs)(ge.a,{columns:2,className:"grid",divided:"vertically",children:[Object(n.jsxs)(ge.a.Column,{children:[Object(n.jsx)("h2",{className:"title",children:"Goaling Ball"}),Object(n.jsx)("h3",{className:"subtitle",children:"Your goal management service."})]}),Object(n.jsx)(ge.a.Column,{children:Object(n.jsxs)(Oe.a,{className:"ButtonGroup",children:[Object(n.jsx)(x.a,{onClick:this.onClickSignup,className:"Button",id:"ButtonSignup",children:"SIGN UP"}),Object(n.jsx)(x.a,{onClick:this.onClickLogin,className:"Button",id:"ButtonLogin",children:"LOGIN"})]})})]}),this.props.isAuthModalOpen&&Object(n.jsx)(fe,{authMode:this.state.authMode}),console.log("DEBUG: ",this.props.isAuthModalOpen)]})})}}]),a}(o.a.Component),ve=Object(i.c)((function(e){return{isUserLoggedIn:e.auth,isAuthModalOpen:e.modal.authModal}}),{openAuthModal:function(){return{type:D,payload:null}}})(xe),ye=(a(510),a(743)),ke=a(425),Ce=a(82),De=Object(l.e)((function(e){Object(i.e)((function(e){return e.auth}));var t=Object(i.d)(),a=function(){t((ee.a.post("/api/v1/users/logout/"),{type:k,payload:null})),e.history.push("/")};return Object(n.jsx)(ye.a,{className:"Sidebar",animation:"uncover",vertical:!0,visible:"true",children:Object(n.jsxs)(ge.a,{verticalAlign:"middle",rows:5,centered:!0,className:"gridBar",children:[Object(n.jsx)(ge.a.Row,{children:Object(n.jsx)(ke.a.Item,{as:"a",children:Object(n.jsxs)("button",{class:"ui basic button",onClick:function(){e.history.push("/create")},className:"button-create",id:"CreateButton",children:[Object(n.jsx)(Ce.a,{name:"plus circle",size:"large",id:"icon"}),Object(n.jsx)("br",{}),"Create"]})})}),Object(n.jsx)(ge.a.Row,{children:Object(n.jsx)(ke.a.Item,{as:"a",children:Object(n.jsxs)("button",{class:"ui basic button",onClick:function(){return e.history.push("/main")},className:"button",id:"MainButton",children:[Object(n.jsx)(Ce.a,{name:"home",size:"large",id:"icon"}),Object(n.jsx)("br",{}),"Main"]})})}),Object(n.jsx)(ge.a.Row,{children:Object(n.jsx)(ke.a.Item,{as:"a",children:Object(n.jsxs)("button",{class:"ui basic button",onClick:function(){return e.history.push("/dashboard")},className:"button",id:"DashButton",children:[Object(n.jsx)(Ce.a,{name:"chart bar outline",size:"large",id:"icon"}),Object(n.jsx)("br",{}),"Dashboard"]})})}),Object(n.jsx)(ge.a.Row,{children:Object(n.jsx)(ke.a.Item,{as:"a",children:Object(n.jsxs)("button",{class:"ui basic button",onClick:function(){return e.history.push("/explore")},className:"button",id:"ExpButton",children:[Object(n.jsx)(Ce.a,{name:"search",size:"large",id:"icon"}),Object(n.jsx)("br",{}),"Explore"]})})}),Object(n.jsx)(ge.a.Row,{children:Object(n.jsx)(ke.a.Item,{as:"a",children:Object(n.jsxs)("button",{class:"ui basic button",onClick:function(){return a()},className:"button-logout",id:"LogoutButton",children:[Object(n.jsx)(Ce.a,{name:"arrow alternate circle right outline",size:"large",id:"icon"}),Object(n.jsx)("br",{}),"Logout"]})})})]})})})),we=a(443),Te=(a(512),a(10)),Ae=a.n(Te),_e=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={date:new Date},e.onChange=function(t){e.setState({date:t}),console.log("DEBUG on Calendar",Ae()(t).endOf("day")),e.props.onSubmit(t)},e}return Object(p.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("nav",{class:"panel",className:"CalendarPanel",children:[Object(n.jsx)(we.a,{id:"Calendar",onChange:this.onChange,value:this.state.date}),Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:"Example Goal 1"}),Object(n.jsx)("li",{children:"Example Goal 2"})]})]})}}]),a}(s.Component),Ge=a(745),Se=(a(513),a(32)),Ee=(a(514),a(515),a(746)),Ne=a(749),Ye=(a(335),a(750)),Me=a(116),Fe=a(681),Be=a(751),Le=(a(516),a(176)),Ie=a.n(Le),Ue=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={achievement:e.props.achievement,isEdit:!!e.props.achievement,isCreating:!1,percentage_complete:e.props.achievement?e.props.achievement.percentage_complete:0,today:void 0==e.props.today?null:Ae()(e.props.today).startOf("day").unix()+86400-1,file:null,fileName:"",photo:e.props.achievement?e.props.achievement.photo:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/480px-No_image_available.svg.png",description:e.props.achievement?e.props.achievement.description:""},e.fileChange=function(t){t.target.files&&(e.setState({file:t.target.files[0],fileName:t.target.files[0].name},(function(){console.log("File chosen ---\x3e",e.state.file,console.log("File name  ---\x3e",e.state.fileName))})),e.setState({photo:URL.createObjectURL(t.target.files[0])}))},e.closeHandler=function(){e.props.onSubmit()},e.onPercentageCompleteChange=function(t,a){e.setState({percentage_complete:a})},e.handleSubmit=Object(Z.a)(Q.a.mark((function t(){var a,n,s,o;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({isCreating:!0}),!e.state.isEdit){t.next=9;break}return a=e.props.achievement.id,n=e.props.achievement.photo,s={percentage_complete:e.state.percentage_complete,written_at:e.state.today,description:e.state.description,photo:e.state.photo},t.next=7,e.props.edit_achievement(a,s,e.state.file,n);case 7:t.next=16;break;case 9:return(o=new FormData).append("task_id",e.props.task_id),o.append("percentage_complete",e.state.percentage_complete),o.append("written_at",e.state.today),o.append("description",e.state.description),t.next=16,e.props.add_achievement(o,e.state.file);case 16:e.props.onSubmit(!1);case 17:case"end":return t.stop()}}),t)}))),e}return Object(p.a)(a,[{key:"fileRender",value:function(){return Object(n.jsx)(g.a,{children:Object(n.jsxs)(ge.a,{columns:"2",divided:!0,children:[Object(n.jsx)(Me.a,{width:"5",children:Object(n.jsx)("h5",{children:"See Photo Preview"})}),Object(n.jsx)(Me.a,{width:"10",children:Object(n.jsx)("img",{id:"image",src:this.state.photo,className:"AccPreviewImage"})})]})})}},{key:"renderPhoto",value:function(){return Object(n.jsx)(g.a,{className:"AddAccPhoto",children:Object(n.jsxs)(f.a.Field,{children:[Object(n.jsxs)("label",{id:"PhotoInput",children:[this.state.isEdit?"Edit ":"Add "," Achievement Photo"]}),Object(n.jsxs)(x.a,{as:"label",htmlFor:"file",type:"button",animated:"fade",children:[Object(n.jsx)(x.a.Content,{visible:!0,children:Object(n.jsx)(Ce.a,{name:"file"})}),Object(n.jsx)(x.a.Content,{hidden:!0,children:"Choose a File"})]}),Object(n.jsx)("input",{type:"file",id:"file",className:"AccPhoto",hidden:!0,onChange:this.fileChange}),Object(n.jsx)(f.a.Input,{fluid:!0,label:"Photo Chosen ",placeholder:"Use the above bar to browse your file system",readOnly:!0,value:this.state.fileName}),Object(n.jsx)(x.a,{style:{marginTop:"7px"},onClick:this.fileChange,id:"UploadPhotoButton",children:" See Preview "})]})})}},{key:"renderDescription",value:function(){var e=this;return Object(n.jsxs)(f.a.Field,{className:"AddAccDes",children:[Object(n.jsx)("label",{children:"Description"}),Object(n.jsx)(Fe.a,{fluid:!0,placeholder:"Write a description about your acheivement",value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})}})]})}},{key:"render",value:function(){return Object(n.jsx)(Ie.a,{className:"AddAccForm",active:this.state.isCreating,spinner:!0,text:this.state.isEdit?"Edit ":"Add ing your achivement...",children:Object(n.jsx)(f.a,{children:Object(n.jsxs)(g.a,{className:"AddAccForm",id:"AddAccFormSegment",style:{boxShadow:"none",border:"none"},children:[Object(n.jsxs)("h3",{children:["\xa0 ",this.state.isEdit?"Edit ":"Add "," Achievements"]}),Object(n.jsx)(f.a.Group,{children:Object(n.jsx)("div",{children:Object(n.jsxs)(ge.a,{columns:"2",className:"SliderRoot",children:[Object(n.jsx)(Me.a,{width:6,children:Object(n.jsx)("h4",{className:"SliderRootTitle",children:"How much did you do?"})}),Object(n.jsx)(Me.a,{width:8,children:Object(n.jsx)(Be.a,{defaultValue:this.state.percentage_complete,"aria-labelledby":"discrete-slider-always",step:10,onChange:this.onPercentageCompleteChange,valueLabelDisplay:"on"})})]})})}),Object(n.jsx)("div",{children:Object(n.jsxs)(ge.a,{columns:"2",children:[Object(n.jsx)(Me.a,{className:"AccPhotoForm",width:6,children:this.renderPhoto()}),Object(n.jsx)(Me.a,{width:8,children:this.fileRender()})]})}),this.renderDescription(),Object(n.jsxs)(x.a.Group,{children:[Object(n.jsx)(f.a.Button,{className:"AddAccSubmitButton",onClick:this.handleSubmit,children:"Submit"}),Object(n.jsx)(f.a.Button,{className:"AddAccCloseButton",onClick:this.closeHandler,children:"Close"})]})]})})})}}]),a}(s.Component),He=Object(i.c)(null,{add_achievement:function(e,t){return function(){var a=Object(Z.a)(Q.a.mark((function a(n){var s,o,r,c;return Q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s="https://goalingball-test.s3.amazonaws.com/",!t){a.next=10;break}return a.next=4,ee.a.get("/api/v1/uploads/");case 4:return o=a.sent,a.next=7,ee.a.put(o.data.url,t,{headers:{"Content-Type":"image/jpeg"}});case 7:a.sent,r=s+o.data.key,e.set("photo",r);case 10:return a.next=12,ee.a.post("/api/v1/achievements/",e,{headers:{"Content-Type":"multipart/form-data"}});case 12:c=a.sent,n({type:z,payload:c.data}),u.push("/main");case 15:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},edit_achievement:function(e,t,a,n){return function(){var s=Object(Z.a)(Q.a.mark((function s(o){var r,c,i,l,d,h;return Q.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!a){s.next=16;break}if(r="https://goalingball-test.s3.amazonaws.com/",n){s.next=7;break}return s.next=5,ee.a.get("/api/v1/uploads/");case 5:c=s.sent,n=c.data.key;case 7:return s.next=9,ee.a.put("/api/v1/uploads/",{key:n});case 9:return i=s.sent,s.next=12,ee.a.put(i.data.url,a,{headers:{"Content-Type":"image/jpeg"}});case 12:l=r+i.data.key,t.photo=l,s.next=17;break;case 16:case 17:return s.next=19,ee.a.put("/api/v1/achievements/".concat(e,"/"),t,{headers:{"Content-Type":"application/json"}});case 19:d=s.sent,console.log("edit achievement res.data: ",d.data),o({type:W,payload:d.data}),h=d.data.task,o(de(h)),u.push("/main");case 25:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}})(Ue),Pe=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={addAccopen:!1,achievement:null},e.onClickEditAchievement=function(t){e.setState({addAccopen:!0,achievement:t})},e.onClickAddAccHandler=function(){e.setState({addAccopen:!0})},e.renderTotal=function(){var t=null,a=Ae()(e.props.today).startOf("day").unix()+86400-1,s=e.props.achievements.filter((function(t){return t.written_at==a&&t.task==e.props.task.id}));if(s.length>0&&(t=s[0]),t){console.log("udpaet this.set.achievement");var o=t.percentage_complete;return Object(n.jsxs)(g.a,{className:"AccContainer",children:[Object(n.jsxs)("h4",{children:["Your accomplishment of ",e.props.task.title,":"]}),Object(n.jsxs)(ge.a,{columns:"2",children:[Object(n.jsx)(ge.a.Column,{width:2,className:"importance",children:Object(n.jsx)("p",{children:"Importance"})}),Object(n.jsx)(ge.a.Column,{className:"ImportanceRating",children:Object(n.jsx)(Ye.a,{name:"simple-controlled",size:"small",value:e.props.task.importance,readOnly:!0})})]}),Object(n.jsxs)(ge.a,{columns:"2",className:"AccGrid",divided:!0,children:[Object(n.jsxs)(ge.a.Column,{width:6,className:"AccContainerPercentage",children:[Object(n.jsxs)("svg",{viewBox:"0 0 520 520",children:[Object(n.jsx)(Ee.a,{standalone:!1,labelComponent:Object(n.jsx)("span",{}),width:520,height:520,data:[{key:"",y:o},{key:"",y:100-o}],innerRadius:166,colorScale:["#19B3A6","#EEEEEE"]}),Object(n.jsx)(Ne.a,{textAnchor:"middle",style:{fontSize:50},x:260,y:260,text:o+"%"})]}),Object(n.jsx)("p",{className:"AccChartTitle",children:"percentage done"})]}),Object(n.jsx)(ge.a.Column,{width:9,className:"AccContainerDetail",children:Object(n.jsxs)(ge.a,{columns:"2",children:[Object(n.jsx)(ge.a.Column,{width:"5",children:Object(n.jsx)("h5",{children:"See Photo Preview"})}),Object(n.jsx)(ge.a.Column,{width:"10",children:Object(n.jsx)("img",{id:"image",src:t.photo,className:"AccPreviewImage"})})]})})]}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{className:"description",children:[Object(n.jsx)(Ce.a,{name:"pencil alternate",style:{color:"#5F5F5F"}}),t.description]}),Object(n.jsxs)("div",{className:"description",children:[Object(n.jsx)(x.a,{floated:"right",size:"tiny",onClick:function(){return e.onClickEditAchievement(t)},id:"EditAchButton",children:"Edit"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]})]})}return Object(n.jsxs)(g.a,{className:"DefaultAchSegment",children:[Object(n.jsx)("h4",{children:"No achievements yet. Add one if you're done!"}),!e.state.addAccopen&&Object(n.jsx)(x.a,{onClick:e.onClickAddAccHandler,className:"DefaultAchAddButton",children:"Add an Achievement"})]})},e.onCloseSubmit=function(){e.setState({addAccopen:!1})},e.onSetAccSubmit=function(t){e.setState({achievement:t})},e}return Object(p.a)(a,[{key:"render",value:function(){return Object(n.jsx)(n.Fragment,{children:this.state.addAccopen?Object(n.jsx)(He,{today:this.props.today,task_id:this.props.task.id,onSubmit:this.onCloseSubmit,achievement:this.state.achievement}):this.renderTotal()})}}]),a}(s.Component),Re=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={acc_open:!1,accomplishment:null,addAccopen:!1},e.deleteTaskHandler=function(){console.log("DEBUG date send",e.props.goal,e.props.task.id),e.props.deleteTask(e.props.goal,e.props.task.id)},e.to_weekdays=function(e){switch(e){case"MONDAY":return"Mon";case"TUESDAY":return"Tue";case"WEDNESDAY":return"Wed";case"THURSDAY":return"Thu";case"FRIDAY":return"Fri";case"SATURDAY":return"Sat";case"SUNDAY":return"Sun"}},e.accOpenHandler=Object(Z.a)(Q.a.mark((function t(){return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e.state.acc_open){t.next=6;break}return t.next=3,e.props.get_achievements_of_task(e.props.task.id);case 3:e.setState({acc_open:!0}),t.next=7;break;case 6:e.setState({acc_open:!1});case 7:case"end":return t.stop()}}),t)}))),e}return Object(p.a)(a,[{key:"toRecString",value:function(e){var t,a=this,n="",s=e.map((function(e){return a.to_weekdays(e)})),o=Object(Se.a)(s);try{for(o.s();!(t=o.n()).done;){n=n+t.value+", "}}catch(r){o.e(r)}finally{o.f()}return n.substring(0,n.length-2)}},{key:"isRecurrent",value:function(e){return 0==e.length?Object(n.jsx)(x.a.Group,{size:"tiny",floated:"right",children:Object(n.jsx)(x.a,{icon:!0,className:"TaskBarButton",onClick:this.deleteTaskHandler,children:Object(n.jsx)(Ce.a,{name:"x"})})}):Object(n.jsxs)(x.a.Group,{size:"tiny",floated:"right",id:"Recurrent",children:[Object(n.jsx)(x.a,{icon:!0,className:"TaskBarButton",children:Object(n.jsx)(Ce.a,{name:"redo"})}),Object(n.jsx)(x.a,{icon:!0,className:"TaskBarButton",id:"X",onClick:this.deleteTaskHandler,children:Object(n.jsx)(Ce.a,{name:"x"})})]})}},{key:"render",value:function(){var e=this,t=this.props.task,a=t.title,s=(t.id,t.deadline,t.day_of_week);return console.log("[DEBUG] TaskBarComponent is rendering. task: ",this.props.task),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(Ge.a.Item,{className:"TaskBarListItem",children:[Object(n.jsx)(Ge.a.Content,{floated:"right",children:this.isRecurrent(s)}),Object(n.jsxs)(Ge.a.Content,{className:"TaskBarListContent",children:[Object(n.jsx)(x.a,{icon:!0,className:"TaskBarListTriangle",onClick:function(){return e.accOpenHandler()},children:Object(n.jsx)(Ce.a,{name:"right triangle"})}),a]})]}),this.state.acc_open&&Object(n.jsx)(Pe,{task:this.props.task,today:this.props.today,achievements:this.props.achievements})]})}}]),a}(s.Component),ze=Object(i.c)((function(e){return{achievements:Object.values(e.achievement)}}),{deleteTask:le,get_achievements_of_task:de})(Re),We=(a(620),a(621),a(76)),Ve=function(e){var t=Object(O.a)(),a=(t.register,t.handleSubmit),s=t.watch,r=(t.errors,t.reset),c=Object(i.d)();s();var l=o.a.useState(2),d=Object(m.a)(l,2),u=d[0],h=d[1],p=o.a.useState([]),j=Object(m.a)(p,2),b=j[0],x=j[1],v=o.a.useState(""),y=Object(m.a)(v,2),k=y[0],C=y[1],D=o.a.useState(new Date),w=Object(m.a)(D,2),T=w[0],A=w[1],_=o.a.useState(new Date),G=Object(m.a)(_,2),S=G[0],E=G[1];return Object(n.jsx)(f.a,{onSubmit:a((function(t,a){var n,s=Ae()(S).startOf("day").unix()+86399,o=Ae()(T).startOf("day").unix(),i=new FormData;i.append("title",k),i.append("goal_id",e.goal_id),b.forEach((function(e){i.append("day_of_week",e)})),i.append("start_at",o),i.append("deadline",s),i.append("importance",u),c((n=i,function(){var e=Object(Z.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.a.post("/api/v1/tasks/",n,{headers:{"Content-Type":"multipart/form-data"}});case 2:a=e.sent,console.log("addTask res.data: ",a.data),t((s=a.data,{type:I,payload:{id:s.id,user:s.user,goal:s.goal,title:s.title,importance:s.importance,day_of_week:s.day_of_week,start_at:s.start_at,deadline:s.deadline}})),t(re()),t(ce(a.data));case 7:case"end":return e.stop()}var s}),e)})));return function(t){return e.apply(this,arguments)}}())),r()}),(function(e,t){return console.log(e,t)})),children:Object(n.jsxs)(g.a,{className:"AddTaskForm",id:"AddTaskFormSegment",children:[Object(n.jsx)("h3",{children:"\xa0 Add Task"}),Object(n.jsx)(f.a.Group,{widths:"equal",children:Object(n.jsx)(f.a.Input,{label:"Title",placeholder:"Enter task title",onChange:function(e,t){return C(t.value)},id:"AddTaskFormTitle"})}),Object(n.jsxs)(f.a.Group,{children:[Object(n.jsx)(f.a.Select,{multiple:!0,selection:!0,label:"Day of Week",id:"AddTaskFormDayofWeek",options:[{key:"m",text:"Monday",value:"MONDAY"},{key:"t",text:"Tuesday",value:"TUESDAY"},{key:"w",text:"Wednesday",value:"WEDNESDAY"},{key:"th",text:"Thursday",value:"THURSDAY"},{key:"f",text:"Friday",value:"FRIDAY"},{key:"s",text:"Saturday",value:"SATURDAY"},{key:"su",text:"Sunday",value:"SUNDAY"}],onChange:function(e,t){return x(t.value)},placeholder:"Day of Week"}),Object(n.jsx)(We.DateInput,{id:"AddTaskFormStartAt",label:"Start at",name:"start_at",placeholder:"Date",value:Ae()(T).format("YYYY-MM-DD"),iconPosition:"left",dateFormat:"YYYY-MM-DD",onChange:function(t,a){a.name;var n=a.value;console.log(Ae()(n)),console.log(e.goal_start_at),Ae()(n).unix()<e.goal_start_at?(window.alert("task start date cannot be earlier than goal start date. Goal start date will be set."),A(Ae.a.unix(e.goal_start_at).format("YYYY-MM-DD")),E(Ae.a.unix(e.goal_start_at).format("YYYY-MM-DD"))):(A(Ae()(n)),E(Ae()(n)))}}),Object(n.jsx)(We.DateInput,{id:"AddTaskFormDeadline",label:"Deadline",name:"deadline",placeholder:"Date",value:Ae()(S).format("YYYY-MM-DD"),iconPosition:"left",dateFormat:"YYYY-MM-DD",onChange:function(t,a){a.name;var n=a.value;Ae()(n).unix()>e.goal_deadline?(window.alert("task deadline cannot be later than goal deadline. Goal deadline will be set."),E(Ae.a.unix(e.goal_deadline).format("YYYY-MM-DD"))):(console.log("DEBUG in addtask:",Ae()(n)),E(Ae()(n)))},disabled:0==b.length})]}),Object(n.jsxs)(f.a.Group,{inline:!0,children:[Object(n.jsx)("label",{children:"Importance"}),Object(n.jsx)(Ye.a,{name:"simple-controlled",size:"large",id:"AddTaskFormImportance",value:u,onChange:function(e,t){h(t)}})]}),Object(n.jsx)(f.a.Button,{className:"AddTaskSubmitButton",children:"Submit"})]})})},Ke=function(e){var t=Object(i.e)((function(e){return e.modal.addTask}));return Object(n.jsx)(g.a,{className:"SegmentAddTask",id:"SegmentAddTaskModal",children:Object(n.jsx)(me,{isOpen:t,className:"SegmentAddTask",children:Object(n.jsx)("div",{className:"modal-container small-container modal-addTask",children:Object(n.jsx)("div",{className:"modal__body",children:Object(n.jsx)(Ve,{goal_id:e.goal_id,goal_deadline:e.goal_deadline,goal_start_at:e.goal_start_at})})})})})},qe=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={tasks:e.props.goal.tasks,selectedDate:null,addTaskModal:!1,showAll:!1},e.onClickEditGoalHandler=Object(Z.a)(Q.a.mark((function t(){return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getGoal(e.props.goal.id);case 2:u.push("/edit");case 3:case"end":return t.stop()}}),t)}))),e.onClickDeleteHandler=function(){window.confirm("Tasks and achievements of this goal will be lost. Are you sure?")&&e.props.deleteGoal(e.props.goal.id)},e.onClickAddTaskHandler=function(){e.setState({addTaskModal:!0}),e.props.openAddTaskModal()},e.startAtDate=function(e){return Ae.a.unix(e).format("MMM Do YYYY")},e.deadlineDate=function(e){return Ae.a.unix(e).format("MMM Do YYYY")},e.to_weekdays=function(e){switch(e){case 1:return"MONDAY";case 2:return"TUESDAY";case 3:return"WEDNESDAY";case 4:return"THURSDAY";case 5:return"FRIDAY";case 6:return"SATURDAY";case 0:return"SUNDAY"}},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this;console.log("GoalBodyComponent this.props.goal: ",this.props.goal);var t=this.props.goal,a=t.title,s=t.id,o=t.deadline,r=t.start_at,c=(t.tags,t.tasks),i=Ae()(this.props.today).startOf("day").unix(),l=c.reduce((function(e,t){return t.start_at<=i&&t.deadline>=i&&e.push(t),e}),[]).reduce((function(t,a){if(0==a.day_of_week.length)t.push(a);else{console.log(Ae()(e.props.today).weekday());var n=e.to_weekdays(Ae()(e.props.today).weekday());a.day_of_week.includes(n)&&t.push(a)}return t}),[]),d=[];return d=this.state.showAll?c.map((function(t){return Object(n.jsx)(ze,{task:t,goal:e.props.goal.id,today:e.props.today},t.id)})):l.map((function(t){return Object(n.jsx)(ze,{task:t,goal:e.props.goal.id,today:e.props.today},t.id)})),Object(n.jsxs)(g.a,{className:"GoalBodySegment",children:[Object(n.jsx)(Ge.a,{className:"GoalBodyTitleList",children:Object(n.jsxs)(Ge.a.Item,{className:"GoalBodyListItem",children:[Object(n.jsx)(Ce.a,{name:"circle",className:"GoalBodyListIcon",size:"small"}),Object(n.jsxs)(Ge.a.Content,{className:"GoalBodyListTitle",children:[Object(n.jsxs)(Ge.a.Header,{className:"GoalBodyListTitleHeader",children:[a,Object(n.jsx)(x.a,{floated:"right",size:"tiny",toggle:!0,active:this.state.showAll,onClick:function(){e.setState({showAll:!e.state.showAll})},id:"showAllTaskButton",children:"Show All Tasks"})]}),Object(n.jsxs)("div",{className:"GoalBodyListDeadline",children:["From ",this.startAtDate(r),", Until ",this.deadlineDate(o)]})]})]})}),Object(n.jsx)(Ge.a,{className:"GoalBodyListwithTask",celled:!0,children:d}),Object(n.jsxs)(Ge.a.Item,{children:[Object(n.jsxs)(x.a.Group,{className:"DeleteGoalButtonGroupAnother",floated:"left",children:[Object(n.jsx)(x.a,{size:"tiny",compact:!0,icon:!0,className:"EditGoalButtonA",id:"EditButtonGoalBody",onClick:function(){return e.onClickEditGoalHandler()},children:Object(n.jsx)(Ce.a,{name:"edit"})}),Object(n.jsx)(x.a,{size:"tiny",compact:!0,icon:!0,className:"DeleteGoalButtonA",id:"DeleteButtonGoalBody",onClick:function(){return e.onClickDeleteHandler()},children:Object(n.jsx)(Ce.a,{name:"trash"})})]}),Object(n.jsx)(x.a,{circular:!0,onClick:function(){return e.onClickAddTaskHandler()},floated:"right",icon:"add",size:"tiny",className:"GoalBodyAddButton",id:"AddButtonGoalBody"})]}),this.state.addTaskModal&&this.props.isAddTaskModalOpen&&Object(n.jsx)(Ke,{goal_id:s,goal_deadline:o,goal_start_at:r}),Object(n.jsx)("br",{})]})}}]),a}(s.Component),Xe=Object(i.c)((function(e){return console.log(e),{isAddTaskModalOpen:e.modal.addTask}}),{openAddTaskModal:function(){return{type:w,payload:null}},deleteGoal:oe,getGoal:ne})(qe),Je=(a(654),function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={today:new Date},e.onDeadlineSubmit=function(t){e.setState({today:t})},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.props.onGetAllGoals()}},{key:"selectTodayGoals",value:function(){var e=Ae()(this.state.today).unix();return console.log("selectTodayGoals this.props.goalList: ",this.props.goalList),this.props.goalList.filter((function(t){return t.start_at<=e&&e<=t.deadline}))}},{key:"render",value:function(){var e=this,t=this.selectTodayGoals().map((function(t){return Object(n.jsx)(Xe,{goal:t,today:e.state.today},t.id)}));return console.log("[DEBUG] GoalListComponent is rendering"),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"menubar",children:[console.log(this.props),Object(n.jsx)(De,{})]}),Object(n.jsx)("div",{className:"calendarpanel",children:Object(n.jsx)(_e,{onSubmit:this.onDeadlineSubmit})}),Object(n.jsxs)("div",{className:"goallist",children:[Object(n.jsx)("h2",{className:"componentTitle",children:"What's for today?"}),t]})]})}}]),a}(s.Component)),Qe=Object(i.c)((function(e){return console.log("goalList: ",e.goal.goals),{goalList:e.goal.goals}}),(function(e){return{onGetAllGoals:function(){return e(ae())}}}))(Je),Ze=a(43),$e=a(49),et=a(200),tt=(a(655),function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={title:"",file:null,fileName:"",upload:!1,deadline:new Date,start_at:new Date,tags:[],tagOptions:[],isCreating:!1},e.fileChange=function(t){t.target.files&&e.setState({file:t.target.files[0],fileName:t.target.files[0].name,upload:!0},(function(){console.log("File chosen ---\x3e",e.state.file,console.log("File name  ---\x3e",e.state.fileName))}))},e.handleChangeStart=function(t,a){var n=a.name,s=a.value;e.setState(Object(Ze.a)({},n,s))},e.handleChangeDeadline=function(t,a){var n=a.name,s=a.value;e.setState(Object(Ze.a)({},n,s))},e}return Object(p.a)(a,[{key:"renderTitle",value:function(){var e=this;return Object(n.jsxs)(f.a.Field,{children:[Object(n.jsx)("label",{children:"Goal Title"}),Object(n.jsx)(Fe.a,{placeholder:"Enter Title Here",className:"CreateGoalTitle",onChange:function(t){return e.setState({title:t.target.value})}})]})}},{key:"renderPhoto",value:function(){this.state.statusCode;return Object(n.jsx)(g.a,{children:Object(n.jsxs)(f.a.Field,{children:[Object(n.jsx)("label",{id:"PhotoInput",children:"Add Goal Photo"}),Object(n.jsxs)(x.a,{as:"label",htmlFor:"file",type:"button",animated:"fade",children:[Object(n.jsx)(x.a.Content,{visible:!0,children:Object(n.jsx)(Ce.a,{name:"file"})}),Object(n.jsx)(x.a.Content,{hidden:!0,children:"Choose a File"})]}),Object(n.jsx)("input",{type:"file",id:"file",className:"GoalPhoto",hidden:!0,onChange:this.fileChange}),Object(n.jsx)(f.a.Input,{fluid:!0,label:"Photo Chosen ",placeholder:"Use the above bar to browse your file system",readOnly:!0,value:this.state.fileName}),Object(n.jsx)(x.a,{style:{marginTop:"7px"},onClick:this.fileChange,id:"UploadPhotoButton",children:" Upload "})]})})}},{key:"renderDeadline",value:function(){return Object(n.jsx)(g.a,{children:Object(n.jsx)($e.a,{children:Object(n.jsxs)(ge.a,{columns:"two",textAlign:"center",className:"DeadlineGrid",children:[Object(n.jsx)(ge.a.Column,{width:5,children:Object(n.jsx)(We.DateInput,{id:"GoalFormStart",label:"Starting From",name:"start_at",placeholder:"Date",value:Ae()(this.state.start_at).format("YYYY-MM-DD"),iconPosition:"left",dateFormat:"YYYY-MM-DD",onChange:this.handleChangeStart})}),Object(n.jsx)(ge.a.Column,{width:5,children:Object(n.jsx)(We.DateInput,{id:"GoalFormDeadline",label:"Deadline",name:"deadline",placeholder:"Date",value:Ae()(this.state.deadline).format("YYYY-MM-DD"),iconPosition:"left",dateFormat:"YYYY-MM-DD",onChange:this.handleChangeDeadline})})]})})})}},{key:"onTagsChanged",value:function(e){this.setState({tags:e})}},{key:"addTagOptions",value:function(e,t){var a=this.state.tagOptions;a.push({key:t.value,text:t.value,value:t.value}),console.log(a),this.setState({tagOptions:a})}},{key:"setTag",value:function(e){this.onTagsChanged(e.value)}},{key:"renderTag",value:function(){var e=this;return Object(n.jsxs)($e.a,{children:[Object(n.jsx)("label",{children:"Add Tags"}),Object(n.jsx)(et.a,{placeholder:"add goal tags here",search:!0,selection:!0,clearable:!0,multiple:!0,allowAdditions:!0,fluid:!0,onAddItem:function(t,a){return e.addTagOptions(t,a)},onChange:function(t,a){return e.setTag(a)},options:this.state.tagOptions,className:"GoalDropDown"})]})}},{key:"onClickHandler",value:function(){var e=new FormData;e.append("title",this.state.title);var t=Ae()(this.state.start_at).startOf("day").unix(),a=Ae()(this.state.deadline).startOf("day").unix()+86399;console.log("Modified deadline: ",Ae.a.unix(t).format("MMMM Do YYYY, h:mm:ss a")),e.append("start_at",t),e.append("deadline",a);var n,s=Object(Se.a)(this.state.tags);try{for(s.s();!(n=s.n()).done;){var o=n.value;e.append("tags",o)}}catch(r){s.e(r)}finally{s.f()}console.log("Create goal data.get('tags'): ",e.get("tags")),this.props.addGoal(e,this.state.file),this.setState({isCreating:!0})}},{key:"render",value:function(){var e=this;return Object(n.jsxs)(Ie.a,{className:"spinner",active:this.state.isCreating,spinner:!0,text:"Creating a new goal...",children:[Object(n.jsx)("div",{className:"menubar",children:Object(n.jsx)(De,{})}),Object(n.jsxs)("div",{className:"FormCreate",children:[Object(n.jsx)("h2",{id:"header",children:"Add a Goal"}),Object(n.jsxs)(f.a,{id:"FormCreateForm",children:[this.renderTitle(),this.renderPhoto(),this.renderDeadline(),this.renderTag(),Object(n.jsx)(x.a,{floated:"right",children:"Go Back"}),Object(n.jsx)(x.a,{onClick:function(){return e.onClickHandler()},floated:"right",className:"GoalSubmitButton",children:"Confirm"})]})]})]})}}]),a}(s.Component)),at=Object(i.c)(null,{addGoal:function(e,t){return function(){var a=Object(Z.a)(Q.a.mark((function a(n){var s,o,r,c;return Q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s="https://goalingball-test.s3.amazonaws.com/",console.log("[DEBUG] addGoal formData: ",e),!t){a.next=15;break}return a.next=5,ee.a.get("/api/v1/uploads/");case 5:return o=a.sent,console.log("[DEBUG] response.data in addGoal: ",o),a.next=9,ee.a.put(o.data.url,t,{headers:{"Content-Type":"image/jpeg"}});case 9:a.sent,r=s+o.data.key,console.log("[DEBUG] imageUrl: ",r),e.append("photo",r),a.next=16;break;case 15:console.log("[DEBUG] no file found in addGoal");case 16:return a.next=18,ee.a.post("/api/v1/goals/",e,{headers:{"Content-Type":"multipart/form-data"}});case 18:c=a.sent,console.log("[DEBUG] res from server when adding goal: ",c.data),n((i=c.data,{type:E,payload:i})),u.push("/main");case 22:case"end":return a.stop()}var i}),a)})));return function(e){return a.apply(this,arguments)}}()}})(Object(l.e)(tt)),nt=(a(656),a(657),function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={title:"",file:null,fileName:"",upload:!1,deadline:new Date,start_at:new Date,tags:[],tagOptions:[],isEditing:!1},e.fileChange=function(t){t.target.files&&e.setState({file:t.target.files[0],fileName:t.target.files[0].name,upload:!0},(function(){console.log("File chosen ---\x3e",e.state.file,console.log("File name  ---\x3e",e.state.fileName))}))},e.handleChangeStart=function(t,a){var n=a.name,s=a.value;e.setState(Object(Ze.a)({},n,s))},e.handleChangeDeadline=function(t,a){var n=a.name,s=a.value;e.setState(Object(Ze.a)({},n,s))},e.onClickHandler=function(){var t={};console.log("EditGoalComponent this.state.title: ",e.state.title),console.log("EditGoalComponent this.props.selectedGoal.photo: ",e.props.selectedGoal.photo),t.title=e.state.title;var a=Ae()(e.state.start_at).startOf("day").unix(),n=Ae()(e.state.deadline).startOf("day").unix()+86399;t.start_at=a,t.deadline=n,t.tags=e.state.tags,e.props.selectedGoal.photo&&(t.photo=e.props.selectedGoal.photo),console.log("[DEBUG] EditGoalComponent formData: ",t),e.props.editGoal(e.props.selectedGoal.id,t,e.state.file),e.setState({isEditing:!0})},e}return Object(p.a)(a,[{key:"renderDefaultDate",value:function(){var e=Ae.a.unix(this.props.selectedGoal.start_at).format("YYYY-MM-DD"),t=Ae.a.unix(this.props.selectedGoal.deadline).format("YYYY-MM-DD");this.setState({start_at:e,deadline:t})}},{key:"renderDefaultTagOptions",value:function(){console.log("CALLED");var e=[],t=[];this.props.selectedGoal.tags.map((function(a){e.push({key:a,text:a,value:a}),t.push(a)})),this.setState({tagOptions:e,tags:t}),console.log("[DEBUG] tagOptions",this.state.tagOptions),console.log("[DEBUG] tags",this.state.tags)}},{key:"componentWillMount",value:function(){this.renderDefaultTagOptions()}},{key:"componentDidMount",value:function(){this.setState({title:this.props.selectedGoal.title}),this.renderDefaultDate()}},{key:"renderTitle",value:function(){var e=this;return Object(n.jsxs)(f.a.Field,{children:[Object(n.jsx)("label",{children:"Goal Title"}),Object(n.jsx)(Fe.a,{placeholder:"Enter Title Here",defaultValue:this.props.selectedGoal.title,onChange:function(t){return e.setState({title:t.target.value})},id:"EditGoalFormTitle"})]})}},{key:"renderPhoto",value:function(){this.state.statusCode;return Object(n.jsx)(g.a,{children:Object(n.jsxs)(f.a.Field,{children:[Object(n.jsx)("label",{id:"PhotoInput",children:"Add Goal Photo"}),Object(n.jsxs)(x.a,{as:"label",htmlFor:"file",type:"button",animated:"fade",children:[Object(n.jsx)(x.a.Content,{visible:!0,children:Object(n.jsx)(Ce.a,{name:"file"})}),Object(n.jsx)(x.a.Content,{hidden:!0,children:"Choose a File"})]}),Object(n.jsx)("input",{type:"file",id:"file",className:"EditGoalPhoto",hidden:!0,onChange:this.fileChange}),Object(n.jsx)(f.a.Input,{fluid:!0,label:"Photo Chosen ",placeholder:"Upload to edit goal photo",readOnly:!0,value:this.state.fileName}),Object(n.jsx)(x.a,{style:{marginTop:"7px"},onClick:this.fileChange,id:"UploadPhotoButton",children:" Upload "})]})})}},{key:"renderDeadline",value:function(){return Object(n.jsx)(g.a,{children:Object(n.jsx)($e.a,{children:Object(n.jsxs)(ge.a,{columns:"two",textAlign:"center",className:"DeadlineGrid",children:[Object(n.jsx)(ge.a.Column,{width:5,children:Object(n.jsx)(We.DateInput,{id:"GoalFormStart",label:"Starting From",name:"start_at",placeholder:"Date",value:Ae()(this.state.start_at).format("YYYY-MM-DD"),iconPosition:"left",dateFormat:"YYYY-MM-DD",onChange:this.handleChangeStart})}),Object(n.jsx)(ge.a.Column,{width:5,children:Object(n.jsx)(We.DateInput,{id:"GoalFormDeadline",label:"Deadline",name:"deadline",placeholder:"Date",value:Ae()(this.state.deadline).format("YYYY-MM-DD"),iconPosition:"left",dateFormat:"YYYY-MM-DD",onChange:this.handleChangeDeadline})})]})})})}},{key:"onTagsChanged",value:function(e){this.setState({tags:e})}},{key:"addTagOptions",value:function(e,t){var a=this.state.tagOptions;a.push({key:t.value,text:t.value,value:t.value}),console.log(a),this.setState({tagOptions:a})}},{key:"setTag",value:function(e){this.onTagsChanged(e.value)}},{key:"renderTag",value:function(){var e=this;return Object(n.jsxs)($e.a,{children:[Object(n.jsx)("label",{children:"Add Tags"}),Object(n.jsx)(et.a,{placeholder:"add goal tags here",search:!0,selection:!0,clearable:!0,multiple:!0,allowAdditions:!0,fluid:!0,onAddItem:function(t,a){return e.addTagOptions(t,a)},onChange:function(t,a){return e.setTag(a)},options:this.state.tagOptions,className:"GoalDropDown"})]})}},{key:"onTagsChanged",value:function(e){console.log("tag changing"),this.setState({tags:e}),console.log(this.state.tags)}},{key:"addTagOptions",value:function(e,t){var a=this.state.tagOptions;a.push({key:t.value,text:t.value,value:t.value}),this.setState({tagOptions:a})}},{key:"setTag",value:function(e){console.log("DEBUG: data change",e.value),this.onTagsChanged(e.value)}},{key:"renderTag",value:function(){var e=this;return Object(n.jsxs)($e.a,{children:[Object(n.jsx)("label",{children:"Add Tags"}),Object(n.jsx)(et.a,{search:!0,selection:!0,clearable:!0,multiple:!0,allowAdditions:!0,fluid:!0,defaultValue:this.state.tags,onAddItem:function(t,a){return e.addTagOptions(t,a)},onChange:function(t,a){return e.onTagsChanged(a.value)},options:this.state.tagOptions})]})}},{key:"render",value:function(){return console.log("selected goal: ",this.props.selectedGoal),Object(n.jsx)("div",{className:"EditGoalForm",children:Object(n.jsx)(Ie.a,{active:this.state.isEditing,spinner:!0,text:"Editing a new goal...",children:Object(n.jsx)("div",{children:Object(n.jsxs)(f.a,{className:"EditGoalForm",children:[this.renderTitle(),this.renderPhoto(),this.renderDeadline(),this.renderTag(),Object(n.jsx)(x.a,{floated:"right",children:"Go Back"}),Object(n.jsx)(x.a,{onClick:this.onClickHandler,floated:"right",className:"ConfirmButton",id:"ConfirmButtonEditGoalForm",children:"Confirm"})]})})})})}}]),a}(s.Component)),st=Object(i.c)(null,{editGoal:function(e,t,a){return function(){var n=Object(Z.a)(Q.a.mark((function n(s){var o,r,c,i,l,d,h;return Q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("[DEBUG] editGoal data: ",t),!a){n.next=21;break}if(o="https://goalingball-test.s3.amazonaws.com/",r="",!("photo"in t)){n.next=9;break}c=new RegExp(o),r=t.photo.replace(c,""),n.next=13;break;case 9:return n.next=11,ee.a.get("/api/v1/uploads/");case 11:i=n.sent,r=i.data.key;case 13:return n.next=15,ee.a.put("/api/v1/uploads/",{key:r});case 15:return l=n.sent,n.next=18,ee.a.put(l.data.url,a,{headers:{"Content-Type":"image/jpeg"}});case 18:n.sent,d=o+l.data.key,t.photo=d;case 21:return console.log("Edit goal data: ",t),n.next=24,ee.a.put("/api/v1/goals/".concat(e,"/"),t,{headers:{"Content-Type":"application/json"}});case 24:h=n.sent,s(se(h.data)),u.push("/main");case 27:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})(nt),ot=(a(658),function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={editmode:!1,readmode:!0,title:e.props.task.title,importance:e.props.task.importance,day_of_week:e.props.task.day_of_week,start_at:e.props.task.start_at,deadline:e.props.task.deadline},e.onClickEditTaskHandler=function(){var t=!e.state.editmode,a=!e.state.readmode;e.setState({editmode:t,readmode:a})},e.onClickDeleteTaskHandler=function(){var t=e.props.task.id,a=e.props.task.goal_id;e.props.deleteTask(a,t)},e.deadlineDate=function(e){return Ae.a.unix(e).format("MMM Do YYYY")},e.startAtDate=function(e){return Ae.a.unix(e).format("MMM Do YYYY")},e.renderDeadlineString=function(t,a,s){var o="From ";if(o=o+e.startAtDate(a)+", Until "+e.deadlineDate(s),0!==t.length){var r,c="On every ",i=Object(Se.a)(t);try{for(i.s();!(r=i.n()).done;){var l=r.value;c=c+(l=(l=l.toLowerCase()).charAt(0).toUpperCase()+l.slice(1))+", "}}catch(d){i.e(d)}finally{i.f()}return c=c.slice(0,c.length-2),Object(n.jsxs)("div",{className:"TaskBodyListDeadline",children:[o,Object(n.jsx)("br",{}),c]})}return Object(n.jsx)("div",{className:"TaskBodyListDeadline",children:o})},e.onSubmit=function(t){var a={title:e.state.title,importance:e.state.importance,day_of_week:e.state.day_of_week,start_at:1e3*Ae()(e.state.start_at).unix(),deadline:1e3*Ae()(e.state.deadline).unix()};console.log("Edit task data: ",a),e.props.editTask(e.props.task.id,a);var n=!e.state.editmode,s=!e.state.readmode;e.setState({editmode:n,readmode:s})},e.closeHandler=function(){var t=!e.state.editmode,a=!e.state.readmode;e.setState({editmode:t,readmode:a})},e.handleChangeStartAt=function(t,a){var n=a.value;Ae()(n)<Ae.a.unix(e.props.goal_start_at)?(window.alert("task start date cannot be earlier than goal start date. Goal start date will be set."),e.setState({start_at:e.props.goal_start_at})):e.setState({start_at:Ae()(n).unix()})},e.handleChangeDeadline=function(t,a){var n=a.value;Ae()(n)>Ae.a.unix(e.props.goal_deadline)?(window.alert("Task deadline cannot be longer than goal deadline. Goal deadline will be set."),e.setState({deadline:e.props.goal_deadline})):e.setState({deadline:Ae()(n).unix()})},e.renderEditMode=function(){return Object(n.jsx)(f.a,{children:Object(n.jsxs)(g.a,{className:"EditTaskForm",id:"EditTaskFormSegment",children:[Object(n.jsxs)("h3",{children:["Edit: ",e.state.title]}),Object(n.jsx)(f.a.Group,{widths:"equal",children:Object(n.jsx)(f.a.Input,{label:"Title",placeholder:"Enter task title",onChange:function(t,a){return e.setState({title:a.value})},id:"EditTaskFormTitle",defaultValue:e.state.title})}),Object(n.jsxs)(f.a.Group,{children:[Object(n.jsx)(f.a.Select,{multiple:!0,selection:!0,label:"Day of Week",id:"EditTaskFormDayofWeek",options:[{key:"m",text:"Monday",value:"MONDAY"},{key:"t",text:"Tuesday",value:"TUESDAY"},{key:"w",text:"Wednesday",value:"WEDNESDAY"},{key:"th",text:"Thursday",value:"THURSDAY"},{key:"f",text:"Friday",value:"FRIDAY"},{key:"s",text:"Saturday",value:"SATURDAY"},{key:"su",text:"Sunday",value:"SUNDAY"}],defaultValue:e.props.task.day_of_week,onChange:function(t,a){return e.setState({day_of_week:a.value})},placeholder:"Day of Week"}),Object(n.jsx)(We.DateInput,{label:"Start At",id:"EditTaskFormDeadline",name:"start_at",placeholder:"Date",value:Ae.a.unix(e.state.start_at).format("YYYY-MM-DD"),iconPosition:"left",dateFormat:"YYYY-MM-DD",onChange:e.handleChangeStartAt}),Object(n.jsx)(We.DateInput,{label:"Deadline",id:"EditTaskFormDeadline",name:"deadline",placeholder:"Date",value:Ae.a.unix(e.state.deadline).format("YYYY-MM-DD"),iconPosition:"left",dateFormat:"YYYY-MM-DD",onChange:e.handleChangeDeadline})]}),Object(n.jsxs)(f.a.Group,{inline:!0,children:[Object(n.jsx)("label",{children:"Importance"}),Object(n.jsx)(Ye.a,{name:"simple-controlled",size:"large",id:"EditTaskFormImportance",value:e.state.importance,onChange:function(t,a){e.setState({importance:a})}})]}),Object(n.jsxs)(x.a.Group,{children:[Object(n.jsx)(x.a,{className:"EditTaskSubmitButton",id:"EditTaskSubmit",onClick:e.onSubmit,children:"Submit"}),Object(n.jsx)(x.a,{icon:!0,className:"EditTaskCloseButton",id:"EditTaskClose",onClick:e.closeHandler,children:Object(n.jsx)(Ce.a,{name:"x"})})]})]})})},e.renderReadMode=function(){var t=e.props.task;t.title,t.deadline,t.importance,t.day_of_week;return Object(n.jsxs)(g.a,{className:"TaskBodySegment",children:[Object(n.jsx)(Ge.a,{className:"TaskBodyTitleList",children:Object(n.jsxs)(Ge.a.Item,{className:"TaskBodyListItem",children:[Object(n.jsx)(Ce.a,{name:"circle",className:"TaskBodyListIcon",size:"small"}),Object(n.jsxs)(Ge.a.Content,{className:"TaskBodyListTitle",children:[Object(n.jsxs)(Ge.a.Header,{className:"TaskBodyListTitleHeader",children:[e.state.title,Object(n.jsx)(Ye.a,{className:"TaskBodyListRating",name:"simple-controlled",size:"small",id:"AddTaskFormImportance",value:e.state.importance,readOnly:!0})]}),e.renderDeadlineString(e.state.day_of_week,e.state.start_at,e.state.deadline)]})]})}),Object(n.jsx)(Ge.a.Item,{children:Object(n.jsxs)(x.a.Group,{className:"DeleteTaskButtonGroupAnother",floated:"right",children:[Object(n.jsxs)(x.a,{size:"tiny",compact:!0,icon:!0,className:"DeleteTaskButtonA",id:"DeleteButtonTaskBody",onClick:e.onClickDeleteTaskHandler,children:[Object(n.jsx)(Ce.a,{name:"delete"}),"\xa0Delete"]}),Object(n.jsxs)(x.a,{size:"tiny",compact:!0,icon:!0,className:"EditTaskButtonA",id:"EditButtonTaskBody",onClick:function(){return e.onClickEditTaskHandler()},children:[Object(n.jsx)(Ce.a,{name:"edit"}),"\xa0Edit"]})]})}),Object(n.jsx)("br",{})]})},e}return Object(p.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[this.state.readmode&&this.renderReadMode(),this.state.editmode&&this.renderEditMode()]})}}]),a}(s.Component)),rt=Object(i.c)(null,{editTask:function(e,t){return function(){var a=Object(Z.a)(Q.a.mark((function a(n){var s;return Q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ee.a.put("api/v1/tasks/".concat(e,"/"),t,{headers:{"Content-Type":"application/json"}});case 2:s=a.sent,console.log("edit task res.data: ",s.data),n({type:H,payload:s.data}),n({type:B,payload:s.data});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},deleteTask:le})(ot),ct=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e,t=this;return e=this.props.tasks.map((function(e){return Object(n.jsx)(rt,{task:e,goal_start_at:t.props.goal_start_at,goal_deadline:t.props.goal_deadline},e.id)})),Object(n.jsxs)("div",{className:"EditTaskComp",children:[console.log("DEBUG: tasks info",this.props.tasks),e]})}}]),a}(s.Component),it=(a(659),function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={editGoal:!1},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"EditPage",children:[Object(n.jsx)("div",{className:"menubar",children:Object(n.jsx)(De,{})}),Object(n.jsxs)("div",{className:"EditGoalTaskTab",children:[Object(n.jsxs)(x.a.Group,{className:"EditGoalTaskButtonGroup",children:[Object(n.jsx)(x.a,{className:"EditTaskTabButton",onClick:function(){return e.setState({editGoal:!1})},children:"Edit Tasks"}),Object(n.jsx)(x.a,{className:"EditGoalTabButton",onClick:function(){return e.setState({editGoal:!0})},children:"Edit Goal"})]}),this.state.editGoal?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h2",{children:"Edit a Goal"}),Object(n.jsx)(st,{selectedGoal:this.props.selectedGoal})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h2",{children:"Edit Tasks"}),this.props.selectedGoal?"":u.push("/main"),null!==this.props.selectedGoal&&this.props.selectedGoal.tasks.length>0?Object(n.jsx)(ct,{goal_start_at:this.props.selectedGoal.start_at,goal_deadline:this.props.selectedGoal.deadline,tasks:this.props.selectedGoal.tasks}):Object(n.jsx)("h5",{children:'"Please add tasks first!"'})]})]})]})}}]),a}(s.Component)),lt=Object(i.c)((function(e){return console.log("EditPageComponent selectedGoal: ",e.goal.selectedGoal),{selectedGoal:e.goal.selectedGoal}}),null)(it),dt=(a(660),a(442)),ut=(a(669),function(e){var t=e.metric,a=[{y:t},{y:100-t}],o=Object(s.useState)([{y:0},{y:100}]),r=Object(m.a)(o,2),c=r[0],i=r[1];Object(s.useEffect)((function(){i(a)}),[]);return Object(n.jsx)("div",{className:"DashBoardPanel",children:Object(n.jsxs)(ge.a,{className:"DashBoardPanelGrid",children:[Object(n.jsx)(ge.a.Row,{children:Object(n.jsxs)(g.a,{style:{boxShadow:"none"},children:[Object(n.jsx)("h5",{children:"WordCloud of goal tags"}),Object(n.jsx)(dt.a,{className:"wordCloud",words:e.wordList,options:{rotations:2,rotationAngles:[-90,0],fontFamily:"impact",fontSizes:[12,38],fontStyle:"normal",fontWeight:"normal",colors:["#173f5f70","#20639b","#ed553b","#04837c"]}})]})}),Object(n.jsx)(ge.a.Row,{className:"goalsDoneRow",children:Object(n.jsxs)(g.a,{className:"goalsDoneSegment",style:{boxShadow:"none"},children:[Object(n.jsx)("h5",{children:"Percentage of Finished Goals"}),Object(n.jsxs)("svg",{viewBox:"0 0 500 400",children:[Object(n.jsx)(Ee.a,{standalone:!1,animate:{easing:"exp"},labelComponent:Object(n.jsx)("span",{}),width:500,height:400,data:c,innerRadius:166,colorScale:["#19B3A6","#EEEEEE"]}),Object(n.jsx)(Ne.a,{textAnchor:"middle",style:{fontSize:50},x:250,y:200,text:t+"%"})]})]})}),Object(n.jsx)(ge.a.Row,{})]})})}),ht=a(269),pt=(a(670),a(146)),jt=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={title:e.props.goal.title,url:0==e.props.goal.photo.length?"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/480px-No_image_available.svg.png":e.props.goal.photo},e.getRandomInt=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},e.renderTags=function(){return e.props.goal.tags.map((function(t){var a=e.randomColor();return Object(n.jsx)(pt.a,{horizontal:!0,style:{marginTop:"2px",marginBottom:"2px",backgroundColor:a,color:"#FFFFFF"},children:t})}))},e.randomColor=function(){switch(e.getRandomInt(0,5)){case 0:return"#24b4ab";case 1:return"#173f5f";case 2:return"#686566";case 3:return"#20639b";case 4:return"#ed553b";case 5:return"#04837c"}},e.onClickHandler=function(){u.push("/goalhistory/"+e.props.goal.id)},e.onClickEditGoalHandler=Object(Z.a)(Q.a.mark((function t(){return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getGoal(e.props.goal.id);case 2:u.push("/edit");case 3:case"end":return t.stop()}}),t)}))),e.onClickDeleteHandler=function(){window.confirm("Tasks and achievements of this goal will be lost. Are you sure?")&&e.props.deleteGoal(e.props.goal.id)},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t="url("+this.state.url+")";return Object(n.jsxs)(ht.a,{className:"DashGoalCardComp",style:{width:"210px"},children:[Object(n.jsx)(ht.a.Content,{style:{height:"180px",backgroundImage:t,backgroundSize:"cover"},children:Object(n.jsx)(ht.a.Description,{children:this.renderTags()})}),Object(n.jsx)(ht.a.Content,{header:this.props.goal.title,textAlign:"center",s:!0,style:{padding:"12px"}}),Object(n.jsxs)(ht.a.Description,{textAlign:"center",style:{color:"#807e7e",marginBottom:"2px"},children:["From ",Ae.a.unix(this.props.goal.start_at).format("MMM Do YYYY")," ",Object(n.jsx)("br",{})," Until ",Ae.a.unix(this.props.goal.deadline).format("MMM Do YYYY")]}),Object(n.jsx)(ht.a.Content,{extra:!0,children:Object(n.jsxs)(x.a.Group,{size:"tiny",children:[Object(n.jsx)(x.a,{onClick:this.onClickHandler,children:"Click for Details"}),Object(n.jsx)(x.a,{size:"tiny",compact:!0,icon:!0,onClick:function(){return e.onClickEditGoalHandler()},children:Object(n.jsx)(Ce.a,{name:"edit"})}),Object(n.jsx)(x.a,{size:"tiny",compact:!0,icon:!0,onClick:function(){return e.onClickDeleteHandler()},children:Object(n.jsx)(Ce.a,{name:"trash"})})]})})]})}}]),a}(o.a.Component),bt=Object(i.c)(null,{getGoal:ne,deleteGoal:oe})(Object(l.e)(jt)),mt=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={select:0,show:0,max:e.props.goalCardList.length/6,showOptions:[{key:1,text:"Show All",value:1},{key:2,text:"Ongoing",value:2},{key:3,text:"Finished",value:3},{key:4,text:"Future",value:4}]},e.renderShowbyTime=function(t){var a=Ae()(new Date).startOf("day").unix();switch(t){case 1:return e.props.goalCardList.map((function(e){return Object(n.jsx)(bt,{goal:e})}));case 2:return e.props.goalCardList.reduce((function(e,t){return t.start_at<=a&&t.deadline>=a&&e.push(t),e}),[]).map((function(e){return Object(n.jsx)(bt,{goal:e})}));case 3:return e.props.goalCardList.reduce((function(e,t){return t.deadline<a&&e.push(t),e}),[]).map((function(e){return Object(n.jsx)(bt,{goal:e})}));case 4:return e.props.goalCardList.reduce((function(e,t){return t.start_at>a&&e.push(t),e}),[]).map((function(e){return Object(n.jsx)(bt,{goal:e})}));default:return e.props.goalCardList.map((function(e){return Object(n.jsx)(bt,{goal:e})}))}},e.renderSelect=function(){var t=6*e.state.select;return e.renderShowbyTime(e.state.show).slice(t,t+6)},e.prevHandler=function(){e.setState({select:e.state.select-1})},e.nextHandler=function(){e.setState({select:e.state.select+1})},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"DashBoardGoalCards",children:[Object(n.jsx)("h2",{style:{paddingTop:"5px"},children:"Your Goals"}),Object(n.jsx)(et.a,{placeholder:"Filter by",search:!0,selection:!0,options:this.state.showOptions,onChange:function(t,a){return e.setState({show:a.value})},style:{border:"none",marginRight:"20px",marginLeft:"5px"}}),Object(n.jsxs)(x.a.Group,{children:[Object(n.jsx)(x.a,{size:"tiny",disabled:0==this.state.select,onClick:function(){return e.prevHandler()},icon:"angle left",className:"dashcardprev"}),Object(n.jsx)(x.a,{size:"tiny",disabled:this.state.select==Math.floor(this.state.max),onClick:function(){return e.nextHandler()},icon:"angle right",className:"dashcardnext"})]}),Object(n.jsx)(g.a,{style:{boxShadow:"none",border:"none"},children:Object(n.jsx)(ht.a.Group,{children:this.renderSelect()})})]})}}]),a}(s.Component),Ot=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).getMetric=function(){if(0==e.props.goals.length)return 0;var t=Ae()(new Date).startOf("day").unix(),a=e.props.goals.reduce((function(e,a){return a.deadline<t&&e.push(a),e}),[]);return Math.floor(100*a.length/e.props.goals.length)},e.getWordCloud=function(){var t,a=[],n=Object(Se.a)(e.props.goals);try{for(n.s();!(t=n.n()).done;){var s,o=t.value,r=Object(Se.a)(o.tags);try{for(r.s();!(s=r.n()).done;){var c=s.value,i=a.find((function(e){return e.text==c}));void 0==i?a.push({text:c,value:10}):i.value+=10}}catch(l){r.e(l)}finally{r.f()}}}catch(l){n.e(l)}finally{n.f()}return console.log("wordlist",a),a},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.props.getAllGoal()}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"dashboard",children:[Object(n.jsx)("div",{className:"menubar",children:Object(n.jsx)(De,{})}),Object(n.jsxs)(ge.a,{columns:"2",divided:!0,children:[Object(n.jsx)(Me.a,{className:"dashboardGrid",children:Object(n.jsx)(ut,{metric:this.getMetric(),wordList:this.getWordCloud()})}),Object(n.jsx)(Me.a,{children:Object(n.jsx)(mt,{goalCardList:this.props.goals})})]})]})}}]),a}(s.Component),ft=Object(i.c)((function(e){return{goals:e.goal.goals}}),{getAllGoal:ae})(Ot),gt=(a(671),function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).startAtDate=function(e){return Ae.a.unix(e).format("MMM Do YYYY")},e.deadlineDate=function(e){return Ae.a.unix(e).format("MMM Do YYYY")},e.renderTags=function(){return e.props.selectedGoal.tags.map((function(t){var a=e.randomColor();return Object(n.jsx)(Ge.a.Item,{children:Object(n.jsx)(pt.a,{horizontal:!0,style:{marginBottom:"2px",backgroundColor:a,color:"#FFFFFF"},children:t})})}))},e.getRandomInt=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},e.randomColor=function(){switch(e.getRandomInt(0,5)){case 0:return"#24b4ab";case 1:return"#173f5f";case 2:return"#686566";case 3:return"#20639b";case 4:return"#ed553b";case 5:return"#04837c"}},e}return Object(p.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"GeneralGoalInfoPanel",children:Object(n.jsx)(g.a,{style:{boxShadow:"none"},children:Object(n.jsxs)(ge.a,{row:"2",children:[Object(n.jsx)(ge.a.Row,{children:Object(n.jsx)("h2",{className:"GeneralGoalInfoTitle",children:this.props.selectedGoal.title})}),Object(n.jsxs)(ge.a.Row,{className:"GeneralGoalInfoSub",children:[Object(n.jsx)(ge.a.Column,{width:"5",children:Object(n.jsxs)("p",{style:{color:"#807e7e"},children:["From ",this.startAtDate(this.props.selectedGoal.start_at),", Until ",this.deadlineDate(this.props.selectedGoal.deadline)]})}),this.renderTags()]})]})})})}}]),a}(s.Component)),xt=(a(672),a(673),function(e){var t=Object(s.useState)(!1),a=Object(m.a)(t,2),o=a[0],r=a[1];Object(i.d)();return Object(n.jsx)(g.a,{style:{boxShadow:"none",margin:"0px",border:"none"},children:Object(n.jsxs)(ge.a,{columns:"2",style:{padding:"4px"},children:[Object(n.jsx)(ge.a.Column,{width:"2",style:{padding:"0px",alignItems:"center"},children:Object(n.jsx)(x.a,{icon:!0,style:{backgroundColor:"#FFFFFF"},onClick:function(){r(!0),e.onSelect(e.task.id)},children:Object(n.jsx)(Ce.a,{name:"check circle outline",size:"large",style:{paddingTop:"11px",paddingLeft:"20px"},className:"TaskSelect".concat(o&&"True")})})}),Object(n.jsx)(ge.a.Column,{width:"14",style:{padding:"4px"},children:Object(n.jsx)(Ge.a,{className:"TaskInfoTitleList",children:Object(n.jsx)(Ge.a.Item,{className:"TaskInfoListItem",children:Object(n.jsxs)(Ge.a.Content,{className:"TaskInfoListTitle",children:[Object(n.jsxs)(Ge.a.Header,{className:"TaskInfoListTitleHeader",style:{fontSize:"19px",paddingBottom:"15px",paddingTop:"0px"},children:[e.task.title,"\xa0\xa0\xa0",Object(n.jsx)(Ye.a,{className:"TaskInfoListRating",name:"simple-controlled",size:"small",id:"AddTaskFormImportance",value:e.task.importance})]}),function(e,t,a){var s="From ";if(s=s+function(e){return Ae.a.unix(e).format("MMM Do YYYY")}(t)+", Until "+function(e){return Ae.a.unix(e).format("MMM Do YYYY")}(a),0!==e.length){var o,r="On every ",c=Object(Se.a)(e);try{for(c.s();!(o=c.n()).done;){var i=o.value;r=r+(i=((i=i.toLowerCase()).charAt(0).toUpperCase()+i.slice(1)).slice(0,3))+", "}}catch(l){c.e(l)}finally{c.f()}return r=r.slice(0,r.length-2),Object(n.jsxs)("p",{style:{fontSize:"14px",color:"#807d7d"},children:[s,Object(n.jsx)("br",{}),r]})}return Object(n.jsx)("p",{style:{fontSize:"14px",color:"#807d7d"},children:s})}(e.task.day_of_week,e.task.start_at,e.task.deadline)]})})})})]})})}),vt=(a(674),function(e){var t=e.achievement.percentage_complete,a=Ae.a.unix(e.achievement.written_at).format("MMM Do YYYY");return Object(n.jsxs)(g.a,{className:"AccContainer",children:[Object(n.jsxs)("h4",{children:["Your achievement on ",a]}),Object(n.jsx)("br",{}),Object(n.jsxs)(ge.a,{columns:"2",className:"AccGrid",divided:!0,style:{marginLeft:"0px"},children:[Object(n.jsxs)(ge.a.Column,{width:6,className:"AccContainerPercentage",style:{paddingLeft:"2px"},children:[Object(n.jsxs)("svg",{viewBox:"0 0 520 520",children:[Object(n.jsx)(Ee.a,{standalone:!1,labelComponent:Object(n.jsx)("span",{}),width:520,height:520,data:[{key:"",y:t},{key:"",y:100-t}],innerRadius:166,colorScale:["#19B3A6","#EEEEEE"]}),Object(n.jsx)(Ne.a,{textAnchor:"middle",style:{fontSize:50},x:260,y:260,text:t+"%"})]}),Object(n.jsx)("p",{className:"AccChartTitle",children:"percentage done"})]}),Object(n.jsx)(ge.a.Column,{width:10,className:"AccContainerDetail",children:Object(n.jsxs)(ge.a,{columns:"2",children:[Object(n.jsx)(ge.a.Column,{width:"5",children:Object(n.jsx)("h5",{children:"See Photo Preview"})}),Object(n.jsx)(ge.a.Column,{width:"10",style:{paddingLeft:"0px"},children:Object(n.jsx)("img",{id:"image",src:e.achievement.photo,className:"AccPreviewImage"})})]})})]}),Object(n.jsxs)("div",{className:"description",children:[Object(n.jsx)(Ce.a,{name:"pencil alternate",style:{color:"#5F5F5F"}}),e.achievement.description]}),Object(n.jsx)("div",{className:"description",children:Object(n.jsx)("br",{})})]})}),yt=function(e){var t;return t=0==e.number?0:e.total/e.number,Object(n.jsx)(g.a,{style:{boxShadow:"none"},children:Object(n.jsxs)(ge.a,{columns:"2",divided:!0,children:[Object(n.jsxs)(ge.a.Column,{children:[Object(n.jsx)("p",{style:{textAlign:"center",fontSize:"30px",fontWeight:"lighter"},children:e.number}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0total number of achievements"]}),Object(n.jsxs)(ge.a.Column,{children:[Object(n.jsxs)("p",{style:{textAlign:"center",fontSize:"30px",fontWeight:"lighter"},children:[t,"%"]}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0average percentage complete"]})]})})},kt=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={selectedTask:null,achList:[],startIndex:0},e.onTaskSubmit=function(t){e.setState({selectedTask:t})},e.renderTaskInfo=function(){var t;return 0==(t=e.props.tasks.map((function(t){return Object(n.jsx)(xt,{task:t,onSelect:e.onTaskSubmit})}))).length?Object(n.jsx)("p",{style:{fontWeight:"600",fontSize:"15px"},children:"\xa0\xa0No tasks added for this goal yet!"}):t},e.prevHandler=function(){e.setState({startIndex:e.state.startIndex-1})},e.nextHandler=function(){e.setState({startIndex:e.state.startIndex+1})},e.renderAchTotal=function(){if(e.state.selectedTask){var t;console.log(e.props.achievements);var a=0;return t=e.props.achievements.reduce((function(t,s){return s.task==e.state.selectedTask&&(t.push(Object(n.jsx)(vt,{achievement:s})),a+=s.percentage_complete),t}),[]),Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{children:"\xa0ACHIEVEMENT INFO"}),Object(n.jsx)(yt,{number:t.length,total:a}),Object(n.jsx)("br",{}),Object(n.jsx)("p",{children:"\xa0ACHIEVEMENT JOURNAL"}),t[e.state.startIndex],Object(n.jsxs)(x.a.Group,{floated:"right",children:[Object(n.jsx)(x.a,{size:"tiny",icon:"angle left",style:{backgroundColor:"#FFFFFF"},disabled:0==e.state.startIndex,onClick:function(){return e.prevHandler()}}),Object(n.jsx)(x.a,{size:"tiny",icon:"angle right",style:{backgroundColor:"#FFFFFF"},disabled:e.state.startIndex==t.length-1,onClick:function(){return e.nextHandler()}})]})]})}return Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{children:"\xa0ACHIEVEMENT INFO"}),Object(n.jsx)("p",{style:{fontWeight:"600",fontSize:"15px"},children:"\xa0Select a task to see achievement info!"}),Object(n.jsx)("br",{}),Object(n.jsx)("p",{children:"\xa0ACHIEVEMENT JOURNAL"}),Object(n.jsx)("p",{style:{fontWeight:"600",fontSize:"15px"},children:"\xa0Select a task to see achievement journals!"})]})},e}return Object(p.a)(a,[{key:"render",value:function(){return console.log(this.state.selectedTask),Object(n.jsx)(g.a,{className:"TaskAndAchContainer",style:{boxShadow:"none",border:"none"},children:Object(n.jsxs)(ge.a,{columns:"2",divided:!0,style:{minHeight:"700px",marginTop:"5px"},children:[Object(n.jsxs)(ge.a.Column,{style:{paddingTop:"0px",paddingLeft:"0px"},children:[Object(n.jsx)("p",{children:"\xa0\xa0TASKS YOU'VE DONE"}),this.renderTaskInfo()]}),Object(n.jsx)(ge.a.Column,{style:{paddingTop:"0px"},children:this.renderAchTotal()})]})})}}]),a}(s.Component),Ct=(a(675),function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){console.log("mounting"),this.props.getGoal(this.props.match.params.id),this.props.get_achievements_of_goal(this.props.match.params.id)}},{key:"render",value:function(){return console.log(this.props.achievements),Object(n.jsxs)("div",{className:"GoalDetailPage",children:[Object(n.jsx)("div",{className:"menubar",children:Object(n.jsx)(De,{})}),null!==this.props.selectedGoal&&Object(n.jsx)(gt,{selectedGoal:this.props.selectedGoal}),null!==this.props.selectedGoal&&Object(n.jsx)(kt,{tasks:this.props.selectedGoal.tasks,achievements:this.props.achievements})]})}}]),a}(s.Component)),Dt=Object(i.c)((function(e){return console.log("DETAIL selectedGoal: ",e.goal.selectedGoal),{selectedGoal:e.goal.selectedGoal,achievements:Object.values(e.achievement)}}),{getGoal:ne,get_achievements_of_goal:function(e){return function(){var t=Object(Z.a)(Q.a.mark((function t(a){var n;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ee.a.get("/api/v1/achievements/goal/".concat(e,"/"));case 2:n=t.sent,console.log("[DEBUG] get_achievements_of_goal res.data: ",n.data),a({type:R,payload:n.data});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(Object(l.e)(Ct)),wt=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={title:e.props.goal.title,url:null==e.props.goal.photo?"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/480px-No_image_available.svg.png":e.props.goal.photo},e.getRandomInt=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},e.renderTags=function(){return e.props.goal.tags.map((function(t){var a=e.randomColor();return Object(n.jsx)(pt.a,{horizontal:!0,style:{marginTop:"2px",marginBottom:"2px",backgroundColor:a,color:"#FFFFFF"},children:t})}))},e.randomColor=function(){switch(e.getRandomInt(0,5)){case 0:return"#24b4ab";case 1:return"#173f5f";case 2:return"#686566";case 3:return"#20639b";case 4:return"#ed553b";case 5:return"#04837c"}},e.onClickHandler=function(){u.push("/explore/goalhistory/"+e.props.goal.id)},e}return Object(p.a)(a,[{key:"render",value:function(){var e="url("+this.state.url+")";return Object(n.jsxs)(ht.a,{className:"RecCardComp",style:{width:"200px"},children:[Object(n.jsx)(ht.a.Content,{style:{height:"180px",backgroundImage:e,backgroundSize:"cover"},children:Object(n.jsx)(ht.a.Description,{children:this.renderTags()})}),Object(n.jsx)(ht.a.Content,{header:this.props.goal.title,textAlign:"center",s:!0,style:{padding:"12px",paddingBottom:"0px"}}),Object(n.jsxs)(ht.a.Description,{textAlign:"center",style:{color:"#807e7e",marginBottom:"5px"},children:[Object(n.jsx)(Ce.a,{name:"user circle"}),"\xa0",this.props.goal.username]}),Object(n.jsx)(ht.a.Content,{extra:!0,children:Object(n.jsx)(x.a,{floated:"right",fluid:!0,onClick:this.onClickHandler,children:"Look More"})})]})}}]),a}(o.a.Component),Tt=Object(l.e)(wt),At=function(e){var t=Object(s.useState)(0),a=Object(m.a)(t,2),o=a[0],r=a[1],c=e.goals.map((function(e){return Object(n.jsx)(Tt,{goal:e})}));return Object(n.jsxs)("div",{className:"RecGoalCards",style:{marginLeft:"130px",width:"90%"},children:[Object(n.jsx)(g.a,{style:{boxShadow:"none",border:"none",display:"flex"},children:Object(n.jsx)(ht.a.Group,{children:c.slice(0,10*o+10)})}),Object(n.jsx)(x.a,{style:{marginLeft:"10px"},disabled:o>0,onClick:function(){r(o+1)},children:"Click for more recommendations!"}),Object(n.jsx)(x.a,{style:{marginLeft:"10px"},disabled:!(o>0),onClick:function(){r(o-1)},children:"Hide recommendations"})]})},_t=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){console.log("mounting explore page"),this.props.explore_getAllGoal()}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"dashboard",children:[Object(n.jsx)("div",{className:"menubar",children:Object(n.jsx)(De,{})}),Object(n.jsx)("h3",{style:{paddingLeft:"138px",paddingTop:"7px",marginTop:"15px",paddingBottom:"10px",fontSize:"30px"},children:"Explore new goals"}),Object(n.jsx)(At,{goals:this.props.goals})]})}}]),a}(s.Component),Gt=Object(i.c)((function(e){return console.log("EXPLORE all goals:",e.explore.goals),{goals:e.explore.goals}}),{explore_getAllGoal:function(){return function(e){return ee.a.get("/api/v1/explore/recommend/").then((function(t){return e((a=t.data,console.log("explore_getAllGoal_ goals: ",a),{type:K,goals:a.slice(1,a.length)}));var a}))}}})(_t),St=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){console.log("mounting explore detail"),this.props.explore_getGoal(this.props.match.params.id),this.props.explore_get_ach_by_goal(this.props.match.params.id)}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"ExploreGoalDetailPage",style:{width:"80%",marginLeft:"125px",maxWidth:"1190px"},children:[Object(n.jsx)("div",{className:"menubar",children:Object(n.jsx)(De,{})}),null!==this.props.selectedGoal&&Object(n.jsx)(gt,{selectedGoal:this.props.selectedGoal}),null!==this.props.selectedGoal&&Object(n.jsx)(kt,{tasks:this.props.selectedGoal.tasks,achievements:this.props.achievements})]})}}]),a}(s.Component),Et=Object(i.c)((function(e){return console.log("DETAIL EXPLORE selectedGoal: ",e.explore.selectedGoal),{selectedGoal:e.explore.selectedGoal,achievements:e.explore.achievements}}),{explore_getGoal:function(e){return function(t){return ee.a.get("/api/v1/explore/recommend/"+e+"/").then((function(e){var a;t((a=e.data,{type:q,target:a}))}))}},explore_get_ach_by_goal:function(e){return function(t){return ee.a.get("/api/v1/explore/recommend/ach/"+e+"/").then((function(e){t(ue(e.data))}))}}})(Object(l.e)(St));var Nt=function(e){return Object(n.jsx)(l.b,{history:u,children:Object(n.jsx)("div",{className:"App",id:"fill-window",children:Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{path:"/",exact:!0,component:ve}),Object(n.jsx)(l.a,{path:"/create",exact:!0,component:at}),Object(n.jsx)(l.a,{path:"/edit",exact:!0,component:lt}),Object(n.jsx)(l.a,{path:"/main",exact:!0,component:Qe}),Object(n.jsx)(l.a,{path:"/dashboard",exact:!0,component:ft}),Object(n.jsx)(l.a,{path:"/explore",exact:!0,component:Gt}),Object(n.jsx)(l.a,{path:"/explore/goalhistory/:id",exact:!0,component:Et}),Object(n.jsx)(l.a,{path:"/goalhistory/:id",exact:!0,component:Dt})]})})})},Yt=a(121),Mt=a(36),Ft={goals:[],selectedGoal:null},Bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(pe.a)(Object(pe.a)({},e),{},{goals:t.payload});case S:return Object(pe.a)(Object(pe.a)({},e),{},{selectedGoal:t.payload});case E:var a=t.payload;return Object(pe.a)(Object(pe.a)({},e),{},{goals:[].concat(Object(Mt.a)(e.goals),[a])});case N:console.log(e.goals.filter((function(e){return e.id!==t.payload.id})));var n=e.goals.filter((function(e){return e.id!==t.payload.id})).concat([t.payload]);return Object(pe.a)(Object(pe.a)({},e),{},{selectedGoal:t.payload,goals:n});case B:var s=e.selectedGoal.tasks.filter((function(e){return e.id!==t.payload.id})),o=Object(pe.a)(Object(pe.a)({},e.selectedGoal),{},{tasks:[].concat(Object(Mt.a)(s),[t.payload])});return Object(pe.a)(Object(pe.a)({},e),{},{selectedGoal:o});case Y:var r=e.goals.filter((function(e){return e.id!==t.id}));return Object(pe.a)(Object(pe.a)({},e),{},{goals:r});case M:var c=e.goals.filter((function(e){return e.id===t.payload.goal}))[0],i=e.goals.filter((function(e){return e.id!==t.payload.goal}));return Object(pe.a)(Object(pe.a)({},e),{},{goals:[].concat(Object(Mt.a)(i),[Object(pe.a)(Object(pe.a)({},c),{},{tasks:[].concat(Object(Mt.a)(c.tasks),[t.payload])})])});case F:var l=e.goals.filter((function(e){return e.id===t.payload.goal_id}))[0],d=l.tasks.filter((function(e){return e.id!==t.payload.task_id})),u=Object(pe.a)(Object(pe.a)({},l),{},{tasks:d}),h=e.goals.filter((function(e){return e.id!==t.payload.goal_id}));return Object(pe.a)(Object(pe.a)({},e),{},{goals:[].concat(Object(Mt.a)(h),[u]),selectedGoal:u})}return e},Lt={tasks:[],selectedTask:null},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(pe.a)(Object(pe.a)({},e),{},{tasks:t.payload});case I:var a=t.payload;return Object(pe.a)(Object(pe.a)({},e),{},{tasks:[].concat(Object(Mt.a)(e.tasks),[a])});case U:var n=e.tasks.filter((function(e){return e.id!==t.payload}));return Object(pe.a)(Object(pe.a)({},e),{},{tasks:n});case H:var s=e.tasks.filter((function(e){return e.id!==t.payload.id}));return Object(pe.a)(Object(pe.a)({},e),{},{tasks:[].concat(Object(Mt.a)(s),[t.payload])})}return e},Ut=a(302),Ht=a.n(Ut),Pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:case R:return Object(pe.a)(Object(pe.a)({},e),Ht.a.mapKeys(t.payload,"id"));case z:case W:return Object(pe.a)(Object(pe.a)({},e),{},Object(Ze.a)({},t.payload.id,t.payload));case V:return Ht.a.omit(e,t.payload);default:return e}},Rt=a(271),zt={authModal:!1,addTask:!1,addAcc:!1},Wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return{authModal:!1,addTask:!1,addAcc:!1};case D:return{authModal:!0};case w:return{addTask:!0};case T:return{addTask:!1};case A:return{addAcc:!0};case _:return{addAcc:!1};default:return e}},Vt={exploreStatus:null,goals:[],selectedGoal:null,achievements:[]},Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(pe.a)(Object(pe.a)({},e),{},{goals:t.goals});case q:return Object(pe.a)(Object(pe.a)({},e),{},{selectedGoal:t.target});case X:return Object(pe.a)(Object(pe.a)({},e),{},{achievements:t.achievements})}return e},qt=Object(Yt.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:case y:return t.payload;case k:return null;default:return e}},goal:Bt,task:It,achievement:Pt,modal:Wt,explore:Kt,router:Object(Rt.a)(u)}),Xt=a(441),Jt=a(419),Qt=[function(e){return function(t){return function(a){console.log("[Middleware] Dispatching",a);var n=t(a);return console.log("[Middleware] Next State",e.getState()),n}}},Xt.a,Object(Jt.a)(u)],Zt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Yt.d,$t=Object(Yt.e)(qt,{},Zt(Yt.a.apply(void 0,Qt)));a(676);c.a.render(Object(n.jsx)(i.a,{store:$t,children:Object(n.jsx)(Nt,{history:u})}),document.getElementById("root"))}},[[677,1,2]]]);
//# sourceMappingURL=main.3018aed5.chunk.js.map