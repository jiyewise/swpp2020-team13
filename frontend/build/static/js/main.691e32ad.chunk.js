(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{495:function(e,t,a){},496:function(e,t,a){},498:function(e,t,a){},510:function(e,t,a){},511:function(e,t,a){},512:function(e,t,a){},513:function(e,t,a){},514:function(e,t,a){},515:function(e,t,a){},516:function(e,t,a){},517:function(e,t,a){},621:function(e,t,a){},622:function(e,t,a){},655:function(e,t,a){},656:function(e,t,a){},659:function(e,t,a){},660:function(e,t,a){},661:function(e,t,a){},662:function(e,t,a){},670:function(e,t){},671:function(e,t,a){},672:function(e,t,a){},673:function(e,t,a){},674:function(e,t,a){},675:function(e,t,a){},676:function(e,t,a){},677:function(e,t,a){},679:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(56),o=a.n(l),s=a(14),i=a(296),c=a(19),d=a.n(c),u=(a(495),a(93)),m=Object(u.a)(),p=a(21),h=a(22),f=a(24),g=a(23),E=(a(496),a(41)),v=a(10),y=a.n(v),b=a(29),k=a(220),C=a(744),O=a(341),x=a(172),w=(a(498),"SIGNUP_USER"),_="LOGIN_USER",D="LOGOUT_USER",A="CLOSE_MODAL",T="OPEN_AUTH_MODAL",S="OPEN_ADD_TASK_MODAL",G="CLOSE_ADD_TASK_MODAL",N="OPEN_ADD_ACC_MODAL",j="CLOSE_ADD_ACC_MODAL",Y="GET_ALL_GOAL",M="GET_GOAL",F="ADD_GOAL",L="EDIT_GOAL",B="DELETE_GOAL",I="ADD_TASK_TO_GOAL",U="DELETE_TASK_FROM_GOAL",R="EDIT_TASK_OF_SELECTED_GOAL",H="GET_ALL_TASK",P="ADD_TASK",z="DELETE_TASK",W="EDIT_TASK",V="GET_ACHIEVEMENTS_OF_TASK",K="GET_ACHIEVEMENTS_OF_GOAL",q="ADD_ACHIEVEMENT",X="EDIT_ACHIEVEMENT",J="DELETE_ACHIEVEMENT",Q="EXPLORE_GET_ALL_GOAL",Z="EXPLORE_GET_GOAL",$="EXPLORE_GET_ACH_BY_GOAL",ee=function(){return function(e){return d.a.get("/api/v1/goals/").then((function(t){return e((a=t.data,console.log("getAllGoal_ goals: ",a),{type:Y,payload:a}));var a}))}},te=function(e){return function(t){return d.a.get("/api/v1/goals/"+e+"/").then((function(e){var a;t((a=e.data,{type:M,payload:a}))}))}},ae=function(e){return{type:L,payload:e}},ne=function(e){return function(t){return d.a.delete("/api/v1/goals/"+e).then((function(a){return t(function(e){return{type:B,id:e}}(e))}))}},re=function(){return{type:A,payload:null}},le=function(e){return{type:I,payload:{id:e.id,user:e.user,goal:e.goal,title:e.title,start_at:e.start_at,deadline:e.deadline,importance:e.importance,day_of_week:e.day_of_week}}},oe=function(e,t){return{type:U,payload:{goal_id:e,task_id:t}}},se=function(e,t){return function(){var a=Object(b.a)(y.a.mark((function a(n){return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("[DEBUG] deleteTask start"),a.next=3,d.a.delete("/api/v1/tasks/"+t+"/");case 3:a.sent,n({type:z,payload:t}),n(oe(e,t)),console.log("[DEBUG] sdeleteTask done");case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},ie=function(e){return function(){var t=Object(b.a)(y.a.mark((function t(a){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("/api/v1/achievements/task/".concat(e,"/"));case 2:n=t.sent,console.log("[DEBUG] get_achievements_of_task res.data: ",n.data),a({type:V,payload:n.data});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ce=function(e){return{type:$,achievements:e}},de=a(423),ue=a.n(de),me=a(422),pe=a.n(me),he="This field is required",fe=function(e){return r.a.createElement("div",{className:"invalid-feedback"},e)},ge=function(){var e=Object(s.d)(),t=Object(k.a)(),a=t.register,n=t.handleSubmit,l=(t.watch,t.errors);return r.a.createElement(C.a,{onSubmit:n((function(t,a){a.preventDefault();var n=new FormData;n.append("username",t.username),n.append("password",t.password),e(function(e){return function(){var t=Object(b.a)(y.a.mark((function t(a){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.post("/api/v1/users/login/",e);case 2:n=t.sent,a((r=n.data,console.log("[DEBUG] loginUser action. user: ",r),{type:_,payload:{id:r.id,username:r.username}})),m.push("/main");case 5:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()}(n))}))},r.a.createElement(O.a,{className:"LoginSegment"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{id:"username",name:"username",placeholder:"Enter username",ref:a({required:he,minLength:{value:5,message:"Username must be at leat 5 characters"}})}),l.username&&fe(l.username.message),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{id:"password",name:"password",type:"password",placeholder:"Enter password",ref:a({required:he})}),l.password&&fe(l.password.message)),r.a.createElement(x.a,{type:"submit",className:"submitButtonLogin"},"Login"))},Ee=a(342),ve=a.n(Ee),ye=(a(510),function(e){ve.a.setAppElement("#root");var t=e.children,a=Object(s.d)();return r.a.createElement(ve.a,Object.assign({id:"reactModal"},e,{style:{overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(230, 230, 230, 0.5)"}}}),t,r.a.createElement(x.a,{className:"modal__close-btn",onClick:function(){return a(re())},floated:"right",id:"closeButton"},"close"))}),be=a(249),ke=(a(511),function(e){var t=Object(s.e)((function(e){return e.modal.authModal})),a=Object(n.useState)(e.authMode),l=Object(E.a)(a,2),o=l[0],i=l[1],c="signup"===o?function(){Object(s.d)();var e=Object(k.a)(),t=e.register,a=e.handleSubmit,n=e.watch,l=e.errors,o=(e.reset,n("password","")),i=(pe.a.get("csrftoken"),function(){var e=Object(b.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ue()(t)){e.next=13;break}return(a=new FormData).append("email",t),e.next=5,d.a.post("/api/v1/users/clean_email/",a,{headers:{"Content-Type":"multipart/form-data"}});case 5:if("true"!==e.sent.data){e.next=10;break}return e.abrupt("return",!0);case 10:return e.abrupt("return","Email already exists");case 11:e.next=14;break;case 13:return e.abrupt("return","Not valid email pattern");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c=function(){var e=Object(b.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("username",t),e.next=4,d.a.post("/api/v1/users/clean_username/",a,{headers:{"Content-Type":"multipart/form-data"}});case 4:if("true"!==e.sent.data){e.next=9;break}return e.abrupt("return",!0);case 9:return e.abrupt("return","Username already exists");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(C.a,{className:"signupForm",onSubmit:a((function(e,t){t.preventDefault(),console.log("[DEBUG] signup form submitted")}))},r.a.createElement(O.a,{className:"signupSegment"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{id:"email",name:"email",placeholder:"Enter email",ref:t({required:he,validate:i}),style:{borderColor:l.email&&"red"}}),l.email&&fe(l.email.message),r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{id:"username",name:"username",placeholder:"Enter username",ref:t({required:he,minLength:{value:5,message:"min length is 5"},validate:c}),style:{borderColor:l.username&&"red"}}),l.username&&fe(l.username.message),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{id:"password",name:"password",type:"password",placeholder:"Enter password",ref:t({required:he,minLength:{value:4,message:"Password must have at least 4 characters"}}),style:{borderColor:l.password&&"red"}}),l.password&&fe(l.password.message),r.a.createElement("label",{htmlFor:"password_confirm"},"Confirm password"),r.a.createElement("input",{id:"password_confirm",name:"password_confirm",type:"password",placeholder:"Confirm password",ref:t({required:he,validate:function(e){return e===o||"The passwords do not match"}}),style:{borderColor:l.password_confirm&&"red"}}),l.password_confirm&&fe(l.password_confirm.message)),r.a.createElement(x.a,{type:"submit",className:"submitButton"},"Sign Up"))}():ge();return r.a.createElement(O.a,{className:"SegmentModal"},r.a.createElement(ye,{isOpen:t},r.a.createElement("div",{className:"modal-container small-container modal-auth",id:"Auth"},r.a.createElement(be.a,{className:"ButtonGroupModal",floated:"right"},r.a.createElement(x.a,{onClick:function(){return i("signup")},id:"AuthSignup"},"Sign Up"),r.a.createElement(x.a,{onClick:function(){return i("login")},id:"AuthLogin"},"Log In")),r.a.createElement("br",null),r.a.createElement("div",{className:"modal__body"},c))))}),Ce=a(425),Oe=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={authMode:"signup"},e.onClickSignup=function(){e.setState({authMode:"signup"}),e.props.openAuthModal()},e.onClickLogin=function(){e.setState({authMode:"login"}),e.props.openAuthModal()},e}return Object(h.a)(a,[{key:"render",value:function(){return this.props.isUserLoggedIn?(m.push("/main"),r.a.createElement("div",null,"Should redirect to main page")):r.a.createElement(C.a,{center:"true",aligned:"true",className:"FormLogin"},r.a.createElement(O.a,{className:"Segment"},r.a.createElement(Ce.a,{columns:2,className:"grid",divided:"vertically",style:{marginLeft:"10px"}},r.a.createElement(Ce.a.Column,null,r.a.createElement("h2",{className:"title"},"Goaling Ball"),r.a.createElement("h3",{className:"subtitle",style:{fontSize:"17px"}},"Your goal management service.")),r.a.createElement(Ce.a.Column,null,r.a.createElement(be.a,{className:"ButtonGroup"},r.a.createElement(x.a,{onClick:this.onClickSignup,className:"Button",id:"ButtonSignup"},"SIGN UP"),r.a.createElement(x.a,{onClick:this.onClickLogin,className:"Button",id:"ButtonLogin"},"LOGIN")))),this.props.isAuthModalOpen&&r.a.createElement(ke,{authMode:this.state.authMode}),console.log("DEBUG: ",this.props.isAuthModalOpen)))}}]),a}(r.a.Component),xe=Object(s.c)((function(e){return{isUserLoggedIn:e.auth,isAuthModalOpen:e.modal.authModal}}),{openAuthModal:function(){return{type:T,payload:null}}})(Oe),we=(a(512),a(745)),_e=a(427),De=a(81),Ae=function(e){Object(s.e)((function(e){return e.auth}));var t=Object(s.d)(),a=function(){t((d.a.post("/api/v1/users/logout/"),{type:D,payload:null})),m.push("/")};return r.a.createElement(we.a,{className:"Sidebar",animation:"uncover",vertical:!0,visible:"true"},r.a.createElement(Ce.a,{verticalAlign:"middle",rows:5,centered:!0,className:"gridBar"},r.a.createElement(Ce.a.Row,null,r.a.createElement(_e.a.Item,{as:"a"},r.a.createElement("button",{class:"ui basic button",onClick:function(){m.push("/create")},className:"button-create",id:"CreateButton"},r.a.createElement(De.a,{name:"plus circle",size:"large",id:"icon"}),r.a.createElement("br",null),"Create"))),r.a.createElement(Ce.a.Row,null,r.a.createElement(_e.a.Item,{as:"a"},r.a.createElement("button",{class:"ui basic button",onClick:function(){return m.push("/main")},className:"button",id:"MainButton"},r.a.createElement(De.a,{name:"home",size:"large",id:"icon"}),r.a.createElement("br",null),"Main"))),r.a.createElement(Ce.a.Row,null,r.a.createElement(_e.a.Item,{as:"a"},r.a.createElement("button",{class:"ui basic button",onClick:function(){return m.push("/dashboard")},className:"button",id:"DashButton"},r.a.createElement(De.a,{name:"chart bar outline",size:"large",id:"icon"}),r.a.createElement("br",null),"Dashboard"))),r.a.createElement(Ce.a.Row,null,r.a.createElement(_e.a.Item,{as:"a"},r.a.createElement("button",{class:"ui basic button",onClick:function(){return m.push("/explore")},className:"button",id:"ExpButton"},r.a.createElement(De.a,{name:"search",size:"large",id:"icon"}),r.a.createElement("br",null),"Explore"))),r.a.createElement(Ce.a.Row,null,r.a.createElement(_e.a.Item,{as:"a"},r.a.createElement("button",{class:"ui basic button",onClick:function(){return a()},className:"button-logout",id:"LogoutButton"},r.a.createElement(De.a,{name:"arrow alternate circle right outline",size:"large",id:"icon"}),r.a.createElement("br",null),"Logout")))))},Te=a(445),Se=(a(513),a(9)),Ge=a.n(Se),Ne=a(746),je=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={date:new Date},e.onChange=function(t){e.setState({date:t}),console.log("DEBUG on Calendar",Ge()(t).endOf("day")),e.props.onSubmit(t)},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.goalList.map((function(e){return r.a.createElement(Ne.a.Item,{style:{paddingLeft:"20px",cursor:"default"}},r.a.createElement(Ne.a.Content,null,r.a.createElement(Ne.a.Header,{as:"a"},e.title)))}));return r.a.createElement("nav",{class:"panel",className:"CalendarPanel"},r.a.createElement(Te.a,{id:"Calendar",onChange:this.onChange,value:this.state.date}),r.a.createElement(Ne.a,{relaxed:!0,bulleted:!0,style:{paddingLeft:"30px"}},r.a.createElement("p",{style:{marginTop:"10px"}},"GOALS"),e))}}]),a}(n.Component),Ye=(a(514),a(31)),Me=(a(515),a(516),a(748)),Fe=a(751),Le=(a(335),a(752)),Be=a(115),Ie=a(683),Ue=a(753),Re=(a(517),a(174)),He=a.n(Re),Pe=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={achievement:e.props.achievement,isEdit:!!e.props.achievement,isCreating:!1,percentage_complete:e.props.achievement?e.props.achievement.percentage_complete:0,today:void 0==e.props.today?null:Ge()(e.props.today).startOf("day").unix()+86400-1,file:null,fileName:"",photo:e.props.achievement?e.props.achievement.photo:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/480px-No_image_available.svg.png",description:e.props.achievement?e.props.achievement.description:""},e.fileChange=function(t){t.target.files&&(e.setState({file:t.target.files[0],fileName:t.target.files[0].name},(function(){console.log("File chosen ---\x3e",e.state.file,console.log("File name  ---\x3e",e.state.fileName))})),e.setState({photo:URL.createObjectURL(t.target.files[0])}))},e.closeHandler=function(){e.props.onSubmit()},e.onPercentageCompleteChange=function(t,a){e.setState({percentage_complete:a})},e.handleSubmit=Object(b.a)(y.a.mark((function t(){var a,n,r,l;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({isCreating:!0}),!e.state.isEdit){t.next=9;break}return a=e.props.achievement.id,n=e.props.achievement.photo,r={percentage_complete:e.state.percentage_complete,written_at:e.state.today,description:e.state.description,photo:e.state.photo},t.next=7,e.props.edit_achievement(a,r,e.state.file,n);case 7:t.next=16;break;case 9:return(l=new FormData).append("task_id",e.props.task_id),l.append("percentage_complete",e.state.percentage_complete),l.append("written_at",e.state.today),l.append("description",e.state.description),t.next=16,e.props.add_achievement(l,e.state.file);case 16:e.props.onSubmit(!1);case 17:case"end":return t.stop()}}),t)}))),e}return Object(h.a)(a,[{key:"fileRender",value:function(){return r.a.createElement(O.a,null,r.a.createElement(Ce.a,{columns:"2",divided:!0},r.a.createElement(Be.a,{width:"5"},r.a.createElement("h5",null,"See Photo Preview")),r.a.createElement(Be.a,{width:"10"},r.a.createElement("img",{id:"image",src:this.state.photo,className:"AccPreviewImage"}))))}},{key:"renderPhoto",value:function(){return r.a.createElement(O.a,{className:"AddAccPhoto"},r.a.createElement(C.a.Field,null,r.a.createElement("label",{id:"PhotoInput"},this.state.isEdit?"Edit ":"Add "," Achievement Photo"),r.a.createElement(x.a,{as:"label",htmlFor:"file",type:"button",animated:"fade"},r.a.createElement(x.a.Content,{visible:!0},r.a.createElement(De.a,{name:"file"})),r.a.createElement(x.a.Content,{hidden:!0},"Choose a File")),r.a.createElement("input",{type:"file",id:"file",className:"AccPhoto",hidden:!0,onChange:this.fileChange}),r.a.createElement(C.a.Input,{fluid:!0,label:"Photo Chosen ",placeholder:"Use the above bar to browse your file system",readOnly:!0,value:this.state.fileName}),r.a.createElement(x.a,{style:{marginTop:"7px"},onClick:this.fileChange,id:"UploadPhotoButton"}," See Preview ")))}},{key:"renderDescription",value:function(){var e=this;return r.a.createElement(C.a.Field,{className:"AddAccDes"},r.a.createElement("label",null,"Description"),r.a.createElement(Ie.a,{fluid:!0,placeholder:"Write a description about your acheivement",value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})}}))}},{key:"render",value:function(){return r.a.createElement(He.a,{className:"AddAccForm",active:this.state.isCreating,spinner:!0,text:this.state.isEdit?"Edit ":"Adding your achivement..."},r.a.createElement(C.a,null,r.a.createElement(O.a,{className:"AddAccForm",id:"AddAccFormSegment",style:{boxShadow:"none",border:"none"}},r.a.createElement("h3",null,"\xa0 ",this.state.isEdit?"Edit ":"Add "," Achievements"),r.a.createElement(C.a.Group,null,r.a.createElement("div",null,r.a.createElement(Ce.a,{columns:"2",className:"SliderRoot"},r.a.createElement(Be.a,{width:6},r.a.createElement("h4",{className:"SliderRootTitle"},"How much did you do?")),r.a.createElement(Be.a,{width:8},r.a.createElement(Ue.a,{defaultValue:this.state.percentage_complete,"aria-labelledby":"discrete-slider-always",step:10,onChange:this.onPercentageCompleteChange,valueLabelDisplay:"on"}))))),r.a.createElement("div",null,r.a.createElement(Ce.a,{columns:"2"},r.a.createElement(Be.a,{className:"AccPhotoForm",width:6},this.renderPhoto()),r.a.createElement(Be.a,{width:8},this.fileRender()))),this.renderDescription(),r.a.createElement(x.a.Group,null,r.a.createElement(C.a.Button,{className:"AddAccSubmitButton",onClick:this.handleSubmit},"Submit"),r.a.createElement(C.a.Button,{className:"AddAccCloseButton",onClick:this.closeHandler},"Close")))))}}]),a}(n.Component),ze=Object(s.c)(null,{add_achievement:function(e,t){return function(){var a=Object(b.a)(y.a.mark((function a(n){var r,l,o,s;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r="https://goalingball-test.s3.amazonaws.com/",!t){a.next=10;break}return a.next=4,d.a.get("/api/v1/uploads/");case 4:return l=a.sent,a.next=7,d.a.put(l.data.url,t,{headers:{"Content-Type":"image/jpeg"}});case 7:a.sent,o=r+l.data.key,e.set("photo",o);case 10:return a.next=12,d.a.post("/api/v1/achievements/",e,{headers:{"Content-Type":"multipart/form-data"}});case 12:s=a.sent,n({type:q,payload:s.data}),m.push("/main");case 15:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},edit_achievement:function(e,t,a,n){return function(){var r=Object(b.a)(y.a.mark((function r(l){var o,s,i,c,u,p;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!a){r.next=16;break}if(o="https://goalingball-test.s3.amazonaws.com/",n){r.next=7;break}return r.next=5,d.a.get("/api/v1/uploads/");case 5:s=r.sent,n=s.data.key;case 7:return r.next=9,d.a.put("/api/v1/uploads/",{key:n});case 9:return i=r.sent,r.next=12,d.a.put(i.data.url,a,{headers:{"Content-Type":"image/jpeg"}});case 12:c=o+i.data.key,t.photo=c,r.next=17;break;case 16:case 17:return r.next=19,d.a.put("/api/v1/achievements/".concat(e,"/"),t,{headers:{"Content-Type":"application/json"}});case 19:u=r.sent,console.log("edit achievement res.data: ",u.data),l({type:X,payload:u.data}),p=u.data.task,l(ie(p)),m.push("/main");case 25:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})(Pe),We=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={addAccopen:!1,achievement:null},e.onClickEditAchievement=function(t){e.setState({addAccopen:!0,achievement:t})},e.onClickAddAccHandler=function(){e.setState({addAccopen:!0})},e.renderTotal=function(){var t=null,a=Ge()(e.props.today).startOf("day").unix()+86400-1,n=e.props.achievements.filter((function(t){return t.written_at==a&&t.task==e.props.task.id}));if(n.length>0&&(t=n[0]),t){console.log("udpaet this.set.achievement");var l=t.percentage_complete;return r.a.createElement(O.a,{className:"AccContainer"},r.a.createElement("h4",null,"Your accomplishment of ",e.props.task.title,":"),r.a.createElement(Ce.a,{columns:"2"},r.a.createElement(Ce.a.Column,{width:2,className:"importance"},r.a.createElement("p",null,"Importance")),r.a.createElement(Ce.a.Column,{className:"ImportanceRating"},r.a.createElement(Le.a,{name:"simple-controlled",size:"small",value:e.props.task.importance,readOnly:!0}))),r.a.createElement(Ce.a,{columns:"2",className:"AccGrid",divided:!0},r.a.createElement(Ce.a.Column,{width:6,className:"AccContainerPercentage"},r.a.createElement("svg",{viewBox:"0 0 520 520"},r.a.createElement(Me.a,{standalone:!1,labelComponent:r.a.createElement("span",null),width:520,height:520,data:[{key:"",y:l},{key:"",y:100-l}],innerRadius:166,colorScale:["#19B3A6","#EEEEEE"]}),r.a.createElement(Fe.a,{textAnchor:"middle",style:{fontSize:50},x:260,y:260,text:l+"%"})),r.a.createElement("p",{className:"AccChartTitle"},"percentage done")),r.a.createElement(Ce.a.Column,{width:9,className:"AccContainerDetail"},r.a.createElement(Ce.a,{columns:"2"},r.a.createElement(Ce.a.Column,{width:"5"},r.a.createElement("h5",null,"See Photo Preview")),r.a.createElement(Ce.a.Column,{width:"10"},r.a.createElement("img",{id:"image",src:t.photo,className:"AccPreviewImage"}))))),r.a.createElement("br",null),r.a.createElement("div",{className:"description"},r.a.createElement(De.a,{name:"pencil alternate",style:{color:"#5F5F5F"}}),t.description),r.a.createElement("div",{className:"description"},r.a.createElement(x.a,{floated:"right",size:"tiny",onClick:function(){return e.onClickEditAchievement(t)},id:"EditAchButton"},"Edit"),r.a.createElement("br",null),r.a.createElement("br",null)))}return r.a.createElement(O.a,{className:"DefaultAchSegment"},r.a.createElement("h4",null,"No achievements yet. Add one if you're done!"),!e.state.addAccopen&&r.a.createElement(x.a,{onClick:e.onClickAddAccHandler,className:"DefaultAchAddButton"},"Add an Achievement"))},e.onCloseSubmit=function(){e.setState({addAccopen:!1})},e.onSetAccSubmit=function(t){e.setState({achievement:t})},e}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.addAccopen?r.a.createElement(ze,{today:this.props.today,task_id:this.props.task.id,onSubmit:this.onCloseSubmit,achievement:this.state.achievement}):this.renderTotal())}}]),a}(n.Component),Ve=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={acc_open:!1,accomplishment:null,addAccopen:!1,achievement:{des:"des",percentage_done:0}},e.deleteTaskHandler=function(){console.log("DEBUG date send",e.props.goal,e.props.task.id),e.props.deleteTask(e.props.goal,e.props.task.id)},e.to_weekdays=function(e){switch(e){case"MONDAY":return"Mon";case"TUESDAY":return"Tue";case"WEDNESDAY":return"Wed";case"THURSDAY":return"Thu";case"FRIDAY":return"Fri";case"SATURDAY":return"Sat";case"SUNDAY":return"Sun"}},e.accOpenHandler=Object(b.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e.state.acc_open){t.next=6;break}return t.next=3,e.props.get_achievements_of_task(e.props.task.id);case 3:e.setState({acc_open:!0}),t.next=7;break;case 6:e.setState({acc_open:!1});case 7:case"end":return t.stop()}}),t)}))),e}return Object(h.a)(a,[{key:"toRecString",value:function(e){var t,a=this,n="",r=e.map((function(e){return a.to_weekdays(e)})),l=Object(Ye.a)(r);try{for(l.s();!(t=l.n()).done;){n=n+t.value+", "}}catch(o){l.e(o)}finally{l.f()}return n.substring(0,n.length-2)}},{key:"isRecurrent",value:function(e){return 0==e.length?r.a.createElement(x.a.Group,{size:"tiny",floated:"right"},r.a.createElement(x.a,{icon:!0,className:"TaskBarButton",onClick:this.deleteTaskHandler},r.a.createElement(De.a,{name:"x"}))):r.a.createElement(x.a.Group,{size:"tiny",floated:"right",id:"Recurrent"},r.a.createElement(x.a,{icon:!0,className:"TaskBarButton"},r.a.createElement(De.a,{name:"redo"})),r.a.createElement(x.a,{icon:!0,className:"TaskBarButton",id:"X",onClick:this.deleteTaskHandler},r.a.createElement(De.a,{name:"x"})))}},{key:"render",value:function(){var e=this,t=this.props.task,a=t.title,n=(t.id,t.deadline,t.day_of_week);return console.log("[DEBUG] TaskBarComponent is rendering. task: ",this.props.task),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a.Item,{className:"TaskBarListItem"},r.a.createElement(Ne.a.Content,{floated:"right"},this.isRecurrent(n)),r.a.createElement(Ne.a.Content,{className:"TaskBarListContent"},r.a.createElement(x.a,{icon:!0,className:"TaskBarListTriangle",onClick:function(){return e.accOpenHandler()}},r.a.createElement(De.a,{name:"right triangle"})),a)),this.state.acc_open&&r.a.createElement(We,{task:this.props.task,today:this.props.today,achievements:this.props.achievements}))}}]),a}(n.Component),Ke=Object(s.c)((function(e){return{achievements:Object.values(e.achievement)}}),{deleteTask:se,get_achievements_of_task:ie})(Ve),qe=(a(621),a(622),a(75)),Xe=function(e){var t=Object(k.a)(),a=(t.register,t.handleSubmit),n=t.watch,l=(t.errors,t.reset),o=Object(s.d)();n();var i=r.a.useState(2),c=Object(E.a)(i,2),u=c[0],m=c[1],p=r.a.useState([]),h=Object(E.a)(p,2),f=h[0],g=h[1],v=r.a.useState(""),x=Object(E.a)(v,2),w=x[0],_=x[1],D=r.a.useState(new Date),A=Object(E.a)(D,2),T=A[0],S=A[1],G=r.a.useState(new Date),N=Object(E.a)(G,2),j=N[0],Y=N[1];return r.a.createElement(C.a,{onSubmit:a((function(t,a){var n,r=Ge()(j).startOf("day").unix()+86399,s=Ge()(T).startOf("day").unix(),i=new FormData;i.append("title",w),i.append("goal_id",e.goal_id),f.forEach((function(e){i.append("day_of_week",e)})),i.append("start_at",s),i.append("deadline",r),i.append("importance",u),o((n=i,function(){var e=Object(b.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/api/v1/tasks/",n,{headers:{"Content-Type":"multipart/form-data"}});case 2:a=e.sent,console.log("addTask res.data: ",a.data),t((r=a.data,{type:P,payload:{id:r.id,user:r.user,goal:r.goal,title:r.title,importance:r.importance,day_of_week:r.day_of_week,start_at:r.start_at,deadline:r.deadline}})),t(re()),t(le(a.data));case 7:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}())),l()}),(function(e,t){return console.log(e,t)}))},r.a.createElement(O.a,{className:"AddTaskForm",id:"AddTaskFormSegment"},r.a.createElement("h3",null,"\xa0 Add Task"),r.a.createElement(C.a.Group,{widths:"equal"},r.a.createElement(C.a.Input,{label:"Title",placeholder:"Enter task title",onChange:function(e,t){return _(t.value)},id:"AddTaskFormTitle"})),r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Select,{multiple:!0,selection:!0,label:"Day of Week",id:"AddTaskFormDayofWeek",options:[{key:"m",text:"Monday",value:"MONDAY"},{key:"t",text:"Tuesday",value:"TUESDAY"},{key:"w",text:"Wednesday",value:"WEDNESDAY"},{key:"th",text:"Thursday",value:"THURSDAY"},{key:"f",text:"Friday",value:"FRIDAY"},{key:"s",text:"Saturday",value:"SATURDAY"},{key:"su",text:"Sunday",value:"SUNDAY"}],onChange:function(e,t){return g(t.value)},placeholder:"Day of Week"}),r.a.createElement(qe.DateInput,{id:"AddTaskFormStartAt",label:"Start at",name:"start_at",placeholder:"Date",value:Ge()(T).format("YYYY-MM-DD"),iconPosition:"left",dateFormat:"YYYY-MM-DD",onChange:function(t,a){a.name;var n=a.value;console.log(Ge()(n)),console.log(e.goal_start_at),Ge()(n).unix()<e.goal_start_at&&(window.alert("task start date cannot be earlier than goal start date. Goal start date will be set."),S(Ge.a.unix(e.goal_start_at).format("YYYY-MM-DD")),Y(Ge.a.unix(e.goal_start_at).format("YYYY-MM-DD"))),Ge()(n).unix()>e.goal_deadline?(window.alert("task start date cannot be later than goal deadline. Goal deadline will be set."),S(Ge.a.unix(e.goal_deadline).format("YYYY-MM-DD"))):(S(Ge()(n)),Y(Ge()(n)))}}),r.a.createElement(qe.DateInput,{id:"AddTaskFormDeadline",label:"Deadline",name:"deadline",placeholder:"Date",value:Ge()(j).format("YYYY-MM-DD"),iconPosition:"left",dateFormat:"YYYY-MM-DD",onChange:function(t,a){a.name;var n=a.value;Ge()(n).unix()>e.goal_deadline?(window.alert("task deadline cannot be later than goal deadline. Goal deadline will be set."),Y(Ge.a.unix(e.goal_deadline).format("YYYY-MM-DD"))):(console.log("DEBUG in addtask:",Ge()(n)),Y(Ge()(n)))},disabled:0==f.length})),r.a.createElement(C.a.Group,{inline:!0},r.a.createElement("label",null,"Importance"),r.a.createElement(Le.a,{name:"simple-controlled",size:"large",id:"AddTaskFormImportance",value:u,onChange:function(e,t){m(t)}})),r.a.createElement(C.a.Button,{className:"AddTaskSubmitButton"},"Submit")))},Je=function(e){var t=Object(s.e)((function(e){return e.modal.addTask}));return r.a.createElement(O.a,{className:"SegmentAddTask",id:"SegmentAddTaskModal"},r.a.createElement(ye,{style:{border:"none"},isOpen:t,className:"SegmentAddTask"},r.a.createElement("div",{className:"modal-container small-container modal-addTask"},r.a.createElement("div",{className:"modal__body"},r.a.createElement(Xe,{goal_id:e.goal_id,goal_deadline:e.goal_deadline,goal_start_at:e.goal_start_at}))),r.a.createElement(x.a,{className:"modal__close-btn",onClick:function(){return dispatch(closeModal())},floated:"right",id:"closeButton"},"close")))},Qe=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={tasks:e.props.goal.tasks,selectedDate:null,addTaskModal:!1,showAll:!1},e.onClickEditGoalHandler=Object(b.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getGoal(e.props.goal.id);case 2:m.push("/edit");case 3:case"end":return t.stop()}}),t)}))),e.onClickDeleteHandler=function(){window.confirm("Tasks and achievements of this goal will be lost. Are you sure?")&&e.props.deleteGoal(e.props.goal.id)},e.onClickAddTaskHandler=function(){e.setState({addTaskModal:!0}),e.props.openAddTaskModal()},e.startAtDate=function(e){return Ge.a.unix(e).format("MMM Do YYYY")},e.deadlineDate=function(e){return Ge.a.unix(e).format("MMM Do YYYY")},e.to_weekdays=function(e){switch(e){case 1:return"MONDAY";case 2:return"TUESDAY";case 3:return"WEDNESDAY";case 4:return"THURSDAY";case 5:return"FRIDAY";case 6:return"SATURDAY";case 0:return"SUNDAY"}},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this;console.log("GoalBodyComponent this.props.goal: ",this.props.goal);var t=this.props.goal,a=t.title,n=t.id,l=t.deadline,o=t.start_at,s=(t.tags,t.tasks),i=Ge()(this.props.today).startOf("day").unix(),c=s.reduce((function(e,t){return t.start_at<=i&&t.deadline>=i&&e.push(t),e}),[]).reduce((function(t,a){if(0==a.day_of_week.length)t.push(a);else{console.log(Ge()(e.props.today).weekday());var n=e.to_weekdays(Ge()(e.props.today).weekday());a.day_of_week.includes(n)&&t.push(a)}return t}),[]),d=[];return d=this.state.showAll?s.map((function(t){return r.a.createElement(Ke,{task:t,key:t.id,goal:e.props.goal.id,today:e.props.today})})):c.map((function(t){return r.a.createElement(Ke,{task:t,key:t.id,goal:e.props.goal.id,today:e.props.today})})),r.a.createElement(O.a,{className:"GoalBodySegment"},r.a.createElement(Ne.a,{className:"GoalBodyTitleList"},r.a.createElement(Ne.a.Item,{className:"GoalBodyListItem"},r.a.createElement(De.a,{name:"circle",className:"GoalBodyListIcon",size:"small"}),r.a.createElement(Ne.a.Content,{className:"GoalBodyListTitle"},r.a.createElement(Ne.a.Header,{className:"GoalBodyListTitleHeader"},a,r.a.createElement(x.a,{floated:"right",size:"tiny",toggle:!0,active:this.state.showAll,onClick:function(){e.setState({showAll:!e.state.showAll})},id:"showAllTaskButton"},"Show All Tasks")),r.a.createElement("div",{className:"GoalBodyListDeadline"},"From ",this.startAtDate(o),", Until ",this.deadlineDate(l))))),r.a.createElement(Ne.a,{className:"GoalBodyListwithTask",celled:!0},d),r.a.createElement(Ne.a.Item,null,r.a.createElement(x.a.Group,{className:"DeleteGoalButtonGroupAnother",floated:"left"},r.a.createElement(x.a,{icon:!0,id:"EditButtonGoalBody",onClick:function(){return e.onClickEditGoalHandler()},style:{backgroundColor:"#ffffff",padding:"5px"}},r.a.createElement(De.a,{name:"edit"})),r.a.createElement(x.a,{icon:!0,id:"DeleteButtonGoalBody",onClick:function(){return e.onClickDeleteHandler()},style:{backgroundColor:"#ffffff",padding:"5px"}},r.a.createElement(De.a,{name:"trash"}))),r.a.createElement(x.a,{circular:!0,onClick:function(){return e.onClickAddTaskHandler()},floated:"right",icon:"add",size:"tiny",className:"GoalBodyAddButton",id:"AddButtonGoalBody"})),this.state.addTaskModal&&this.props.isAddTaskModalOpen&&r.a.createElement(Je,{goal_id:n,goal_deadline:l,goal_start_at:o}),r.a.createElement("br",null))}}]),a}(n.Component),Ze=Object(s.c)((function(e){return console.log(e),{isAddTaskModalOpen:e.modal.addTask}}),{openAddTaskModal:function(){return{type:S,payload:null}},deleteGoal:ne,getGoal:te})(Qe),$e=(a(655),function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={today:new Date},e.onDeadlineSubmit=function(t){e.setState({today:t})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.props.onGetAllGoals()}},{key:"selectTodayGoals",value:function(){var e=Ge()(this.state.today).unix();return console.log("selectTodayGoals this.props.goalList: ",this.props.goalList),this.props.goalList.filter((function(t){return t.start_at<=e&&e<=t.deadline}))}},{key:"render",value:function(){var e=this,t=this.selectTodayGoals(),a=t.map((function(t){return r.a.createElement(Ze,{goal:t,key:t.id,today:e.state.today})}));return console.log("[DEBUG] GoalListComponent is rendering"),r.a.createElement("div",null,r.a.createElement("div",{className:"menubar"},console.log(this.props),r.a.createElement(Ae,null)),r.a.createElement("div",{className:"calendarpanel"},r.a.createElement(je,{onSubmit:this.onDeadlineSubmit,goalList:t})),r.a.createElement("div",{className:"goallist"},r.a.createElement("h2",{className:"componentTitle"},"What's for today?"),a))}}]),a}(n.Component)),et=Object(s.c)((function(e){return console.log("goalList: ",e.goal.goals),{goalList:e.goal.goals}}),(function(e){return{onGetAllGoals:function(){return e(ee())}}}))($e),tt=a(42),at=a(48),nt=a(197),rt=(a(656),function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={title:"",file:null,fileName:"",upload:!1,deadline:new Date,start_at:new Date,tags:[],tagOptions:[],isCreating:!1,preview:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/480px-No_image_available.svg.png"},e.fileChange=function(t){t.target.files&&(e.setState({file:t.target.files[0],fileName:t.target.files[0].name,upload:!0},(function(){console.log("File chosen ---\x3e",e.state.file,console.log("File name  ---\x3e",e.state.fileName))})),e.setState({preview:URL.createObjectURL(t.target.files[0])}))},e.handleChangeStart=function(t,a){var n=a.name,r=a.value;e.setState(Object(tt.a)({},n,r))},e.handleChangeDeadline=function(t,a){var n=a.name,r=a.value;e.setState(Object(tt.a)({},n,r))},e}return Object(h.a)(a,[{key:"renderTitle",value:function(){var e=this;return r.a.createElement(C.a.Field,null,r.a.createElement("label",null,"Goal Title"),r.a.createElement(Ie.a,{placeholder:"Enter Title Here",className:"CreateGoalTitle",onChange:function(t){return e.setState({title:t.target.value})}}))}},{key:"renderPhoto",value:function(){this.state.statusCode;return r.a.createElement(O.a,null,r.a.createElement(Ce.a,{columns:"2"},r.a.createElement(Ce.a.Column,{width:"11"},r.a.createElement(C.a.Field,{style:{marginTop:"20px"}},r.a.createElement("label",{id:"PhotoInput"},"Add Goal Photo"),r.a.createElement(x.a,{as:"label",htmlFor:"file",type:"button",animated:"fade"},r.a.createElement(x.a.Content,{visible:!0},r.a.createElement(De.a,{name:"file"})),r.a.createElement(x.a.Content,{hidden:!0},"Choose a File")),r.a.createElement("input",{type:"file",id:"file",className:"GoalPhoto",hidden:!0,onChange:this.fileChange}),r.a.createElement(C.a.Input,{fluid:!0,label:"Photo Chosen ",placeholder:"Use the above bar to browse your file system",readOnly:!0,value:this.state.fileName}))),r.a.createElement(Ce.a.Column,{width:"5"},this.fileRender())))}},{key:"fileRender",value:function(){return r.a.createElement(O.a,{style:{boxShadow:"none",alignItems:"center"},textAlign:"center"},r.a.createElement("img",{id:"image",src:this.state.preview,style:{maxWidth:"150px",maxHeight:"180px",minWidth:"150px",minHeight:"150px"}}))}},{key:"renderDeadline",value:function(){return Ge()(this.state.start_at).startOf("day")>Ge()(this.state.deadline).startOf("day")&&(window.alert("Goal start date should be earlier than the goal deadline."),this.setState({start_at:this.state.deadline})),r.a.createElement(O.a,null,r.a.createElement(at.a,null,r.a.createElement(Ce.a,{columns:"two",textAlign:"center",className:"DeadlineGrid"},r.a.createElement(Ce.a.Column,{width:5},r.a.createElement(qe.DateInput,{id:"GoalFormStart",label:"Starting From",name:"start_at",placeholder:"Date",value:Ge()(this.state.start_at).format("YYYY-MM-DD"),iconPosition:"left",dateFormat:"YYYY-MM-DD",onChange:this.handleChangeStart})),r.a.createElement(Ce.a.Column,{width:5},r.a.createElement(qe.DateInput,{id:"GoalFormDeadline",label:"Deadline",name:"deadline",placeholder:"Date",value:Ge()(this.state.deadline).format("YYYY-MM-DD"),iconPosition:"left",dateFormat:"YYYY-MM-DD",onChange:this.handleChangeDeadline})))))}},{key:"onTagsChanged",value:function(e){this.setState({tags:e||[]})}},{key:"addTagOptions",value:function(e,t){var a=this.state.tagOptions;a.push({key:t.value,text:t.value,value:t.value}),console.log(a),this.setState({tagOptions:a})}},{key:"setTag",value:function(e){this.onTagsChanged(e.value)}},{key:"renderTag",value:function(){var e=this;return r.a.createElement(at.a,null,r.a.createElement("label",null,"Add Tags"),r.a.createElement(nt.a,{placeholder:"add goal tags here. You should add a tag in order to add a goal",search:!0,selection:!0,clearable:!0,multiple:!0,allowAdditions:!0,fluid:!0,onAddItem:function(t,a){return e.addTagOptions(t,a)},onChange:function(t,a){return e.setTag(a)},options:this.state.tagOptions,className:"GoalDropDown"}))}},{key:"onClickHandler",value:function(){var e=new FormData;e.append("title",this.state.title);var t=Ge()(this.state.start_at).startOf("day").unix(),a=Ge()(this.state.deadline).startOf("day").unix()+86399;console.log("Modified deadline: ",Ge.a.unix(t).format("MMMM Do YYYY, h:mm:ss a")),e.append("start_at",t),e.append("deadline",a);var n,r=Object(Ye.a)(this.state.tags);try{for(r.s();!(n=r.n()).done;){var l=n.value;e.append("tags",l)}}catch(o){r.e(o)}finally{r.f()}console.log("Create goal data.get('tags'): ",e.get("tags")),this.props.addGoal(e,this.state.file),this.setState({isCreating:!0})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"menubar"},r.a.createElement(Ae,null)),r.a.createElement("div",{style:{marginLeft:"130px",marginTop:"50px",maxWidth:"700px",marginRight:"10%"}},r.a.createElement(He.a,{className:"spinner",active:this.state.isCreating,spinner:!0,text:"Creating a new goal..."},r.a.createElement("h2",{id:"header"},"Add a Goal"),r.a.createElement(C.a,{id:"FormCreateForm",className:"FormCreate"},this.renderTitle(),this.renderPhoto(),this.renderDeadline(),this.renderTag(),r.a.createElement(x.a,{floated:"right",onClick:function(){m.push("/main")}},"Go Back"),r.a.createElement(x.a,{onClick:function(){return e.onClickHandler()},floated:"right",className:"GoalSubmitButton"},"Confirm")))))}}]),a}(n.Component)),lt=Object(s.c)(null,{addGoal:function(e,t){return function(){var a=Object(b.a)(y.a.mark((function a(n){var r,l,o,s;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r="https://goalingball-test.s3.amazonaws.com/",console.log("[DEBUG] addGoal formData: ",e),!t){a.next=15;break}return a.next=5,d.a.get("/api/v1/uploads/");case 5:return l=a.sent,console.log("[DEBUG] response.data in addGoal: ",l),a.next=9,d.a.put(l.data.url,t,{headers:{"Content-Type":"image/jpeg"}});case 9:a.sent,o=r+l.data.key,console.log("[DEBUG] imageUrl: ",o),e.append("photo",o),a.next=16;break;case 15:console.log("[DEBUG] no file found in addGoal");case 16:return a.next=18,d.a.post("/api/v1/goals/",e,{headers:{"Content-Type":"multipart/form-data"}});case 18:s=a.sent,console.log("[DEBUG] res from server when adding goal: ",s.data),n((i=s.data,{type:F,payload:i})),m.push("/main");case 22:case"end":return a.stop()}var i}),a)})));return function(e){return a.apply(this,arguments)}}()}})(Object(i.e)(rt)),ot=(a(658),a(659),function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={title:"",file:null,fileName:"",upload:!1,deadline:new Date,start_at:new Date,tags:[],tagOptions:[],isEditing:!1,preview:null==e.props.selectedGoal.photo?"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/480px-No_image_available.svg.png":e.props.selectedGoal.photo},e.fileChange=function(t){t.target.files&&(e.setState({file:t.target.files[0],fileName:t.target.files[0].name,upload:!0},(function(){console.log("File chosen ---\x3e",e.state.file,console.log("File name  ---\x3e",e.state.fileName))})),e.setState({preview:URL.createObjectURL(t.target.files[0])}))},e.handleChangeStart=function(t,a){var n=a.name,r=a.value;e.setState(Object(tt.a)({},n,r))},e.handleChangeDeadline=function(t,a){var n=a.name,r=a.value;e.setState(Object(tt.a)({},n,r))},e.onClickHandler=function(){var t={};console.log("EditGoalComponent this.state.title: ",e.state.title),console.log("EditGoalComponent this.props.selectedGoal.photo: ",e.props.selectedGoal.photo),t.title=e.state.title;var a=Ge()(e.state.start_at).startOf("day").unix(),n=Ge()(e.state.deadline).startOf("day").unix()+86399;t.start_at=a,t.deadline=n,t.tags=e.state.tags,e.props.selectedGoal.photo&&(t.photo=e.props.selectedGoal.photo),console.log("[DEBUG] EditGoalComponent formData: ",t),e.props.editGoal(e.props.selectedGoal.id,t,e.state.file),e.setState({isEditing:!0})},e}return Object(h.a)(a,[{key:"renderDefaultDate",value:function(){var e=Ge.a.unix(this.props.selectedGoal.start_at).format("YYYY-MM-DD"),t=Ge.a.unix(this.props.selectedGoal.deadline).format("YYYY-MM-DD");this.setState({start_at:e,deadline:t})}},{key:"renderDefaultTagOptions",value:function(){console.log("CALLED");var e=[],t=[];this.props.selectedGoal.tags.map((function(a){e.push({key:a,text:a,value:a}),t.push(a)})),this.setState({tagOptions:e,tags:t}),console.log("[DEBUG] tagOptions",this.state.tagOptions),console.log("[DEBUG] tags",this.state.tags)}},{key:"componentWillMount",value:function(){this.renderDefaultTagOptions()}},{key:"componentDidMount",value:function(){this.setState({title:this.props.selectedGoal.title}),this.renderDefaultDate()}},{key:"renderTitle",value:function(){var e=this;return r.a.createElement(C.a.Field,null,r.a.createElement("label",null,"Goal Title"),r.a.createElement(Ie.a,{placeholder:"Enter Title Here",defaultValue:this.props.selectedGoal.title,onChange:function(t){return e.setState({title:t.target.value})},id:"EditGoalFormTitle"}))}},{key:"renderPhoto",value:function(){this.state.statusCode;return r.a.createElement(O.a,null,r.a.createElement(Ce.a,{columns:"2"},r.a.createElement(Ce.a.Column,{width:"11"},r.a.createElement(C.a.Field,{style:{marginTop:"20px"}},r.a.createElement("label",{id:"PhotoInput"},"Add Goal Photo"),r.a.createElement(x.a,{as:"label",htmlFor:"file",type:"button",animated:"fade"},r.a.createElement(x.a.Content,{visible:!0},r.a.createElement(De.a,{name:"file"})),r.a.createElement(x.a.Content,{hidden:!0},"Choose a File")),r.a.createElement("input",{type:"file",id:"file",className:"EditGoalPhoto",hidden:!0,onChange:this.fileChange}),r.a.createElement(C.a.Input,{fluid:!0,label:"Photo Chosen ",placeholder:"Upload to edit goal photo",readOnly:!0,value:this.state.fileName}))),r.a.createElement(Ce.a.Column,{width:"5"},this.fileRender())))}},{key:"fileRender",value:function(){return r.a.createElement(O.a,{style:{boxShadow:"none",alignItems:"center"},textAlign:"center"},r.a.createElement("img",{id:"image",src:this.state.preview,style:{maxWidth:"150px",maxHeight:"180px",minWidth:"150px",minHeight:"150px"}}))}},{key:"renderDeadline",value:function(){return r.a.createElement(O.a,null,r.a.createElement(at.a,null,r.a.createElement(Ce.a,{columns:"two",textAlign:"center",className:"DeadlineGrid"},r.a.createElement(Ce.a.Column,{width:5},r.a.createElement(qe.DateInput,{id:"GoalFormStart",label:"Starting From",name:"start_at",placeholder:"Date",value:Ge()(this.state.start_at).format("YYYY-MM-DD"),iconPosition:"left",dateFormat:"YYYY-MM-DD",onChange:this.handleChangeStart})),r.a.createElement(Ce.a.Column,{width:5},r.a.createElement(qe.DateInput,{id:"GoalFormDeadline",label:"Deadline",name:"deadline",placeholder:"Date",value:Ge()(this.state.deadline).format("YYYY-MM-DD"),iconPosition:"left",dateFormat:"YYYY-MM-DD",onChange:this.handleChangeDeadline})))))}},{key:"onTagsChanged",value:function(e){this.setState({tags:e})}},{key:"addTagOptions",value:function(e,t){var a=this.state.tagOptions;a.push({key:t.value,text:t.value,value:t.value}),console.log(a),this.setState({tagOptions:a})}},{key:"setTag",value:function(e){this.onTagsChanged(e.value)}},{key:"renderTag",value:function(){var e=this;return r.a.createElement(at.a,null,r.a.createElement("label",null,"Add Tags"),r.a.createElement(nt.a,{placeholder:"add goal tags here",search:!0,selection:!0,clearable:!0,multiple:!0,allowAdditions:!0,fluid:!0,onAddItem:function(t,a){return e.addTagOptions(t,a)},onChange:function(t,a){return e.setTag(a)},options:this.state.tagOptions,className:"GoalDropDown"}))}},{key:"onTagsChanged",value:function(e){console.log("tag changing"),this.setState({tags:e}),console.log(this.state.tags)}},{key:"addTagOptions",value:function(e,t){var a=this.state.tagOptions;a.push({key:t.value,text:t.value,value:t.value}),this.setState({tagOptions:a})}},{key:"setTag",value:function(e){console.log("DEBUG: data change",e.value),this.onTagsChanged(e.value)}},{key:"renderTag",value:function(){var e=this;return r.a.createElement(at.a,null,r.a.createElement("label",null,"Add Tags"),r.a.createElement(nt.a,{search:!0,selection:!0,clearable:!0,multiple:!0,allowAdditions:!0,fluid:!0,defaultValue:this.state.tags,onAddItem:function(t,a){return e.addTagOptions(t,a)},onChange:function(t,a){return e.onTagsChanged(a.value)},options:this.state.tagOptions}))}},{key:"render",value:function(){return console.log("selected goal: ",this.props.selectedGoal),r.a.createElement("div",{className:"EditGoalForm"},r.a.createElement(He.a,{active:this.state.isEditing,spinner:!0,text:"Editing a new goal..."},r.a.createElement("div",null,r.a.createElement(C.a,{className:"EditGoalForm"},this.renderTitle(),this.renderPhoto(),this.renderDeadline(),this.renderTag(),r.a.createElement(x.a,{floated:"right"},"Go Back"),r.a.createElement(x.a,{onClick:this.onClickHandler,floated:"right",className:"ConfirmButton",id:"ConfirmButtonEditGoalForm"},"Confirm")))))}}]),a}(n.Component)),st=Object(s.c)(null,{editGoal:function(e,t,a){return function(){var n=Object(b.a)(y.a.mark((function n(r){var l,o,s,i,c,u,p;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("[DEBUG] editGoal data: ",t),!a){n.next=21;break}if(l="https://goalingball-test.s3.amazonaws.com/",o="",!("photo"in t)){n.next=9;break}s=new RegExp(l),o=t.photo.replace(s,""),n.next=13;break;case 9:return n.next=11,d.a.get("/api/v1/uploads/");case 11:i=n.sent,o=i.data.key;case 13:return n.next=15,d.a.put("/api/v1/uploads/",{key:o});case 15:return c=n.sent,n.next=18,d.a.put(c.data.url,a,{headers:{"Content-Type":"image/jpeg"}});case 18:n.sent,u=l+c.data.key,t.photo=u;case 21:return console.log("Edit goal data: ",t),n.next=24,d.a.put("/api/v1/goals/".concat(e,"/"),t,{headers:{"Content-Type":"application/json"}});case 24:p=n.sent,r(ae(p.data)),m.push("/main");case 27:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})(ot),it=(a(660),function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={editmode:!1,readmode:!0,title:e.props.task.title,importance:e.props.task.importance,day_of_week:e.props.task.day_of_week,start_at:e.props.task.start_at,deadline:e.props.task.deadline},e.onClickEditTaskHandler=function(){var t=!e.state.editmode,a=!e.state.readmode;e.setState({editmode:t,readmode:a})},e.onClickDeleteTaskHandler=function(){var t=e.props.task.id,a=e.props.task.goal_id;e.props.deleteTask(a,t)},e.deadlineDate=function(e){return Ge.a.unix(e).format("MMM Do YYYY")},e.startAtDate=function(e){return Ge.a.unix(e).format("MMM Do YYYY")},e.renderDeadlineString=function(t,a,n){var l="From ";if(l=l+e.startAtDate(a)+", Until "+e.deadlineDate(n),0!==t.length){var o,s="On every ",i=Object(Ye.a)(t);try{for(i.s();!(o=i.n()).done;){var c=o.value;s=s+(c=(c=c.toLowerCase()).charAt(0).toUpperCase()+c.slice(1))+", "}}catch(d){i.e(d)}finally{i.f()}return s=s.slice(0,s.length-2),r.a.createElement("div",{className:"TaskBodyListDeadline"},l,r.a.createElement("br",null),s)}return r.a.createElement("div",{className:"TaskBodyListDeadline"},l)},e.onSubmit=function(t){var a={title:e.state.title,importance:e.state.importance,day_of_week:e.state.day_of_week,start_at:1e3*Ge()(e.state.start_at).unix(),deadline:1e3*Ge()(e.state.deadline).unix()};console.log("Edit task data: ",a),e.props.editTask(e.props.task.id,a);var n=!e.state.editmode,r=!e.state.readmode;e.setState({editmode:n,readmode:r})},e.closeHandler=function(){var t=!e.state.editmode,a=!e.state.readmode;e.setState({editmode:t,readmode:a})},e.handleChangeStartAt=function(t,a){var n=a.value;Ge()(n)<Ge.a.unix(e.props.goal_start_at)?(window.alert("task start date cannot be earlier than goal start date. Goal start date will be set."),e.setState({start_at:e.props.goal_start_at})):e.setState({start_at:Ge()(n).unix()})},e.handleChangeDeadline=function(t,a){var n=a.value;Ge()(n)>Ge.a.unix(e.props.goal_deadline)?(window.alert("Task deadline cannot be longer than goal deadline. Goal deadline will be set."),e.setState({deadline:e.props.goal_deadline})):e.setState({deadline:Ge()(n).unix()})},e.renderEditMode=function(){return r.a.createElement(C.a,null,r.a.createElement(O.a,{className:"EditTaskForm",id:"EditTaskFormSegment"},r.a.createElement("h3",null,"Edit: ",e.state.title),r.a.createElement(C.a.Group,{widths:"equal"},r.a.createElement(C.a.Input,{label:"Title",placeholder:"Enter task title",onChange:function(t,a){return e.setState({title:a.value})},id:"EditTaskFormTitle",defaultValue:e.state.title})),r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Select,{multiple:!0,selection:!0,label:"Day of Week",id:"EditTaskFormDayofWeek",options:[{key:"m",text:"Monday",value:"MONDAY"},{key:"t",text:"Tuesday",value:"TUESDAY"},{key:"w",text:"Wednesday",value:"WEDNESDAY"},{key:"th",text:"Thursday",value:"THURSDAY"},{key:"f",text:"Friday",value:"FRIDAY"},{key:"s",text:"Saturday",value:"SATURDAY"},{key:"su",text:"Sunday",value:"SUNDAY"}],defaultValue:e.props.task.day_of_week,onChange:function(t,a){return e.setState({day_of_week:a.value})},placeholder:"Day of Week"}),r.a.createElement(qe.DateInput,{label:"Start At",id:"EditTaskFormDeadline",name:"start_at",placeholder:"Date",value:Ge.a.unix(e.state.start_at).format("YYYY-MM-DD"),iconPosition:"left",dateFormat:"YYYY-MM-DD",onChange:e.handleChangeStartAt}),r.a.createElement(qe.DateInput,{label:"Deadline",id:"EditTaskFormDeadline",name:"deadline",placeholder:"Date",value:Ge.a.unix(e.state.deadline).format("YYYY-MM-DD"),iconPosition:"left",dateFormat:"YYYY-MM-DD",onChange:e.handleChangeDeadline})),r.a.createElement(C.a.Group,{inline:!0},r.a.createElement("label",null,"Importance"),r.a.createElement(Le.a,{name:"simple-controlled",size:"large",id:"EditTaskFormImportance",value:e.state.importance,onChange:function(t,a){e.setState({importance:a})}})),r.a.createElement(x.a.Group,null,r.a.createElement(x.a,{className:"EditTaskSubmitButton",id:"EditTaskSubmit",onClick:e.onSubmit},"Submit"),r.a.createElement(x.a,{icon:!0,className:"EditTaskCloseButton",id:"EditTaskClose",onClick:e.closeHandler},r.a.createElement(De.a,{name:"x"})))))},e.renderReadMode=function(){var t=e.props.task;t.title,t.deadline,t.importance,t.day_of_week;return r.a.createElement(O.a,{className:"TaskBodySegment"},r.a.createElement(Ne.a,{className:"TaskBodyTitleList"},r.a.createElement(Ne.a.Item,{className:"TaskBodyListItem"},r.a.createElement(De.a,{name:"circle",className:"TaskBodyListIcon",size:"small"}),r.a.createElement(Ne.a.Content,{className:"TaskBodyListTitle"},r.a.createElement(Ne.a.Header,{className:"TaskBodyListTitleHeader"},e.state.title,r.a.createElement(Le.a,{className:"TaskBodyListRating",name:"simple-controlled",size:"small",id:"AddTaskFormImportance",value:e.state.importance,readOnly:!0})),e.renderDeadlineString(e.state.day_of_week,e.state.start_at,e.state.deadline)))),r.a.createElement(Ne.a.Item,null,r.a.createElement(x.a.Group,{className:"DeleteTaskButtonGroupAnother",floated:"right"},r.a.createElement(x.a,{size:"small",icon:!0,id:"EditButtonTaskBody",onClick:function(){return e.onClickEditTaskHandler()},style:{backgroundColor:"#ffffff",padding:"5px"}},r.a.createElement(De.a,{name:"edit"}),"\xa0Edit"))),r.a.createElement("br",null))},e}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.readmode&&this.renderReadMode(),this.state.editmode&&this.renderEditMode())}}]),a}(n.Component)),ct=Object(s.c)(null,{editTask:function(e,t){return function(){var a=Object(b.a)(y.a.mark((function a(n){var r;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.put("api/v1/tasks/".concat(e,"/"),t,{headers:{"Content-Type":"application/json"}});case 2:r=a.sent,console.log("edit task res.data: ",r.data),n({type:W,payload:r.data}),n({type:R,payload:r.data});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},deleteTask:se})(it),dt=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e,t=this;return e=this.props.tasks.map((function(e){return r.a.createElement(ct,{task:e,key:e.id,goal_start_at:t.props.goal_start_at,goal_deadline:t.props.goal_deadline})})),r.a.createElement("div",{className:"EditTaskComp"},console.log("DEBUG: tasks info",this.props.tasks),e)}}]),a}(n.Component),ut=(a(661),function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={editGoal:!1},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"EditPage"},r.a.createElement("div",{className:"menubar"},r.a.createElement(Ae,null)),r.a.createElement("div",{className:"EditGoalTaskTab"},r.a.createElement(x.a.Group,{className:"EditGoalTaskButtonGroup"},r.a.createElement(x.a,{className:"EditTaskTabButton",onClick:function(){return e.setState({editGoal:!1})}},"Edit Tasks"),r.a.createElement(x.a,{className:"EditGoalTabButton",onClick:function(){return e.setState({editGoal:!0})}},"Edit Goal")),this.state.editGoal?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Edit a Goal"),r.a.createElement(st,{selectedGoal:this.props.selectedGoal})):r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Edit Tasks"),this.props.selectedGoal?"":m.push("/main"),null!==this.props.selectedGoal&&this.props.selectedGoal.tasks.length>0?r.a.createElement(dt,{goal_start_at:this.props.selectedGoal.start_at,goal_deadline:this.props.selectedGoal.deadline,tasks:this.props.selectedGoal.tasks}):r.a.createElement("h5",null,'"Please add tasks first!"'))))}}]),a}(n.Component)),mt=Object(s.c)((function(e){return console.log("EditPageComponent selectedGoal: ",e.goal.selectedGoal),{selectedGoal:e.goal.selectedGoal}}),null)(ut),pt=(a(662),a(444)),ht=(a(671),function(e){var t=e.metric,a=[{y:t},{y:100-t}],l=Object(n.useState)([{y:0},{y:100}]),o=Object(E.a)(l,2),s=o[0],i=o[1];Object(n.useEffect)((function(){i(a)}),[]);return r.a.createElement("div",{className:"DashBoardPanel"},console.log("PANEL PROPS:  ",e),r.a.createElement(Ce.a,{className:"DashBoardPanelGrid"},r.a.createElement(Ce.a.Row,null,r.a.createElement(O.a,{style:{boxShadow:"none"}},r.a.createElement("h5",null,"WordCloud of goal tags"),r.a.createElement(pt.a,{className:"wordCloud",words:e.wordList,options:{rotations:2,rotationAngles:[-90,0],fontFamily:"impact",fontSizes:[12,38],fontStyle:"normal",fontWeight:"normal",colors:["#173f5f70","#20639b","#ed553b","#04837c"]}}))),r.a.createElement(Ce.a.Row,{className:"goalsDoneRow"},r.a.createElement(O.a,{className:"goalsDoneSegment",style:{boxShadow:"none"}},r.a.createElement("h5",null,"Percentage of Finished Goals"),r.a.createElement("svg",{viewBox:"0 0 500 400"},r.a.createElement(Me.a,{standalone:!1,animate:{easing:"exp"},labelComponent:r.a.createElement("span",null),width:500,height:400,data:s,innerRadius:166,colorScale:["#19B3A6","#EEEEEE"]}),r.a.createElement(Fe.a,{textAnchor:"middle",style:{fontSize:50},x:250,y:200,text:t+"%"})))),r.a.createElement(Ce.a.Row,null)))}),ft=a(268),gt=(a(672),a(144)),Et=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={title:e.props.goal.title,url:null==e.props.goal.photo?"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/480px-No_image_available.svg.png":e.props.goal.photo},e.getRandomInt=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},e.renderTags=function(){return e.props.goal.tags.map((function(t){var a=e.randomColor();return r.a.createElement(gt.a,{horizontal:!0,style:{marginTop:"2px",marginBottom:"2px",backgroundColor:a,color:"#FFFFFF"}},t)}))},e.randomColor=function(){switch(e.getRandomInt(0,7)){case 0:return"#24b4ab";case 1:return"#173f5f";case 2:return"#686566";case 3:return"#20639b";case 4:return"#ed553b";case 5:return"#04837c";case 6:return"#co6c84";case 7:return"#f3b54a"}},e.onClickHandler=function(){m.push("/goalhistory/"+e.props.goal.id)},e.onClickEditGoalHandler=Object(b.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getGoal(e.props.goal.id);case 2:m.push("/edit");case 3:case"end":return t.stop()}}),t)}))),e.onClickDeleteHandler=function(){window.confirm("Tasks and achievements of this goal will be lost. Are you sure?")&&e.props.deleteGoal(e.props.goal.id)},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t="url("+this.state.url+")";return r.a.createElement(ft.a,{className:"DashGoalCardComp",style:{width:"200px"}},r.a.createElement(ft.a.Content,{style:{height:"180px",backgroundImage:t,backgroundSize:"cover"}},r.a.createElement(ft.a.Description,null,this.renderTags())),r.a.createElement(ft.a.Content,{header:this.props.goal.title,textAlign:"center",s:!0,style:{padding:"12px"}}),r.a.createElement(ft.a.Description,{textAlign:"center",style:{color:"#807e7e",marginBottom:"2px"}},"From ",Ge.a.unix(this.props.goal.start_at).format("MMM Do YYYY")," ",r.a.createElement("br",null)," Until ",Ge.a.unix(this.props.goal.deadline).format("MMM Do YYYY")),r.a.createElement(ft.a.Content,{extra:!0},r.a.createElement(x.a.Group,{size:"tiny"},r.a.createElement(x.a,{onClick:this.onClickHandler},"Click for Details"),r.a.createElement(x.a,{size:"tiny",compact:!0,icon:!0,className:"DashEditGoal",onClick:function(){return e.onClickEditGoalHandler()}},r.a.createElement(De.a,{name:"edit"})),r.a.createElement(x.a,{size:"tiny",compact:!0,icon:!0,className:"DashDeleteGoal",onClick:function(){return e.onClickDeleteHandler()}},r.a.createElement(De.a,{name:"trash"})))))}}]),a}(r.a.Component),vt=Object(s.c)(null,{getGoal:te,deleteGoal:ne})(Object(i.e)(Et)),yt=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={select:0,show:0,max:e.props.goalCardList.length/6,showOptions:[{key:1,text:"Show All",value:1},{key:2,text:"Ongoing",value:2},{key:3,text:"Finished",value:3},{key:4,text:"Future",value:4}]},e.renderShowbyTime=function(t){var a=Ge()(new Date).startOf("day").unix();switch(t){case 1:return e.props.goalCardList.map((function(e){return r.a.createElement(vt,{goal:e})}));case 2:return e.props.goalCardList.reduce((function(e,t){return t.start_at<=a&&t.deadline>=a&&e.push(t),e}),[]).map((function(e){return r.a.createElement(vt,{goal:e})}));case 3:return e.props.goalCardList.reduce((function(e,t){return t.deadline<a&&e.push(t),e}),[]).map((function(e){return r.a.createElement(vt,{goal:e})}));case 4:return e.props.goalCardList.reduce((function(e,t){return t.start_at>a&&e.push(t),e}),[]).map((function(e){return r.a.createElement(vt,{goal:e})}));default:return e.props.goalCardList.map((function(e){return r.a.createElement(vt,{goal:e})}))}},e.renderSelect=function(){var t=6*e.state.select;return e.renderShowbyTime(e.state.show).slice(t,t+6)},e.prevHandler=function(){e.setState({select:e.state.select-1})},e.nextHandler=function(){e.setState({select:e.state.select+1})},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"DashBoardGoalCards"},r.a.createElement("h2",{style:{paddingTop:"5px"}},"Your Goals"),r.a.createElement(nt.a,{placeholder:"Filter by",search:!0,selection:!0,options:this.state.showOptions,onChange:function(t,a){return e.setState({show:a.value})},style:{border:"none",marginRight:"20px",marginLeft:"5px"}}),r.a.createElement(x.a.Group,null,r.a.createElement(x.a,{size:"tiny",disabled:0==this.state.select,onClick:function(){return e.prevHandler()},icon:"angle left",className:"dashcardprev"}),r.a.createElement(x.a,{size:"tiny",disabled:this.state.select==Math.floor(this.state.max),onClick:function(){return e.nextHandler()},icon:"angle right",className:"dashcardnext"})),r.a.createElement(O.a,{style:{boxShadow:"none",border:"none"}},r.a.createElement(ft.a.Group,null,this.renderSelect())))}}]),a}(n.Component),bt=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).getMetric=function(){if(0==e.props.goals.length)return 0;var t=Ge()(new Date).startOf("day").unix(),a=e.props.goals.reduce((function(e,a){return a.deadline<t&&e.push(a),e}),[]);return Math.floor(100*a.length/e.props.goals.length)},e.getWordCloud=function(){var t,a=[],n=Object(Ye.a)(e.props.goals);try{for(n.s();!(t=n.n()).done;){var r,l=t.value,o=Object(Ye.a)(l.tags);try{for(o.s();!(r=o.n()).done;){var s=r.value,i=a.find((function(e){return e.text==s}));void 0==i?a.push({text:s,value:10}):i.value+=10}}catch(c){o.e(c)}finally{o.f()}}}catch(c){n.e(c)}finally{n.f()}return console.log("wordlist",a),a},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.props.getAllGoal()}},{key:"render",value:function(){return r.a.createElement("div",{className:"dashboard"},r.a.createElement("div",{className:"menubar"},r.a.createElement(Ae,null)),r.a.createElement(Ce.a,{columns:"2",divided:!0},r.a.createElement(Be.a,{className:"dashboardGrid"},r.a.createElement(ht,{metric:this.getMetric(),wordList:this.getWordCloud()})),r.a.createElement(Be.a,null,r.a.createElement(yt,{goalCardList:this.props.goals}))))}}]),a}(n.Component),kt=Object(s.c)((function(e){return{goals:e.goal.goals}}),{getAllGoal:ee})(bt),Ct=(a(673),function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).startAtDate=function(e){return Ge.a.unix(e).format("MMM Do YYYY")},e.deadlineDate=function(e){return Ge.a.unix(e).format("MMM Do YYYY")},e.renderTags=function(){return e.props.selectedGoal.tags.map((function(t){var a=e.randomColor();return r.a.createElement(Ne.a.Item,null,r.a.createElement(gt.a,{horizontal:!0,style:{marginBottom:"2px",backgroundColor:a,color:"#FFFFFF"}},t))}))},e.getRandomInt=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},e.randomColor=function(){switch(e.getRandomInt(0,5)){case 0:return"#24b4ab";case 1:return"#173f5f";case 2:return"#686566";case 3:return"#20639b";case 4:return"#ed553b";case 5:return"#04837c"}},e}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"GeneralGoalInfoPanel"},r.a.createElement(O.a,{style:{boxShadow:"none"}},r.a.createElement(Ce.a,{row:"2"},r.a.createElement(Ce.a.Row,null,r.a.createElement("h2",{className:"GeneralGoalInfoTitle"},this.props.selectedGoal.title)),r.a.createElement(Ce.a.Row,{className:"GeneralGoalInfoSub"},r.a.createElement(Ce.a.Column,{width:"5"},r.a.createElement("p",{style:{color:"#807e7e"}},"From ",this.startAtDate(this.props.selectedGoal.start_at),", Until ",this.deadlineDate(this.props.selectedGoal.deadline))),this.renderTags()))))}}]),a}(n.Component)),Ot=(a(674),a(675),function(e){var t=Object(n.useState)(!1),a=Object(E.a)(t,2),l=(a[0],a[1]);return r.a.createElement(O.a,{style:{boxShadow:"none",margin:"0px",border:"none"},className:"TaskInfo"},r.a.createElement(Ce.a,{columns:"2",style:{padding:"4px"}},r.a.createElement(Ce.a.Column,{width:"2",style:{padding:"0px",alignItems:"center"}},r.a.createElement(x.a,{icon:!0,style:{backgroundColor:"#FFFFFF"},onClick:function(){l(!0),e.onSelect(e.task.id)}},r.a.createElement(De.a,{name:"check circle outline",size:"large",style:{paddingTop:"11px",paddingLeft:"20px"}}))),r.a.createElement(Ce.a.Column,{width:"14",style:{padding:"4px"}},r.a.createElement(Ne.a,{className:"TaskInfoTitleList"},r.a.createElement(Ne.a.Item,{className:"TaskInfoListItem"},r.a.createElement(Ne.a.Content,{className:"TaskInfoListTitle"},r.a.createElement(Ne.a.Header,{className:"TaskInfoListTitleHeader",style:{fontSize:"16px",paddingBottom:"12px",paddingTop:"0px"}},e.task.title,"\xa0\xa0\xa0",r.a.createElement(Le.a,{className:"TaskInfoListRating",name:"simple-controlled",size:"small",id:"AddTaskFormImportance",value:e.task.importance,readOnly:!0})),function(e,t,a){var n="From ";if(n=n+function(e){return Ge.a.unix(e).format("MMM Do YYYY")}(t)+", Until "+function(e){return Ge.a.unix(e).format("MMM Do YYYY")}(a),0!==e.length){var l,o="On every ",s=Object(Ye.a)(e);try{for(s.s();!(l=s.n()).done;){var i=l.value;o=o+(i=((i=i.toLowerCase()).charAt(0).toUpperCase()+i.slice(1)).slice(0,3))+", "}}catch(c){s.e(c)}finally{s.f()}return o=o.slice(0,o.length-2),r.a.createElement("p",{style:{fontSize:"14px",color:"#807d7d"}},n,r.a.createElement("br",null),o)}return r.a.createElement("p",{style:{fontSize:"13px",color:"#807d7d"}},n)}(e.task.day_of_week,e.task.start_at,e.task.deadline)))))))}),xt=(a(676),function(e){var t=e.achievement.percentage_complete,a=Ge.a.unix(e.achievement.written_at).format("MMM Do YYYY");return r.a.createElement(O.a,{className:"AccContainer"},r.a.createElement("h4",null,"Your achievement on ",a),r.a.createElement("br",null),r.a.createElement(Ce.a,{columns:"2",className:"AccGrid",divided:!0,style:{marginLeft:"0px"}},r.a.createElement(Ce.a.Column,{width:6,className:"AccContainerPercentage",style:{paddingLeft:"2px"}},r.a.createElement("svg",{viewBox:"0 0 520 520"},r.a.createElement(Me.a,{standalone:!1,labelComponent:r.a.createElement("span",null),width:520,height:520,data:[{key:"",y:t},{key:"",y:100-t}],innerRadius:166,colorScale:["#19B3A6","#EEEEEE"]}),r.a.createElement(Fe.a,{textAnchor:"middle",style:{fontSize:50},x:260,y:260,text:t+"%"})),r.a.createElement("p",{className:"AccChartTitle"},"percentage done")),r.a.createElement(Ce.a.Column,{width:10,className:"AccContainerDetail"},r.a.createElement(Ce.a,{columns:"2"},r.a.createElement(Ce.a.Column,{width:"5"},r.a.createElement("h5",null,"See Photo Preview")),r.a.createElement(Ce.a.Column,{width:"10",style:{paddingLeft:"0px"}},r.a.createElement("img",{id:"image",src:e.achievement.photo,className:"AccPreviewImage"}))))),r.a.createElement("div",{className:"description"},r.a.createElement(De.a,{name:"pencil alternate",style:{color:"#5F5F5F"}}),e.achievement.description),r.a.createElement("div",{className:"description"},r.a.createElement("br",null)))}),wt=function(e){var t;return t=0==e.number?0:e.total/e.number,r.a.createElement(O.a,{style:{boxShadow:"none"},className:"AchInfo"},r.a.createElement(Ce.a,{columns:"2",divided:!0},r.a.createElement(Ce.a.Column,null,r.a.createElement("p",{style:{textAlign:"center",fontSize:"30px",fontWeight:"lighter"}},e.number),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0total number of achievements"),r.a.createElement(Ce.a.Column,null,r.a.createElement("p",{style:{textAlign:"center",fontSize:"30px",fontWeight:"lighter"}},Math.floor(t),"%"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0average percentage complete")))},_t=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={selectedTask:null,achList:[],startIndex:0},e.onTaskSubmit=function(t){e.setState({selectedTask:t})},e.renderTaskInfo=function(){var t,a=e.props.tasks;return a.sort((function(e,t){return e.start_at<t.start_at?-1:e.start_at>t.start_at?1:0})),0==(t=a.map((function(t){return r.a.createElement(Ot,{task:t,onSelect:e.onTaskSubmit})}))).length?r.a.createElement("p",{style:{fontWeight:"600",fontSize:"15px"}},"\xa0\xa0No tasks added for this goal yet!"):t},e.prevHandler=function(){e.setState({startIndex:e.state.startIndex-1})},e.nextHandler=function(){e.setState({startIndex:e.state.startIndex+1})},e.renderAchTotal=function(){if(e.state.selectedTask){var t;console.log(e.props.achievements);var a=0,n=e.props.achievements;return n.sort((function(e,t){return e.written_at<t.written_at?-1:e.written_at>t.written_at?1:0})),t=n.reduce((function(t,n){return n.task==e.state.selectedTask&&(t.push(r.a.createElement(xt,{achievement:n})),a+=n.percentage_complete),t}),[]),r.a.createElement("div",null,r.a.createElement("p",null,"\xa0ACHIEVEMENT INFO"),r.a.createElement(wt,{number:t.length,total:a}),r.a.createElement("br",null),r.a.createElement("p",null,"\xa0ACHIEVEMENT JOURNAL"),t[e.state.startIndex],r.a.createElement(x.a.Group,{floated:"right"},r.a.createElement(x.a,{size:"tiny",icon:"angle left",style:{backgroundColor:"#FFFFFF"},className:"DashPrevAch",disabled:0==e.state.startIndex,onClick:function(){return e.prevHandler()}}),r.a.createElement(x.a,{size:"tiny",icon:"angle right",style:{backgroundColor:"#FFFFFF"},className:"DashNextAch",disabled:e.state.startIndex==t.length-1,onClick:function(){return e.nextHandler()}})))}return r.a.createElement("div",null,r.a.createElement("p",null,"\xa0ACHIEVEMENT INFO"),r.a.createElement("p",{style:{fontWeight:"600",fontSize:"15px"}},"\xa0Select a task to see achievement info!"),r.a.createElement("br",null),r.a.createElement("p",null,"\xa0ACHIEVEMENT JOURNAL"),r.a.createElement("p",{style:{fontWeight:"600",fontSize:"15px"}},"\xa0Select a task to see achievement journals!"))},e}return Object(h.a)(a,[{key:"render",value:function(){return console.log(this.state.selectedTask),r.a.createElement(O.a,{className:"TaskAndAchContainer",style:{boxShadow:"none",border:"none"}},r.a.createElement(Ce.a,{columns:"2",divided:!0,style:{minHeight:"700px",marginTop:"5px"}},r.a.createElement(Ce.a.Column,{style:{paddingTop:"0px",paddingLeft:"0px"},width:"7"},r.a.createElement("p",null,"\xa0\xa0TASKS YOU'VE DONE"),this.renderTaskInfo()),r.a.createElement(Ce.a.Column,{width:"9",style:{paddingTop:"0px"}},this.renderAchTotal())))}}]),a}(n.Component),Dt=(a(677),function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"componentDidMount",value:function(){console.log("mounting"),this.props.getGoal(this.props.match.params.id),this.props.get_achievements_of_goal(this.props.match.params.id)}},{key:"render",value:function(){return console.log(this.props.achievements),r.a.createElement("div",{className:"GoalDetailPage"},r.a.createElement("div",{className:"menubar"},r.a.createElement(Ae,null)),null!==this.props.selectedGoal&&r.a.createElement(Ct,{selectedGoal:this.props.selectedGoal}),null!==this.props.selectedGoal&&r.a.createElement(_t,{tasks:this.props.selectedGoal.tasks,achievements:this.props.achievements}))}}]),a}(n.Component)),At=Object(s.c)((function(e){return console.log("DETAIL selectedGoal: ",e.goal.selectedGoal),{selectedGoal:e.goal.selectedGoal,achievements:Object.values(e.achievement)}}),{getGoal:te,get_achievements_of_goal:function(e){return function(){var t=Object(b.a)(y.a.mark((function t(a){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("/api/v1/achievements/goal/".concat(e,"/"));case 2:n=t.sent,console.log("[DEBUG] get_achievements_of_goal res.data: ",n.data),a({type:K,payload:n.data});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(Object(i.e)(Dt)),Tt=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={title:e.props.goal.title,url:null==e.props.goal.photo?"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/480px-No_image_available.svg.png":e.props.goal.photo},e.getRandomInt=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},e.renderTags=function(){return e.props.goal.tags.map((function(t){var a=e.randomColor();return r.a.createElement(gt.a,{horizontal:!0,style:{marginTop:"2px",marginBottom:"2px",backgroundColor:a,color:"#FFFFFF"}},t)}))},e.randomColor=function(){switch(e.getRandomInt(0,7)){case 0:return"#24b4ab";case 1:return"#173f5f";case 2:return"#686566";case 3:return"#20639b";case 4:return"#ed553b";case 5:return"#04837c";case 6:return"#co6c84";case 7:return"#f3b54a"}},e.onClickHandler=function(){m.push("/explore/goalhistory/"+e.props.goal.id)},e}return Object(h.a)(a,[{key:"render",value:function(){var e="url("+this.state.url+")";return r.a.createElement(ft.a,{className:"RecCardComp",style:{width:"190px"}},r.a.createElement(ft.a.Content,{style:{height:"180px",backgroundImage:e,backgroundSize:"cover"}},r.a.createElement(ft.a.Description,null,this.renderTags())),r.a.createElement(ft.a.Content,{header:this.props.goal.title,textAlign:"center",s:!0,style:{padding:"12px",paddingBottom:"0px"}}),r.a.createElement(ft.a.Description,{textAlign:"center",style:{color:"#807e7e",marginBottom:"5px"}},r.a.createElement(De.a,{name:"user circle"}),"\xa0",this.props.goal.username),r.a.createElement(ft.a.Content,{extra:!0},r.a.createElement(x.a,{floated:"right",fluid:!0,onClick:this.onClickHandler},"Look More")))}}]),a}(r.a.Component),St=function(e){var t=Object(n.useState)(0),a=Object(E.a)(t,2),l=a[0],o=a[1],s=e.goals.map((function(e){return r.a.createElement(Tt,{goal:e})}));return r.a.createElement("div",{className:"RecGoalCards",style:{marginLeft:"130px",width:"90%"}},r.a.createElement(O.a,{style:{boxShadow:"none",border:"none",display:"flex"}},r.a.createElement(ft.a.Group,null,s.slice(0,10*l+10))),r.a.createElement(x.a,{style:{marginLeft:"10px"},className:"ExpShowMore",disabled:l>0,onClick:function(){o(l+1)}},"Click for more recommendations!"),r.a.createElement(x.a,{style:{marginLeft:"10px"},className:"ExpShowLess",disabled:!(l>0),onClick:function(){o(l-1)}},"Hide recommendations"))},Gt=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"componentDidMount",value:function(){console.log("mounting explore page"),this.props.explore_getAllGoal()}},{key:"render",value:function(){return r.a.createElement("div",{className:"dashboard"},r.a.createElement("div",{className:"menubar"},r.a.createElement(Ae,null)),r.a.createElement("h3",{style:{paddingLeft:"138px",paddingTop:"7px",marginTop:"15px",paddingBottom:"10px",fontSize:"30px"}},"Explore new goals"),r.a.createElement(St,{goals:this.props.goals}))}}]),a}(n.Component),Nt=Object(s.c)((function(e){return console.log("EXPLORE all goals:",e.explore.goals),{goals:e.explore.goals}}),{explore_getAllGoal:function(){return function(e){return d.a.get("/api/v1/explore/recommend/").then((function(t){return e((a=t.data,console.log("explore_getAllGoal_ goals: ",a),{type:Q,goals:a.slice(1,a.length)}));var a}))}}})(Gt),jt=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.props.explore_getGoal(this.props.match.params.id),this.props.explore_get_ach_by_goal(this.props.match.params.id)}},{key:"render",value:function(){return r.a.createElement("div",{className:"ExploreGoalDetailPage",style:{width:"80%",marginLeft:"125px",maxWidth:"1190px"}},r.a.createElement("div",{className:"menubar"},r.a.createElement(Ae,null)),null!==this.props.selectedGoal&&r.a.createElement(Ct,{selectedGoal:this.props.selectedGoal}),null!==this.props.selectedGoal&&r.a.createElement(_t,{tasks:this.props.selectedGoal.tasks,achievements:this.props.achievements}))}}]),a}(n.Component),Yt=Object(s.c)((function(e){return{selectedGoal:e.explore.selectedGoal,achievements:e.explore.achievements}}),{explore_getGoal:function(e){return function(t){return d.a.get("/api/v1/explore/recommend/"+e+"/").then((function(e){var a;t((a=e.data,{type:Z,target:a}))}))}},explore_get_ach_by_goal:function(e){return function(t){return d.a.get("/api/v1/explore/recommend/ach/"+e+"/").then((function(e){t(ce(e.data))}))}}})(jt);d.a.defaults.xsrfHeaderName="X-CSRFTOKEN",d.a.defaults.xsrfCookieName="csrftoken";var Mt=function(e){return r.a.createElement(i.b,{history:m},r.a.createElement("div",{className:"App",id:"fill-window"},r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",exact:!0,component:xe}),r.a.createElement(i.a,{path:"/create",exact:!0,component:lt}),r.a.createElement(i.a,{path:"/edit",exact:!0,component:mt}),r.a.createElement(i.a,{path:"/main",exact:!0,component:et}),r.a.createElement(i.a,{path:"/dashboard",exact:!0,component:kt}),r.a.createElement(i.a,{path:"/explore",exact:!0,component:Nt}),r.a.createElement(i.a,{path:"/explore/goalhistory/:id",exact:!0,component:Yt}),r.a.createElement(i.a,{path:"/goalhistory/:id",exact:!0,component:At}))))},Ft=a(120),Lt=a(35),Bt=a(16),It={goals:[],selectedGoal:null},Ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(Bt.a)(Object(Bt.a)({},e),{},{goals:t.payload});case M:return Object(Bt.a)(Object(Bt.a)({},e),{},{selectedGoal:t.payload});case F:var a=t.payload;return Object(Bt.a)(Object(Bt.a)({},e),{},{goals:[].concat(Object(Lt.a)(e.goals),[a])});case L:console.log(e.goals.filter((function(e){return e.id!==t.payload.id})));var n=e.goals.filter((function(e){return e.id!==t.payload.id})).concat([t.payload]);return Object(Bt.a)(Object(Bt.a)({},e),{},{selectedGoal:t.payload,goals:n});case R:var r=e.selectedGoal.tasks.filter((function(e){return e.id!==t.payload.id})),l=Object(Bt.a)(Object(Bt.a)({},e.selectedGoal),{},{tasks:[].concat(Object(Lt.a)(r),[t.payload])});return Object(Bt.a)(Object(Bt.a)({},e),{},{selectedGoal:l});case B:var o=e.goals.filter((function(e){return e.id!==t.id}));return Object(Bt.a)(Object(Bt.a)({},e),{},{goals:o});case I:var s=e.goals.filter((function(e){return e.id===t.payload.goal}))[0],i=e.goals.filter((function(e){return e.id!==t.payload.goal}));return Object(Bt.a)(Object(Bt.a)({},e),{},{goals:[].concat(Object(Lt.a)(i),[Object(Bt.a)(Object(Bt.a)({},s),{},{tasks:[].concat(Object(Lt.a)(s.tasks),[t.payload])})])});case U:var c=e.goals.filter((function(e){return e.id===t.payload.goal_id}))[0],d=c.tasks.filter((function(e){return e.id!==t.payload.task_id})),u=Object(Bt.a)(Object(Bt.a)({},c),{},{tasks:d}),m=e.goals.filter((function(e){return e.id!==t.payload.goal_id}));return Object(Bt.a)(Object(Bt.a)({},e),{},{goals:[].concat(Object(Lt.a)(m),[u]),selectedGoal:u})}return e},Rt={tasks:[],selectedTask:null},Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(Bt.a)(Object(Bt.a)({},e),{},{tasks:t.payload});case P:var a=t.payload;return Object(Bt.a)(Object(Bt.a)({},e),{},{tasks:[].concat(Object(Lt.a)(e.tasks),[a])});case z:var n=e.tasks.filter((function(e){return e.id!==t.payload}));return Object(Bt.a)(Object(Bt.a)({},e),{},{tasks:n});case W:var r=e.tasks.filter((function(e){return e.id!==t.payload.id}));return Object(Bt.a)(Object(Bt.a)({},e),{},{tasks:[].concat(Object(Lt.a)(r),[t.payload])})}return e},Pt=a(302),zt=a.n(Pt),Wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:case K:return Object(Bt.a)(Object(Bt.a)({},e),zt.a.mapKeys(t.payload,"id"));case q:case X:return Object(Bt.a)(Object(Bt.a)({},e),{},Object(tt.a)({},t.payload.id,t.payload));case J:return zt.a.omit(e,t.payload);default:return e}},Vt=a(270),Kt={authModal:!1,addTask:!1,addAcc:!1},qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return{authModal:!1,addTask:!1,addAcc:!1};case T:return{authModal:!0};case S:return{addTask:!0};case G:return{addTask:!1};case N:return{addAcc:!0};case j:return{addAcc:!1};default:return e}},Xt={goals:[],selectedGoal:null,achievements:[]},Jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(Bt.a)(Object(Bt.a)({},e),{},{goals:t.goals});case Z:return Object(Bt.a)(Object(Bt.a)({},e),{},{selectedGoal:t.target});case $:return Object(Bt.a)(Object(Bt.a)({},e),{},{achievements:t.achievements})}return e},Qt=Object(Ft.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:case _:return t.payload;case D:return null;default:return e}},goal:Ut,task:Ht,achievement:Wt,modal:qt,explore:Jt,router:Object(Vt.a)(m)}),Zt=a(443),$t=a(419),ea=[function(e){return function(t){return function(a){console.log("[Middleware] Dispatching",a);var n=t(a);return console.log("[Middleware] Next State",e.getState()),n}}},Zt.a,Object($t.a)(m)],ta=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ft.d,aa=Object(Ft.e)(Qt,{},ta(Ft.a.apply(void 0,ea)));a(678);o.a.render(r.a.createElement(s.a,{store:aa},r.a.createElement(Mt,{history:m})),document.getElementById("root"))}},[[679,1,2]]]);
//# sourceMappingURL=main.691e32ad.chunk.js.map