(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{477:function(e,t,a){},478:function(e,t,a){},480:function(e,t,a){},509:function(e,t,a){},510:function(e,t,a){},511:function(e,t,a){},512:function(e,t,a){},513:function(e,t,a){},514:function(e,t,a){},515:function(e,t,a){},516:function(e,t,a){},620:function(e,t,a){},621:function(e,t,a){},654:function(e,t,a){},655:function(e,t,a){},658:function(e,t,a){},659:function(e,t,a){},660:function(e,t,a){},661:function(e,t,a){},669:function(e,t){},670:function(e,t,a){},671:function(e,t,a){},672:function(e,t,a){},673:function(e,t,a){},674:function(e,t,a){},675:function(e,t,a){},676:function(e,t,a){},678:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(56),o=a.n(r),s=a(14),i=a(296),c=(a(477),a(93)),d=Object(c.a)(),u=a(20),m=a(21),p=a(23),h=a(22),f=(a(478),a(41)),g=a(220),E=a(743),v=a(341),y=a(172),b=(a(480),"SIGNUP_USER"),k="LOGIN_USER",C="LOGOUT_USER",O="CLOSE_MODAL",w="OPEN_AUTH_MODAL",x="OPEN_ADD_TASK_MODAL",_="CLOSE_ADD_TASK_MODAL",D="OPEN_ADD_ACC_MODAL",A="CLOSE_ADD_ACC_MODAL",T="GET_ALL_GOAL",S="GET_GOAL",G="ADD_GOAL",N="EDIT_GOAL",j="DELETE_GOAL",M="ADD_TASK_TO_GOAL",Y="DELETE_TASK_FROM_GOAL",F="EDIT_TASK_OF_SELECTED_GOAL",L="GET_ALL_TASK",B="ADD_TASK",I="DELETE_TASK",U="EDIT_TASK",R="GET_ACHIEVEMENTS_OF_TASK",H="GET_ACHIEVEMENTS_OF_GOAL",P="ADD_ACHIEVEMENT",z="EDIT_ACHIEVEMENT",W="DELETE_ACHIEVEMENT",V="EXPLORE_GET_ALL_GOAL",K="EXPLORE_GET_GOAL",q="EXPLORE_GET_ACH_BY_GOAL",X=a(12),J=a.n(X),Q=a(30),Z=a(27),$=a.n(Z),ee=function(e){return function(t){return $.a.post("/api/v1/users/signup/",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return t((a=e.data,{type:b,payload:{id:a.id,username:a.username}}));var a}))}},te=function(){return function(e){return $.a.get("/api/v1/goals/").then((function(t){return e((a=t.data,console.log("getAllGoal_ goals: ",a),{type:T,payload:a}));var a}))}},ae=function(e){return function(t){return $.a.get("/api/v1/goals/"+e+"/").then((function(e){var a;t((a=e.data,{type:S,payload:a}))}))}},ne=function(e){return{type:N,payload:e}},le=function(e){return function(t){return $.a.delete("/api/v1/goals/"+e).then((function(a){return t(function(e){return{type:j,id:e}}(e))}))}},re=function(){return{type:O,payload:null}},oe=function(e){return{type:M,payload:{id:e.id,user:e.user,goal:e.goal,title:e.title,start_at:e.start_at,deadline:e.deadline,importance:e.importance,day_of_week:e.day_of_week}}},se=function(e,t){return{type:Y,payload:{goal_id:e,task_id:t}}},ie=function(e,t){return function(){var a=Object(Q.a)(J.a.mark((function a(n){return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("[DEBUG] deleteTask start"),a.next=3,$.a.delete("/api/v1/tasks/"+t+"/");case 3:a.sent,n({type:I,payload:t}),n(se(e,t)),console.log("[DEBUG] sdeleteTask done");case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},ce=function(e){return function(){var t=Object(Q.a)(J.a.mark((function t(a){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.a.get("/api/v1/achievements/task/".concat(e,"/"));case 2:n=t.sent,console.log("[DEBUG] get_achievements_of_task res.data: ",n.data),a({type:R,payload:n.data});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},de=function(e){return{type:q,achievements:e}},ue=a(423),me=a.n(ue),pe="This field is required",he=function(e){return l.a.createElement("div",{className:"invalid-feedback"},e)},fe=function(){var e=Object(s.d)(),t=Object(g.a)(),a=t.register,n=t.handleSubmit,r=(t.watch,t.errors);return l.a.createElement(E.a,{onSubmit:n((function(t,a){a.preventDefault();var n=new FormData;n.append("username",t.username),n.append("password",t.password),e(function(e){return function(){var t=Object(Q.a)(J.a.mark((function t(a){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.a.post("/api/v1/users/login/",e);case 2:n=t.sent,a((l=n.data,console.log("[DEBUG] loginUser action. user: ",l),{type:k,payload:{id:l.id,username:l.username}})),d.push("/main");case 5:case"end":return t.stop()}var l}),t)})));return function(e){return t.apply(this,arguments)}}()}(n))}))},l.a.createElement(v.a,{className:"LoginSegment"},l.a.createElement("label",{htmlFor:"username"},"Username"),l.a.createElement("input",{id:"username",name:"username",placeholder:"Enter username",ref:a({required:pe,minLength:{value:5,message:"Username must be at leat 5 characters"}})}),r.username&&he(r.username.message),l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{id:"password",name:"password",type:"password",placeholder:"Enter password",ref:a({required:pe})}),r.password&&he(r.password.message)),l.a.createElement(y.a,{type:"submit",className:"submitButtonLogin"},"Login"))},ge=a(342),Ee=a.n(ge),ve=(a(509),function(e){Ee.a.setAppElement("#root");var t=e.children,a=Object(s.d)();return l.a.createElement(Ee.a,Object.assign({id:"reactModal"},e,{style:{overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(230, 230, 230, 0.5)"}}}),t,l.a.createElement(y.a,{className:"modal__close-btn",onClick:function(){return a(re())},floated:"right",id:"closeButton"},"close"))}),ye=a(249),be=(a(510),function(e){var t=Object(s.e)((function(e){return e.modal.authModal})),a=Object(n.useState)(e.authMode),r=Object(f.a)(a,2),o=r[0],i=r[1],c="signup"===o?function(){var e=Object(s.d)(),t=Object(g.a)(),a=t.register,n=t.handleSubmit,r=t.watch,o=t.errors,i=t.reset,c=r("password","");return l.a.createElement(E.a,{className:"signupForm",onSubmit:n((function(t,a){a.preventDefault(),console.log("[DEBUG] signup form data: ",t);var n=new FormData;n.append("username",t.username),n.append("password",t.password1),e(ee(n)),i()}))},l.a.createElement(v.a,{className:"signupSegment"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{id:"email",name:"email",placeholder:"Enter email",ref:a({required:pe,validate:function(e){return me()(e)||"Not valid email pattern"}}),style:{borderColor:o.email&&"red"}}),o.email&&he(o.email.message),l.a.createElement("label",{htmlFor:"username"},"Username"),l.a.createElement("input",{id:"username",name:"username",placeholder:"Enter username",ref:a({required:pe,minLength:{value:5,message:"min length is 5"}}),style:{borderColor:o.username&&"red"}}),o.username&&he(o.username.message),l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{id:"password",name:"password",type:"password",placeholder:"Enter password",ref:a({required:pe,minLength:{value:4,message:"Password must have at least 4 characters"}}),style:{borderColor:o.password&&"red"}}),o.password&&he(o.password.message),l.a.createElement("label",{htmlFor:"password_confirm"},"Confirm password"),l.a.createElement("input",{id:"password_confirm",name:"password_confirm",type:"password",placeholder:"Confirm password",ref:a({required:pe,validate:function(e){return e===c||"The passwords do not match"}}),style:{borderColor:o.password_confirm&&"red"}}),o.password_confirm&&he(o.password_confirm.message)),l.a.createElement(y.a,{type:"submit",className:"submitButton"},"Sign Up"))}():fe();return l.a.createElement(v.a,{className:"SegmentModal"},l.a.createElement(ve,{isOpen:t},l.a.createElement("div",{className:"modal-container small-container modal-auth",id:"Auth"},l.a.createElement(ye.a,{className:"ButtonGroupModal",floated:"right"},l.a.createElement(y.a,{onClick:function(){return i("signup")},id:"AuthSignup"},"Sign Up"),l.a.createElement(y.a,{onClick:function(){return i("login")},id:"AuthLogin"},"Log In")),l.a.createElement("br",null),l.a.createElement("div",{className:"modal__body"},c))))}),ke=a(424),Ce=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={authMode:"signup"},e.onClickSignup=function(){e.setState({authMode:"signup"}),e.props.openAuthModal()},e.onClickLogin=function(){e.setState({authMode:"login"}),e.props.openAuthModal()},e}return Object(m.a)(a,[{key:"render",value:function(){return this.props.isUserLoggedIn?(d.push("/main"),l.a.createElement("div",null,"Should redirect to main page")):l.a.createElement(E.a,{center:"true",aligned:"true",className:"FormLogin"},l.a.createElement(v.a,{className:"Segment"},l.a.createElement(ke.a,{columns:2,className:"grid",divided:"vertically",style:{marginLeft:"10px"}},l.a.createElement(ke.a.Column,null,l.a.createElement("h2",{className:"title"},"Goaling Ball"),l.a.createElement("h3",{className:"subtitle",style:{fontSize:"17px"}},"Your goal management service.")),l.a.createElement(ke.a.Column,null,l.a.createElement(ye.a,{className:"ButtonGroup"},l.a.createElement(y.a,{onClick:this.onClickSignup,className:"Button",id:"ButtonSignup"},"SIGN UP"),l.a.createElement(y.a,{onClick:this.onClickLogin,className:"Button",id:"ButtonLogin"},"LOGIN")))),this.props.isAuthModalOpen&&l.a.createElement(be,{authMode:this.state.authMode}),console.log("DEBUG: ",this.props.isAuthModalOpen)))}}]),a}(l.a.Component),Oe=Object(s.c)((function(e){return{isUserLoggedIn:e.auth,isAuthModalOpen:e.modal.authModal}}),{openAuthModal:function(){return{type:w,payload:null}}})(Ce),we=(a(511),a(744)),xe=a(426),_e=a(81),De=function(e){Object(s.e)((function(e){return e.auth}));var t=Object(s.d)(),a=function(){t(($.a.post("/api/v1/users/logout/"),{type:C,payload:null})),d.push("/")};return l.a.createElement(we.a,{className:"Sidebar",animation:"uncover",vertical:!0,visible:"true"},l.a.createElement(ke.a,{verticalAlign:"middle",rows:5,centered:!0,className:"gridBar"},l.a.createElement(ke.a.Row,null,l.a.createElement(xe.a.Item,{as:"a"},l.a.createElement("button",{class:"ui basic button",onClick:function(){d.push("/create")},className:"button-create",id:"CreateButton"},l.a.createElement(_e.a,{name:"plus circle",size:"large",id:"icon"}),l.a.createElement("br",null),"Create"))),l.a.createElement(ke.a.Row,null,l.a.createElement(xe.a.Item,{as:"a"},l.a.createElement("button",{class:"ui basic button",onClick:function(){return d.push("/main")},className:"button",id:"MainButton"},l.a.createElement(_e.a,{name:"home",size:"large",id:"icon"}),l.a.createElement("br",null),"Main"))),l.a.createElement(ke.a.Row,null,l.a.createElement(xe.a.Item,{as:"a"},l.a.createElement("button",{class:"ui basic button",onClick:function(){return d.push("/dashboard")},className:"button",id:"DashButton"},l.a.createElement(_e.a,{name:"chart bar outline",size:"large",id:"icon"}),l.a.createElement("br",null),"Dashboard"))),l.a.createElement(ke.a.Row,null,l.a.createElement(xe.a.Item,{as:"a"},l.a.createElement("button",{class:"ui basic button",onClick:function(){return d.push("/explore")},className:"button",id:"ExpButton"},l.a.createElement(_e.a,{name:"search",size:"large",id:"icon"}),l.a.createElement("br",null),"Explore"))),l.a.createElement(ke.a.Row,null,l.a.createElement(xe.a.Item,{as:"a"},l.a.createElement("button",{class:"ui basic button",onClick:function(){return a()},className:"button-logout",id:"LogoutButton"},l.a.createElement(_e.a,{name:"arrow alternate circle right outline",size:"large",id:"icon"}),l.a.createElement("br",null),"Logout")))))},Ae=a(444),Te=(a(512),a(9)),Se=a.n(Te),Ge=a(745),Ne=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={date:new Date},e.onChange=function(t){e.setState({date:t}),console.log("DEBUG on Calendar",Se()(t).endOf("day")),e.props.onSubmit(t)},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.goalList.map((function(e){return l.a.createElement(Ge.a.Item,{style:{paddingLeft:"20px",cursor:"default"}},l.a.createElement(Ge.a.Content,null,l.a.createElement(Ge.a.Header,{as:"a"},e.title)))}));return l.a.createElement("nav",{class:"panel",className:"CalendarPanel"},l.a.createElement(Ae.a,{id:"Calendar",onChange:this.onChange,value:this.state.date}),l.a.createElement(Ge.a,{relaxed:!0,bulleted:!0,style:{paddingLeft:"30px"}},l.a.createElement("p",{style:{marginTop:"10px"}},"GOALS"),e))}}]),a}(n.Component),je=(a(513),a(31)),Me=(a(514),a(515),a(747)),Ye=a(750),Fe=(a(335),a(751)),Le=a(115),Be=a(682),Ie=a(752),Ue=(a(516),a(174)),Re=a.n(Ue),He=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={achievement:e.props.achievement,isEdit:!!e.props.achievement,isCreating:!1,percentage_complete:e.props.achievement?e.props.achievement.percentage_complete:0,today:void 0==e.props.today?null:Se()(e.props.today).startOf("day").unix()+86400-1,file:null,fileName:"",photo:e.props.achievement?e.props.achievement.photo:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/480px-No_image_available.svg.png",description:e.props.achievement?e.props.achievement.description:""},e.fileChange=function(t){t.target.files&&(e.setState({file:t.target.files[0],fileName:t.target.files[0].name},(function(){console.log("File chosen ---\x3e",e.state.file,console.log("File name  ---\x3e",e.state.fileName))})),e.setState({photo:URL.createObjectURL(t.target.files[0])}))},e.closeHandler=function(){e.props.onSubmit()},e.onPercentageCompleteChange=function(t,a){e.setState({percentage_complete:a})},e.handleSubmit=Object(Q.a)(J.a.mark((function t(){var a,n,l,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({isCreating:!0}),!e.state.isEdit){t.next=9;break}return a=e.props.achievement.id,n=e.props.achievement.photo,l={percentage_complete:e.state.percentage_complete,written_at:e.state.today,description:e.state.description,photo:e.state.photo},t.next=7,e.props.edit_achievement(a,l,e.state.file,n);case 7:t.next=16;break;case 9:return(r=new FormData).append("task_id",e.props.task_id),r.append("percentage_complete",e.state.percentage_complete),r.append("written_at",e.state.today),r.append("description",e.state.description),t.next=16,e.props.add_achievement(r,e.state.file);case 16:e.props.onSubmit(!1);case 17:case"end":return t.stop()}}),t)}))),e}return Object(m.a)(a,[{key:"fileRender",value:function(){return l.a.createElement(v.a,null,l.a.createElement(ke.a,{columns:"2",divided:!0},l.a.createElement(Le.a,{width:"5"},l.a.createElement("h5",null,"See Photo Preview")),l.a.createElement(Le.a,{width:"10"},l.a.createElement("img",{id:"image",src:this.state.photo,className:"AccPreviewImage"}))))}},{key:"renderPhoto",value:function(){return l.a.createElement(v.a,{className:"AddAccPhoto"},l.a.createElement(E.a.Field,null,l.a.createElement("label",{id:"PhotoInput"},this.state.isEdit?"Edit ":"Add "," Achievement Photo"),l.a.createElement(y.a,{as:"label",htmlFor:"file",type:"button",animated:"fade"},l.a.createElement(y.a.Content,{visible:!0},l.a.createElement(_e.a,{name:"file"})),l.a.createElement(y.a.Content,{hidden:!0},"Choose a File")),l.a.createElement("input",{type:"file",id:"file",className:"AccPhoto",hidden:!0,onChange:this.fileChange}),l.a.createElement(E.a.Input,{fluid:!0,label:"Photo Chosen ",placeholder:"Use the above bar to browse your file system",readOnly:!0,value:this.state.fileName}),l.a.createElement(y.a,{style:{marginTop:"7px"},onClick:this.fileChange,id:"UploadPhotoButton"}," See Preview ")))}},{key:"renderDescription",value:function(){var e=this;return l.a.createElement(E.a.Field,{className:"AddAccDes"},l.a.createElement("label",null,"Description"),l.a.createElement(Be.a,{fluid:!0,placeholder:"Write a description about your acheivement",value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})}}))}},{key:"render",value:function(){return l.a.createElement(Re.a,{className:"AddAccForm",active:this.state.isCreating,spinner:!0,text:this.state.isEdit?"Edit ":"Adding your achivement..."},l.a.createElement(E.a,null,l.a.createElement(v.a,{className:"AddAccForm",id:"AddAccFormSegment",style:{boxShadow:"none",border:"none"}},l.a.createElement("h3",null,"\xa0 ",this.state.isEdit?"Edit ":"Add "," Achievements"),l.a.createElement(E.a.Group,null,l.a.createElement("div",null,l.a.createElement(ke.a,{columns:"2",className:"SliderRoot"},l.a.createElement(Le.a,{width:6},l.a.createElement("h4",{className:"SliderRootTitle"},"How much did you do?")),l.a.createElement(Le.a,{width:8},l.a.createElement(Ie.a,{defaultValue:this.state.percentage_complete,"aria-labelledby":"discrete-slider-always",step:10,onChange:this.onPercentageCompleteChange,valueLabelDisplay:"on"}))))),l.a.createElement("div",null,l.a.createElement(ke.a,{columns:"2"},l.a.createElement(Le.a,{className:"AccPhotoForm",width:6},this.renderPhoto()),l.a.createElement(Le.a,{width:8},this.fileRender()))),this.renderDescription(),l.a.createElement(y.a.Group,null,l.a.createElement(E.a.Button,{className:"AddAccSubmitButton",onClick:this.handleSubmit},"Submit"),l.a.createElement(E.a.Button,{className:"AddAccCloseButton",onClick:this.closeHandler},"Close")))))}}]),a}(n.Component),Pe=Object(s.c)(null,{add_achievement:function(e,t){return function(){var a=Object(Q.a)(J.a.mark((function a(n){var l,r,o,s;return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(l="https://goalingball-test.s3.amazonaws.com/",!t){a.next=10;break}return a.next=4,$.a.get("/api/v1/uploads/");case 4:return r=a.sent,a.next=7,$.a.put(r.data.url,t,{headers:{"Content-Type":"image/jpeg"}});case 7:a.sent,o=l+r.data.key,e.set("photo",o);case 10:return a.next=12,$.a.post("/api/v1/achievements/",e,{headers:{"Content-Type":"multipart/form-data"}});case 12:s=a.sent,n({type:P,payload:s.data}),d.push("/main");case 15:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},edit_achievement:function(e,t,a,n){return function(){var l=Object(Q.a)(J.a.mark((function l(r){var o,s,i,c,u,m;return J.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(!a){l.next=16;break}if(o="https://goalingball-test.s3.amazonaws.com/",n){l.next=7;break}return l.next=5,$.a.get("/api/v1/uploads/");case 5:s=l.sent,n=s.data.key;case 7:return l.next=9,$.a.put("/api/v1/uploads/",{key:n});case 9:return i=l.sent,l.next=12,$.a.put(i.data.url,a,{headers:{"Content-Type":"image/jpeg"}});case 12:c=o+i.data.key,t.photo=c,l.next=17;break;case 16:case 17:return l.next=19,$.a.put("/api/v1/achievements/".concat(e,"/"),t,{headers:{"Content-Type":"application/json"}});case 19:u=l.sent,console.log("edit achievement res.data: ",u.data),r({type:z,payload:u.data}),m=u.data.task,r(ce(m)),d.push("/main");case 25:case"end":return l.stop()}}),l)})));return function(e){return l.apply(this,arguments)}}()}})(He),ze=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={addAccopen:!1,achievement:null},e.onClickEditAchievement=function(t){e.setState({addAccopen:!0,achievement:t})},e.onClickAddAccHandler=function(){e.setState({addAccopen:!0})},e.renderTotal=function(){var t=null,a=Se()(e.props.today).startOf("day").unix()+86400-1,n=e.props.achievements.filter((function(t){return t.written_at==a&&t.task==e.props.task.id}));if(n.length>0&&(t=n[0]),t){console.log("udpaet this.set.achievement");var r=t.percentage_complete;return l.a.createElement(v.a,{className:"AccContainer"},l.a.createElement("h4",null,"Your accomplishment of ",e.props.task.title,":"),l.a.createElement(ke.a,{columns:"2"},l.a.createElement(ke.a.Column,{width:2,className:"importance"},l.a.createElement("p",null,"Importance")),l.a.createElement(ke.a.Column,{className:"ImportanceRating"},l.a.createElement(Fe.a,{name:"simple-controlled",size:"small",value:e.props.task.importance,readOnly:!0}))),l.a.createElement(ke.a,{columns:"2",className:"AccGrid",divided:!0},l.a.createElement(ke.a.Column,{width:6,className:"AccContainerPercentage"},l.a.createElement("svg",{viewBox:"0 0 520 520"},l.a.createElement(Me.a,{standalone:!1,labelComponent:l.a.createElement("span",null),width:520,height:520,data:[{key:"",y:r},{key:"",y:100-r}],innerRadius:166,colorScale:["#19B3A6","#EEEEEE"]}),l.a.createElement(Ye.a,{textAnchor:"middle",style:{fontSize:50},x:260,y:260,text:r+"%"})),l.a.createElement("p",{className:"AccChartTitle"},"percentage done")),l.a.createElement(ke.a.Column,{width:9,className:"AccContainerDetail"},l.a.createElement(ke.a,{columns:"2"},l.a.createElement(ke.a.Column,{width:"5"},l.a.createElement("h5",null,"See Photo Preview")),l.a.createElement(ke.a.Column,{width:"10"},l.a.createElement("img",{id:"image",src:t.photo,className:"AccPreviewImage"}))))),l.a.createElement("br",null),l.a.createElement("div",{className:"description"},l.a.createElement(_e.a,{name:"pencil alternate",style:{color:"#5F5F5F"}}),t.description),l.a.createElement("div",{className:"description"},l.a.createElement(y.a,{floated:"right",size:"tiny",onClick:function(){return e.onClickEditAchievement(t)},id:"EditAchButton"},"Edit"),l.a.createElement("br",null),l.a.createElement("br",null)))}return l.a.createElement(v.a,{className:"DefaultAchSegment"},l.a.createElement("h4",null,"No achievements yet. Add one if you're done!"),!e.state.addAccopen&&l.a.createElement(y.a,{onClick:e.onClickAddAccHandler,className:"DefaultAchAddButton"},"Add an Achievement"))},e.onCloseSubmit=function(){e.setState({addAccopen:!1})},e.onSetAccSubmit=function(t){e.setState({achievement:t})},e}return Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,this.state.addAccopen?l.a.createElement(Pe,{today:this.props.today,task_id:this.props.task.id,onSubmit:this.onCloseSubmit,achievement:this.state.achievement}):this.renderTotal())}}]),a}(n.Component),We=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={acc_open:!1,accomplishment:null,addAccopen:!1,achievement:{des:"des",percentage_done:0}},e.deleteTaskHandler=function(){console.log("DEBUG date send",e.props.goal,e.props.task.id),e.props.deleteTask(e.props.goal,e.props.task.id)},e.to_weekdays=function(e){switch(e){case"MONDAY":return"Mon";case"TUESDAY":return"Tue";case"WEDNESDAY":return"Wed";case"THURSDAY":return"Thu";case"FRIDAY":return"Fri";case"SATURDAY":return"Sat";case"SUNDAY":return"Sun"}},e.accOpenHandler=Object(Q.a)(J.a.mark((function t(){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e.state.acc_open){t.next=6;break}return t.next=3,e.props.get_achievements_of_task(e.props.task.id);case 3:e.setState({acc_open:!0}),t.next=7;break;case 6:e.setState({acc_open:!1});case 7:case"end":return t.stop()}}),t)}))),e}return Object(m.a)(a,[{key:"toRecString",value:function(e){var t,a=this,n="",l=e.map((function(e){return a.to_weekdays(e)})),r=Object(je.a)(l);try{for(r.s();!(t=r.n()).done;){n=n+t.value+", "}}catch(o){r.e(o)}finally{r.f()}return n.substring(0,n.length-2)}},{key:"isRecurrent",value:function(e){return 0==e.length?l.a.createElement(y.a.Group,{size:"tiny",floated:"right"},l.a.createElement(y.a,{icon:!0,className:"TaskBarButton",onClick:this.deleteTaskHandler},l.a.createElement(_e.a,{name:"x"}))):l.a.createElement(y.a.Group,{size:"tiny",floated:"right",id:"Recurrent"},l.a.createElement(y.a,{icon:!0,className:"TaskBarButton"},l.a.createElement(_e.a,{name:"redo"})),l.a.createElement(y.a,{icon:!0,className:"TaskBarButton",id:"X",onClick:this.deleteTaskHandler},l.a.createElement(_e.a,{name:"x"})))}},{key:"render",value:function(){var e=this,t=this.props.task,a=t.title,n=(t.id,t.deadline,t.day_of_week);return console.log("[DEBUG] TaskBarComponent is rendering. task: ",this.props.task),l.a.createElement(l.a.Fragment,null,l.a.createElement(Ge.a.Item,{className:"TaskBarListItem"},l.a.createElement(Ge.a.Content,{floated:"right"},this.isRecurrent(n)),l.a.createElement(Ge.a.Content,{className:"TaskBarListContent"},l.a.createElement(y.a,{icon:!0,className:"TaskBarListTriangle",onClick:function(){return e.accOpenHandler()}},l.a.createElement(_e.a,{name:"right triangle"})),a)),this.state.acc_open&&l.a.createElement(ze,{task:this.props.task,today:this.props.today,achievements:this.props.achievements}))}}]),a}(n.Component),Ve=Object(s.c)((function(e){return{achievements:Object.values(e.achievement)}}),{deleteTask:ie,get_achievements_of_task:ce})(We),Ke=(a(620),a(621),a(75)),qe=function(e){var t=Object(g.a)(),a=(t.register,t.handleSubmit),n=t.watch,r=(t.errors,t.reset),o=Object(s.d)();n();var i=l.a.useState(2),c=Object(f.a)(i,2),d=c[0],u=c[1],m=l.a.useState([]),p=Object(f.a)(m,2),h=p[0],y=p[1],b=l.a.useState(""),k=Object(f.a)(b,2),C=k[0],O=k[1],w=l.a.useState(new Date),x=Object(f.a)(w,2),_=x[0],D=x[1],A=l.a.useState(new Date),T=Object(f.a)(A,2),S=T[0],G=T[1];return l.a.createElement(E.a,{onSubmit:a((function(t,a){var n,l=Se()(S).startOf("day").unix()+86399,s=Se()(_).startOf("day").unix(),i=new FormData;i.append("title",C),i.append("goal_id",e.goal_id),h.forEach((function(e){i.append("day_of_week",e)})),i.append("start_at",s),i.append("deadline",l),i.append("importance",d),o((n=i,function(){var e=Object(Q.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.post("/api/v1/tasks/",n,{headers:{"Content-Type":"multipart/form-data"}});case 2:a=e.sent,console.log("addTask res.data: ",a.data),t((l=a.data,{type:B,payload:{id:l.id,user:l.user,goal:l.goal,title:l.title,importance:l.importance,day_of_week:l.day_of_week,start_at:l.start_at,deadline:l.deadline}})),t(re()),t(oe(a.data));case 7:case"end":return e.stop()}var l}),e)})));return function(t){return e.apply(this,arguments)}}())),r()}),(function(e,t){return console.log(e,t)}))},l.a.createElement(v.a,{className:"AddTaskForm",id:"AddTaskFormSegment"},l.a.createElement("h3",null,"\xa0 Add Task"),l.a.createElement(E.a.Group,{widths:"equal"},l.a.createElement(E.a.Input,{label:"Title",placeholder:"Enter task title",onChange:function(e,t){return O(t.value)},id:"AddTaskFormTitle"})),l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Select,{multiple:!0,selection:!0,label:"Day of Week",id:"AddTaskFormDayofWeek",options:[{key:"m",text:"Monday",value:"MONDAY"},{key:"t",text:"Tuesday",value:"TUESDAY"},{key:"w",text:"Wednesday",value:"WEDNESDAY"},{key:"th",text:"Thursday",value:"THURSDAY"},{key:"f",text:"Friday",value:"FRIDAY"},{key:"s",text:"Saturday",value:"SATURDAY"},{key:"su",text:"Sunday",value:"SUNDAY"}],onChange:function(e,t){return y(t.value)},placeholder:"Day of Week"}),l.a.createElement(Ke.DateInput,{id:"AddTaskFormStartAt",label:"Start at",name:"start_at",placeholder:"Date",value:Se()(_).format("YYYY-MM-DD"),iconPosition:"left",dateFormat:"YYYY-MM-DD",onChange:function(t,a){a.name;var n=a.value;console.log(Se()(n)),console.log(e.goal_start_at),Se()(n).unix()<e.goal_start_at?(window.alert("task start date cannot be earlier than goal start date. Goal start date will be set."),D(Se.a.unix(e.goal_start_at).format("YYYY-MM-DD")),G(Se.a.unix(e.goal_start_at).format("YYYY-MM-DD"))):(D(Se()(n)),G(Se()(n)))}}),l.a.createElement(Ke.DateInput,{id:"AddTaskFormDeadline",label:"Deadline",name:"deadline",placeholder:"Date",value:Se()(S).format("YYYY-MM-DD"),iconPosition:"left",dateFormat:"YYYY-MM-DD",onChange:function(t,a){a.name;var n=a.value;Se()(n).unix()>e.goal_deadline?(window.alert("task deadline cannot be later than goal deadline. Goal deadline will be set."),G(Se.a.unix(e.goal_deadline).format("YYYY-MM-DD"))):(console.log("DEBUG in addtask:",Se()(n)),G(Se()(n)))},disabled:0==h.length})),l.a.createElement(E.a.Group,{inline:!0},l.a.createElement("label",null,"Importance"),l.a.createElement(Fe.a,{name:"simple-controlled",size:"large",id:"AddTaskFormImportance",value:d,onChange:function(e,t){u(t)}})),l.a.createElement(E.a.Button,{className:"AddTaskSubmitButton"},"Submit")))},Xe=function(e){var t=Object(s.e)((function(e){return e.modal.addTask}));return l.a.createElement(v.a,{className:"SegmentAddTask",id:"SegmentAddTaskModal"},l.a.createElement(ve,{style:{border:"none"},isOpen:t,className:"SegmentAddTask"},l.a.createElement("div",{className:"modal-container small-container modal-addTask"},l.a.createElement("div",{className:"modal__body"},l.a.createElement(qe,{goal_id:e.goal_id,goal_deadline:e.goal_deadline,goal_start_at:e.goal_start_at}))),l.a.createElement(y.a,{className:"modal__close-btn",onClick:function(){return dispatch(closeModal())},floated:"right",id:"closeButton"},"close")))},Je=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={tasks:e.props.goal.tasks,selectedDate:null,addTaskModal:!1,showAll:!1},e.onClickEditGoalHandler=Object(Q.a)(J.a.mark((function t(){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getGoal(e.props.goal.id);case 2:d.push("/edit");case 3:case"end":return t.stop()}}),t)}))),e.onClickDeleteHandler=function(){window.confirm("Tasks and achievements of this goal will be lost. Are you sure?")&&e.props.deleteGoal(e.props.goal.id)},e.onClickAddTaskHandler=function(){e.setState({addTaskModal:!0}),e.props.openAddTaskModal()},e.startAtDate=function(e){return Se.a.unix(e).format("MMM Do YYYY")},e.deadlineDate=function(e){return Se.a.unix(e).format("MMM Do YYYY")},e.to_weekdays=function(e){switch(e){case 1:return"MONDAY";case 2:return"TUESDAY";case 3:return"WEDNESDAY";case 4:return"THURSDAY";case 5:return"FRIDAY";case 6:return"SATURDAY";case 0:return"SUNDAY"}},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;console.log("GoalBodyComponent this.props.goal: ",this.props.goal);var t=this.props.goal,a=t.title,n=t.id,r=t.deadline,o=t.start_at,s=(t.tags,t.tasks),i=Se()(this.props.today).startOf("day").unix(),c=s.reduce((function(e,t){return t.start_at<=i&&t.deadline>=i&&e.push(t),e}),[]).reduce((function(t,a){if(0==a.day_of_week.length)t.push(a);else{console.log(Se()(e.props.today).weekday());var n=e.to_weekdays(Se()(e.props.today).weekday());a.day_of_week.includes(n)&&t.push(a)}return t}),[]),d=[];return d=this.state.showAll?s.map((function(t){return l.a.createElement(Ve,{task:t,key:t.id,goal:e.props.goal.id,today:e.props.today})})):c.map((function(t){return l.a.createElement(Ve,{task:t,key:t.id,goal:e.props.goal.id,today:e.props.today})})),l.a.createElement(v.a,{className:"GoalBodySegment"},l.a.createElement(Ge.a,{className:"GoalBodyTitleList"},l.a.createElement(Ge.a.Item,{className:"GoalBodyListItem"},l.a.createElement(_e.a,{name:"circle",className:"GoalBodyListIcon",size:"small"}),l.a.createElement(Ge.a.Content,{className:"GoalBodyListTitle"},l.a.createElement(Ge.a.Header,{className:"GoalBodyListTitleHeader"},a,l.a.createElement(y.a,{floated:"right",size:"tiny",toggle:!0,active:this.state.showAll,onClick:function(){e.setState({showAll:!e.state.showAll})},id:"showAllTaskButton"},"Show All Tasks")),l.a.createElement("div",{className:"GoalBodyListDeadline"},"From ",this.startAtDate(o),", Until ",this.deadlineDate(r))))),l.a.createElement(Ge.a,{className:"GoalBodyListwithTask",celled:!0},d),l.a.createElement(Ge.a.Item,null,l.a.createElement(y.a.Group,{className:"DeleteGoalButtonGroupAnother",floated:"left"},l.a.createElement(y.a,{icon:!0,id:"EditButtonGoalBody",onClick:function(){return e.onClickEditGoalHandler()},style:{backgroundColor:"#ffffff",padding:"5px"}},l.a.createElement(_e.a,{name:"edit"})),l.a.createElement(y.a,{icon:!0,id:"DeleteButtonGoalBody",onClick:function(){return e.onClickDeleteHandler()},style:{backgroundColor:"#ffffff",padding:"5px"}},l.a.createElement(_e.a,{name:"trash"}))),l.a.createElement(y.a,{circular:!0,onClick:function(){return e.onClickAddTaskHandler()},floated:"right",icon:"add",size:"tiny",className:"GoalBodyAddButton",id:"AddButtonGoalBody"})),this.state.addTaskModal&&this.props.isAddTaskModalOpen&&l.a.createElement(Xe,{goal_id:n,goal_deadline:r,goal_start_at:o}),l.a.createElement("br",null))}}]),a}(n.Component),Qe=Object(s.c)((function(e){return console.log(e),{isAddTaskModalOpen:e.modal.addTask}}),{openAddTaskModal:function(){return{type:x,payload:null}},deleteGoal:le,getGoal:ae})(Je),Ze=(a(654),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={today:new Date},e.onDeadlineSubmit=function(t){e.setState({today:t})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.onGetAllGoals()}},{key:"selectTodayGoals",value:function(){var e=Se()(this.state.today).unix();return console.log("selectTodayGoals this.props.goalList: ",this.props.goalList),this.props.goalList.filter((function(t){return t.start_at<=e&&e<=t.deadline}))}},{key:"render",value:function(){var e=this,t=this.selectTodayGoals(),a=t.map((function(t){return l.a.createElement(Qe,{goal:t,key:t.id,today:e.state.today})}));return console.log("[DEBUG] GoalListComponent is rendering"),l.a.createElement("div",null,l.a.createElement("div",{className:"menubar"},console.log(this.props),l.a.createElement(De,null)),l.a.createElement("div",{className:"calendarpanel"},l.a.createElement(Ne,{onSubmit:this.onDeadlineSubmit,goalList:t})),l.a.createElement("div",{className:"goallist"},l.a.createElement("h2",{className:"componentTitle"},"What's for today?"),a))}}]),a}(n.Component)),$e=Object(s.c)((function(e){return console.log("goalList: ",e.goal.goals),{goalList:e.goal.goals}}),(function(e){return{onGetAllGoals:function(){return e(te())}}}))(Ze),et=a(42),tt=a(48),at=a(197),nt=(a(655),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={title:"",file:null,fileName:"",upload:!1,deadline:new Date,start_at:new Date,tags:[],tagOptions:[],isCreating:!1,preview:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/480px-No_image_available.svg.png"},e.fileChange=function(t){t.target.files&&(e.setState({file:t.target.files[0],fileName:t.target.files[0].name,upload:!0},(function(){console.log("File chosen ---\x3e",e.state.file,console.log("File name  ---\x3e",e.state.fileName))})),e.setState({preview:URL.createObjectURL(t.target.files[0])}))},e.handleChangeStart=function(t,a){var n=a.name,l=a.value;e.setState(Object(et.a)({},n,l))},e.handleChangeDeadline=function(t,a){var n=a.name,l=a.value;e.setState(Object(et.a)({},n,l))},e}return Object(m.a)(a,[{key:"renderTitle",value:function(){var e=this;return l.a.createElement(E.a.Field,null,l.a.createElement("label",null,"Goal Title"),l.a.createElement(Be.a,{placeholder:"Enter Title Here",className:"CreateGoalTitle",onChange:function(t){return e.setState({title:t.target.value})}}))}},{key:"renderPhoto",value:function(){this.state.statusCode;return l.a.createElement(v.a,null,l.a.createElement(ke.a,{columns:"2"},l.a.createElement(ke.a.Column,{width:"11"},l.a.createElement(E.a.Field,{style:{marginTop:"20px"}},l.a.createElement("label",{id:"PhotoInput"},"Add Goal Photo"),l.a.createElement(y.a,{as:"label",htmlFor:"file",type:"button",animated:"fade"},l.a.createElement(y.a.Content,{visible:!0},l.a.createElement(_e.a,{name:"file"})),l.a.createElement(y.a.Content,{hidden:!0},"Choose a File")),l.a.createElement("input",{type:"file",id:"file",className:"GoalPhoto",hidden:!0,onChange:this.fileChange}),l.a.createElement(E.a.Input,{fluid:!0,label:"Photo Chosen ",placeholder:"Use the above bar to browse your file system",readOnly:!0,value:this.state.fileName}))),l.a.createElement(ke.a.Column,{width:"5"},this.fileRender())))}},{key:"fileRender",value:function(){return l.a.createElement(v.a,{style:{boxShadow:"none",alignItems:"center"},textAlign:"center"},l.a.createElement("img",{id:"image",src:this.state.preview,style:{maxWidth:"150px",maxHeight:"180px",minWidth:"150px",minHeight:"150px"}}))}},{key:"renderDeadline",value:function(){return Se()(this.state.start_at).startOf("day")>Se()(this.state.deadline).startOf("day")&&(window.alert("Goal start date should be earlier than the goal deadline."),this.setState({start_at:this.state.deadline})),l.a.createElement(v.a,null,l.a.createElement(tt.a,null,l.a.createElement(ke.a,{columns:"two",textAlign:"center",className:"DeadlineGrid"},l.a.createElement(ke.a.Column,{width:5},l.a.createElement(Ke.DateInput,{id:"GoalFormStart",label:"Starting From",name:"start_at",placeholder:"Date",value:Se()(this.state.start_at).format("YYYY-MM-DD"),iconPosition:"left",dateFormat:"YYYY-MM-DD",onChange:this.handleChangeStart})),l.a.createElement(ke.a.Column,{width:5},l.a.createElement(Ke.DateInput,{id:"GoalFormDeadline",label:"Deadline",name:"deadline",placeholder:"Date",value:Se()(this.state.deadline).format("YYYY-MM-DD"),iconPosition:"left",dateFormat:"YYYY-MM-DD",onChange:this.handleChangeDeadline})))))}},{key:"onTagsChanged",value:function(e){this.setState({tags:e||[]})}},{key:"addTagOptions",value:function(e,t){var a=this.state.tagOptions;a.push({key:t.value,text:t.value,value:t.value}),console.log(a),this.setState({tagOptions:a})}},{key:"setTag",value:function(e){this.onTagsChanged(e.value)}},{key:"renderTag",value:function(){var e=this;return l.a.createElement(tt.a,null,l.a.createElement("label",null,"Add Tags"),l.a.createElement(at.a,{placeholder:"add goal tags here. You should add a tag in order to add a goal",search:!0,selection:!0,clearable:!0,multiple:!0,allowAdditions:!0,fluid:!0,onAddItem:function(t,a){return e.addTagOptions(t,a)},onChange:function(t,a){return e.setTag(a)},options:this.state.tagOptions,className:"GoalDropDown"}))}},{key:"onClickHandler",value:function(){var e=new FormData;e.append("title",this.state.title);var t=Se()(this.state.start_at).startOf("day").unix(),a=Se()(this.state.deadline).startOf("day").unix()+86399;console.log("Modified deadline: ",Se.a.unix(t).format("MMMM Do YYYY, h:mm:ss a")),e.append("start_at",t),e.append("deadline",a);var n,l=Object(je.a)(this.state.tags);try{for(l.s();!(n=l.n()).done;){var r=n.value;e.append("tags",r)}}catch(o){l.e(o)}finally{l.f()}console.log("Create goal data.get('tags'): ",e.get("tags")),this.props.addGoal(e,this.state.file),this.setState({isCreating:!0})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"menubar"},l.a.createElement(De,null)),l.a.createElement("div",{style:{marginLeft:"130px",marginTop:"50px",maxWidth:"700px",marginRight:"10%"}},l.a.createElement(Re.a,{className:"spinner",active:this.state.isCreating,spinner:!0,text:"Creating a new goal..."},l.a.createElement("h2",{id:"header"},"Add a Goal"),l.a.createElement(E.a,{id:"FormCreateForm",className:"FormCreate"},this.renderTitle(),this.renderPhoto(),this.renderDeadline(),this.renderTag(),l.a.createElement(y.a,{floated:"right",onClick:function(){d.push("/main")}},"Go Back"),l.a.createElement(y.a,{onClick:function(){return e.onClickHandler()},floated:"right",className:"GoalSubmitButton"},"Confirm")))))}}]),a}(n.Component)),lt=Object(s.c)(null,{addGoal:function(e,t){return function(){var a=Object(Q.a)(J.a.mark((function a(n){var l,r,o,s;return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(l="https://goalingball-test.s3.amazonaws.com/",console.log("[DEBUG] addGoal formData: ",e),!t){a.next=15;break}return a.next=5,$.a.get("/api/v1/uploads/");case 5:return r=a.sent,console.log("[DEBUG] response.data in addGoal: ",r),a.next=9,$.a.put(r.data.url,t,{headers:{"Content-Type":"image/jpeg"}});case 9:a.sent,o=l+r.data.key,console.log("[DEBUG] imageUrl: ",o),e.append("photo",o),a.next=16;break;case 15:console.log("[DEBUG] no file found in addGoal");case 16:return a.next=18,$.a.post("/api/v1/goals/",e,{headers:{"Content-Type":"multipart/form-data"}});case 18:s=a.sent,console.log("[DEBUG] res from server when adding goal: ",s.data),n((i=s.data,{type:G,payload:i})),d.push("/main");case 22:case"end":return a.stop()}var i}),a)})));return function(e){return a.apply(this,arguments)}}()}})(Object(i.e)(nt)),rt=(a(657),a(658),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={title:"",file:null,fileName:"",upload:!1,deadline:new Date,start_at:new Date,tags:[],tagOptions:[],isEditing:!1,preview:null==e.props.selectedGoal.photo?"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/480px-No_image_available.svg.png":e.props.selectedGoal.photo},e.fileChange=function(t){t.target.files&&(e.setState({file:t.target.files[0],fileName:t.target.files[0].name,upload:!0},(function(){console.log("File chosen ---\x3e",e.state.file,console.log("File name  ---\x3e",e.state.fileName))})),e.setState({preview:URL.createObjectURL(t.target.files[0])}))},e.handleChangeStart=function(t,a){var n=a.name,l=a.value;e.setState(Object(et.a)({},n,l))},e.handleChangeDeadline=function(t,a){var n=a.name,l=a.value;e.setState(Object(et.a)({},n,l))},e.onClickHandler=function(){var t={};console.log("EditGoalComponent this.state.title: ",e.state.title),console.log("EditGoalComponent this.props.selectedGoal.photo: ",e.props.selectedGoal.photo),t.title=e.state.title;var a=Se()(e.state.start_at).startOf("day").unix(),n=Se()(e.state.deadline).startOf("day").unix()+86399;t.start_at=a,t.deadline=n,t.tags=e.state.tags,e.props.selectedGoal.photo&&(t.photo=e.props.selectedGoal.photo),console.log("[DEBUG] EditGoalComponent formData: ",t),e.props.editGoal(e.props.selectedGoal.id,t,e.state.file),e.setState({isEditing:!0})},e}return Object(m.a)(a,[{key:"renderDefaultDate",value:function(){var e=Se.a.unix(this.props.selectedGoal.start_at).format("YYYY-MM-DD"),t=Se.a.unix(this.props.selectedGoal.deadline).format("YYYY-MM-DD");this.setState({start_at:e,deadline:t})}},{key:"renderDefaultTagOptions",value:function(){console.log("CALLED");var e=[],t=[];this.props.selectedGoal.tags.map((function(a){e.push({key:a,text:a,value:a}),t.push(a)})),this.setState({tagOptions:e,tags:t}),console.log("[DEBUG] tagOptions",this.state.tagOptions),console.log("[DEBUG] tags",this.state.tags)}},{key:"componentWillMount",value:function(){this.renderDefaultTagOptions()}},{key:"componentDidMount",value:function(){this.setState({title:this.props.selectedGoal.title}),this.renderDefaultDate()}},{key:"renderTitle",value:function(){var e=this;return l.a.createElement(E.a.Field,null,l.a.createElement("label",null,"Goal Title"),l.a.createElement(Be.a,{placeholder:"Enter Title Here",defaultValue:this.props.selectedGoal.title,onChange:function(t){return e.setState({title:t.target.value})},id:"EditGoalFormTitle"}))}},{key:"renderPhoto",value:function(){this.state.statusCode;return l.a.createElement(v.a,null,l.a.createElement(ke.a,{columns:"2"},l.a.createElement(ke.a.Column,{width:"11"},l.a.createElement(E.a.Field,{style:{marginTop:"20px"}},l.a.createElement("label",{id:"PhotoInput"},"Add Goal Photo"),l.a.createElement(y.a,{as:"label",htmlFor:"file",type:"button",animated:"fade"},l.a.createElement(y.a.Content,{visible:!0},l.a.createElement(_e.a,{name:"file"})),l.a.createElement(y.a.Content,{hidden:!0},"Choose a File")),l.a.createElement("input",{type:"file",id:"file",className:"EditGoalPhoto",hidden:!0,onChange:this.fileChange}),l.a.createElement(E.a.Input,{fluid:!0,label:"Photo Chosen ",placeholder:"Upload to edit goal photo",readOnly:!0,value:this.state.fileName}))),l.a.createElement(ke.a.Column,{width:"5"},this.fileRender())))}},{key:"fileRender",value:function(){return l.a.createElement(v.a,{style:{boxShadow:"none",alignItems:"center"},textAlign:"center"},l.a.createElement("img",{id:"image",src:this.state.preview,style:{maxWidth:"150px",maxHeight:"180px",minWidth:"150px",minHeight:"150px"}}))}},{key:"renderDeadline",value:function(){return l.a.createElement(v.a,null,l.a.createElement(tt.a,null,l.a.createElement(ke.a,{columns:"two",textAlign:"center",className:"DeadlineGrid"},l.a.createElement(ke.a.Column,{width:5},l.a.createElement(Ke.DateInput,{id:"GoalFormStart",label:"Starting From",name:"start_at",placeholder:"Date",value:Se()(this.state.start_at).format("YYYY-MM-DD"),iconPosition:"left",dateFormat:"YYYY-MM-DD",onChange:this.handleChangeStart})),l.a.createElement(ke.a.Column,{width:5},l.a.createElement(Ke.DateInput,{id:"GoalFormDeadline",label:"Deadline",name:"deadline",placeholder:"Date",value:Se()(this.state.deadline).format("YYYY-MM-DD"),iconPosition:"left",dateFormat:"YYYY-MM-DD",onChange:this.handleChangeDeadline})))))}},{key:"onTagsChanged",value:function(e){this.setState({tags:e})}},{key:"addTagOptions",value:function(e,t){var a=this.state.tagOptions;a.push({key:t.value,text:t.value,value:t.value}),console.log(a),this.setState({tagOptions:a})}},{key:"setTag",value:function(e){this.onTagsChanged(e.value)}},{key:"renderTag",value:function(){var e=this;return l.a.createElement(tt.a,null,l.a.createElement("label",null,"Add Tags"),l.a.createElement(at.a,{placeholder:"add goal tags here",search:!0,selection:!0,clearable:!0,multiple:!0,allowAdditions:!0,fluid:!0,onAddItem:function(t,a){return e.addTagOptions(t,a)},onChange:function(t,a){return e.setTag(a)},options:this.state.tagOptions,className:"GoalDropDown"}))}},{key:"onTagsChanged",value:function(e){console.log("tag changing"),this.setState({tags:e}),console.log(this.state.tags)}},{key:"addTagOptions",value:function(e,t){var a=this.state.tagOptions;a.push({key:t.value,text:t.value,value:t.value}),this.setState({tagOptions:a})}},{key:"setTag",value:function(e){console.log("DEBUG: data change",e.value),this.onTagsChanged(e.value)}},{key:"renderTag",value:function(){var e=this;return l.a.createElement(tt.a,null,l.a.createElement("label",null,"Add Tags"),l.a.createElement(at.a,{search:!0,selection:!0,clearable:!0,multiple:!0,allowAdditions:!0,fluid:!0,defaultValue:this.state.tags,onAddItem:function(t,a){return e.addTagOptions(t,a)},onChange:function(t,a){return e.onTagsChanged(a.value)},options:this.state.tagOptions}))}},{key:"render",value:function(){return console.log("selected goal: ",this.props.selectedGoal),l.a.createElement("div",{className:"EditGoalForm"},l.a.createElement(Re.a,{active:this.state.isEditing,spinner:!0,text:"Editing a new goal..."},l.a.createElement("div",null,l.a.createElement(E.a,{className:"EditGoalForm"},this.renderTitle(),this.renderPhoto(),this.renderDeadline(),this.renderTag(),l.a.createElement(y.a,{floated:"right"},"Go Back"),l.a.createElement(y.a,{onClick:this.onClickHandler,floated:"right",className:"ConfirmButton",id:"ConfirmButtonEditGoalForm"},"Confirm")))))}}]),a}(n.Component)),ot=Object(s.c)(null,{editGoal:function(e,t,a){return function(){var n=Object(Q.a)(J.a.mark((function n(l){var r,o,s,i,c,u,m;return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("[DEBUG] editGoal data: ",t),!a){n.next=21;break}if(r="https://goalingball-test.s3.amazonaws.com/",o="",!("photo"in t)){n.next=9;break}s=new RegExp(r),o=t.photo.replace(s,""),n.next=13;break;case 9:return n.next=11,$.a.get("/api/v1/uploads/");case 11:i=n.sent,o=i.data.key;case 13:return n.next=15,$.a.put("/api/v1/uploads/",{key:o});case 15:return c=n.sent,n.next=18,$.a.put(c.data.url,a,{headers:{"Content-Type":"image/jpeg"}});case 18:n.sent,u=r+c.data.key,t.photo=u;case 21:return console.log("Edit goal data: ",t),n.next=24,$.a.put("/api/v1/goals/".concat(e,"/"),t,{headers:{"Content-Type":"application/json"}});case 24:m=n.sent,l(ne(m.data)),d.push("/main");case 27:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})(rt),st=(a(659),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={editmode:!1,readmode:!0,title:e.props.task.title,importance:e.props.task.importance,day_of_week:e.props.task.day_of_week,start_at:e.props.task.start_at,deadline:e.props.task.deadline},e.onClickEditTaskHandler=function(){var t=!e.state.editmode,a=!e.state.readmode;e.setState({editmode:t,readmode:a})},e.onClickDeleteTaskHandler=function(){var t=e.props.task.id,a=e.props.task.goal_id;e.props.deleteTask(a,t)},e.deadlineDate=function(e){return Se.a.unix(e).format("MMM Do YYYY")},e.startAtDate=function(e){return Se.a.unix(e).format("MMM Do YYYY")},e.renderDeadlineString=function(t,a,n){var r="From ";if(r=r+e.startAtDate(a)+", Until "+e.deadlineDate(n),0!==t.length){var o,s="On every ",i=Object(je.a)(t);try{for(i.s();!(o=i.n()).done;){var c=o.value;s=s+(c=(c=c.toLowerCase()).charAt(0).toUpperCase()+c.slice(1))+", "}}catch(d){i.e(d)}finally{i.f()}return s=s.slice(0,s.length-2),l.a.createElement("div",{className:"TaskBodyListDeadline"},r,l.a.createElement("br",null),s)}return l.a.createElement("div",{className:"TaskBodyListDeadline"},r)},e.onSubmit=function(t){var a={title:e.state.title,importance:e.state.importance,day_of_week:e.state.day_of_week,start_at:1e3*Se()(e.state.start_at).unix(),deadline:1e3*Se()(e.state.deadline).unix()};console.log("Edit task data: ",a),e.props.editTask(e.props.task.id,a);var n=!e.state.editmode,l=!e.state.readmode;e.setState({editmode:n,readmode:l})},e.closeHandler=function(){var t=!e.state.editmode,a=!e.state.readmode;e.setState({editmode:t,readmode:a})},e.handleChangeStartAt=function(t,a){var n=a.value;Se()(n)<Se.a.unix(e.props.goal_start_at)?(window.alert("task start date cannot be earlier than goal start date. Goal start date will be set."),e.setState({start_at:e.props.goal_start_at})):e.setState({start_at:Se()(n).unix()})},e.handleChangeDeadline=function(t,a){var n=a.value;Se()(n)>Se.a.unix(e.props.goal_deadline)?(window.alert("Task deadline cannot be longer than goal deadline. Goal deadline will be set."),e.setState({deadline:e.props.goal_deadline})):e.setState({deadline:Se()(n).unix()})},e.renderEditMode=function(){return l.a.createElement(E.a,null,l.a.createElement(v.a,{className:"EditTaskForm",id:"EditTaskFormSegment"},l.a.createElement("h3",null,"Edit: ",e.state.title),l.a.createElement(E.a.Group,{widths:"equal"},l.a.createElement(E.a.Input,{label:"Title",placeholder:"Enter task title",onChange:function(t,a){return e.setState({title:a.value})},id:"EditTaskFormTitle",defaultValue:e.state.title})),l.a.createElement(E.a.Group,null,l.a.createElement(E.a.Select,{multiple:!0,selection:!0,label:"Day of Week",id:"EditTaskFormDayofWeek",options:[{key:"m",text:"Monday",value:"MONDAY"},{key:"t",text:"Tuesday",value:"TUESDAY"},{key:"w",text:"Wednesday",value:"WEDNESDAY"},{key:"th",text:"Thursday",value:"THURSDAY"},{key:"f",text:"Friday",value:"FRIDAY"},{key:"s",text:"Saturday",value:"SATURDAY"},{key:"su",text:"Sunday",value:"SUNDAY"}],defaultValue:e.props.task.day_of_week,onChange:function(t,a){return e.setState({day_of_week:a.value})},placeholder:"Day of Week"}),l.a.createElement(Ke.DateInput,{label:"Start At",id:"EditTaskFormDeadline",name:"start_at",placeholder:"Date",value:Se.a.unix(e.state.start_at).format("YYYY-MM-DD"),iconPosition:"left",dateFormat:"YYYY-MM-DD",onChange:e.handleChangeStartAt}),l.a.createElement(Ke.DateInput,{label:"Deadline",id:"EditTaskFormDeadline",name:"deadline",placeholder:"Date",value:Se.a.unix(e.state.deadline).format("YYYY-MM-DD"),iconPosition:"left",dateFormat:"YYYY-MM-DD",onChange:e.handleChangeDeadline})),l.a.createElement(E.a.Group,{inline:!0},l.a.createElement("label",null,"Importance"),l.a.createElement(Fe.a,{name:"simple-controlled",size:"large",id:"EditTaskFormImportance",value:e.state.importance,onChange:function(t,a){e.setState({importance:a})}})),l.a.createElement(y.a.Group,null,l.a.createElement(y.a,{className:"EditTaskSubmitButton",id:"EditTaskSubmit",onClick:e.onSubmit},"Submit"),l.a.createElement(y.a,{icon:!0,className:"EditTaskCloseButton",id:"EditTaskClose",onClick:e.closeHandler},l.a.createElement(_e.a,{name:"x"})))))},e.renderReadMode=function(){var t=e.props.task;t.title,t.deadline,t.importance,t.day_of_week;return l.a.createElement(v.a,{className:"TaskBodySegment"},l.a.createElement(Ge.a,{className:"TaskBodyTitleList"},l.a.createElement(Ge.a.Item,{className:"TaskBodyListItem"},l.a.createElement(_e.a,{name:"circle",className:"TaskBodyListIcon",size:"small"}),l.a.createElement(Ge.a.Content,{className:"TaskBodyListTitle"},l.a.createElement(Ge.a.Header,{className:"TaskBodyListTitleHeader"},e.state.title,l.a.createElement(Fe.a,{className:"TaskBodyListRating",name:"simple-controlled",size:"small",id:"AddTaskFormImportance",value:e.state.importance,readOnly:!0})),e.renderDeadlineString(e.state.day_of_week,e.state.start_at,e.state.deadline)))),l.a.createElement(Ge.a.Item,null,l.a.createElement(y.a.Group,{className:"DeleteTaskButtonGroupAnother",floated:"right"},l.a.createElement(y.a,{size:"small",icon:!0,id:"EditButtonTaskBody",onClick:function(){return e.onClickEditTaskHandler()},style:{backgroundColor:"#ffffff",padding:"5px"}},l.a.createElement(_e.a,{name:"edit"}),"\xa0Edit"))),l.a.createElement("br",null))},e}return Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,this.state.readmode&&this.renderReadMode(),this.state.editmode&&this.renderEditMode())}}]),a}(n.Component)),it=Object(s.c)(null,{editTask:function(e,t){return function(){var a=Object(Q.a)(J.a.mark((function a(n){var l;return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,$.a.put("api/v1/tasks/".concat(e,"/"),t,{headers:{"Content-Type":"application/json"}});case 2:l=a.sent,console.log("edit task res.data: ",l.data),n({type:U,payload:l.data}),n({type:F,payload:l.data});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},deleteTask:ie})(st),ct=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e,t=this;return e=this.props.tasks.map((function(e){return l.a.createElement(it,{task:e,key:e.id,goal_start_at:t.props.goal_start_at,goal_deadline:t.props.goal_deadline})})),l.a.createElement("div",{className:"EditTaskComp"},console.log("DEBUG: tasks info",this.props.tasks),e)}}]),a}(n.Component),dt=(a(660),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={editGoal:!1},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"EditPage"},l.a.createElement("div",{className:"menubar"},l.a.createElement(De,null)),l.a.createElement("div",{className:"EditGoalTaskTab"},l.a.createElement(y.a.Group,{className:"EditGoalTaskButtonGroup"},l.a.createElement(y.a,{className:"EditTaskTabButton",onClick:function(){return e.setState({editGoal:!1})}},"Edit Tasks"),l.a.createElement(y.a,{className:"EditGoalTabButton",onClick:function(){return e.setState({editGoal:!0})}},"Edit Goal")),this.state.editGoal?l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Edit a Goal"),l.a.createElement(ot,{selectedGoal:this.props.selectedGoal})):l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Edit Tasks"),this.props.selectedGoal?"":d.push("/main"),null!==this.props.selectedGoal&&this.props.selectedGoal.tasks.length>0?l.a.createElement(ct,{goal_start_at:this.props.selectedGoal.start_at,goal_deadline:this.props.selectedGoal.deadline,tasks:this.props.selectedGoal.tasks}):l.a.createElement("h5",null,'"Please add tasks first!"'))))}}]),a}(n.Component)),ut=Object(s.c)((function(e){return console.log("EditPageComponent selectedGoal: ",e.goal.selectedGoal),{selectedGoal:e.goal.selectedGoal}}),null)(dt),mt=(a(661),a(443)),pt=(a(670),function(e){var t=e.metric,a=[{y:t},{y:100-t}],r=Object(n.useState)([{y:0},{y:100}]),o=Object(f.a)(r,2),s=o[0],i=o[1];Object(n.useEffect)((function(){i(a)}),[]);return l.a.createElement("div",{className:"DashBoardPanel"},console.log("PANEL PROPS:  ",e),l.a.createElement(ke.a,{className:"DashBoardPanelGrid"},l.a.createElement(ke.a.Row,null,l.a.createElement(v.a,{style:{boxShadow:"none"}},l.a.createElement("h5",null,"WordCloud of goal tags"),l.a.createElement(mt.a,{className:"wordCloud",words:e.wordList,options:{rotations:2,rotationAngles:[-90,0],fontFamily:"impact",fontSizes:[12,38],fontStyle:"normal",fontWeight:"normal",colors:["#173f5f70","#20639b","#ed553b","#04837c"]}}))),l.a.createElement(ke.a.Row,{className:"goalsDoneRow"},l.a.createElement(v.a,{className:"goalsDoneSegment",style:{boxShadow:"none"}},l.a.createElement("h5",null,"Percentage of Finished Goals"),l.a.createElement("svg",{viewBox:"0 0 500 400"},l.a.createElement(Me.a,{standalone:!1,animate:{easing:"exp"},labelComponent:l.a.createElement("span",null),width:500,height:400,data:s,innerRadius:166,colorScale:["#19B3A6","#EEEEEE"]}),l.a.createElement(Ye.a,{textAnchor:"middle",style:{fontSize:50},x:250,y:200,text:t+"%"})))),l.a.createElement(ke.a.Row,null)))}),ht=a(268),ft=(a(671),a(144)),gt=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={title:e.props.goal.title,url:null==e.props.goal.photo?"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/480px-No_image_available.svg.png":e.props.goal.photo},e.getRandomInt=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},e.renderTags=function(){return e.props.goal.tags.map((function(t){var a=e.randomColor();return l.a.createElement(ft.a,{horizontal:!0,style:{marginTop:"2px",marginBottom:"2px",backgroundColor:a,color:"#FFFFFF"}},t)}))},e.randomColor=function(){switch(e.getRandomInt(0,5)){case 0:return"#24b4ab";case 1:return"#173f5f";case 2:return"#686566";case 3:return"#20639b";case 4:return"#ed553b";case 5:return"#04837c"}},e.onClickHandler=function(){d.push("/goalhistory/"+e.props.goal.id)},e.onClickEditGoalHandler=Object(Q.a)(J.a.mark((function t(){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getGoal(e.props.goal.id);case 2:d.push("/edit");case 3:case"end":return t.stop()}}),t)}))),e.onClickDeleteHandler=function(){window.confirm("Tasks and achievements of this goal will be lost. Are you sure?")&&e.props.deleteGoal(e.props.goal.id)},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t="url("+this.state.url+")";return l.a.createElement(ht.a,{className:"DashGoalCardComp",style:{width:"200px"}},l.a.createElement(ht.a.Content,{style:{height:"180px",backgroundImage:t,backgroundSize:"cover"}},l.a.createElement(ht.a.Description,null,this.renderTags())),l.a.createElement(ht.a.Content,{header:this.props.goal.title,textAlign:"center",s:!0,style:{padding:"12px"}}),l.a.createElement(ht.a.Description,{textAlign:"center",style:{color:"#807e7e",marginBottom:"2px"}},"From ",Se.a.unix(this.props.goal.start_at).format("MMM Do YYYY")," ",l.a.createElement("br",null)," Until ",Se.a.unix(this.props.goal.deadline).format("MMM Do YYYY")),l.a.createElement(ht.a.Content,{extra:!0},l.a.createElement(y.a.Group,{size:"tiny"},l.a.createElement(y.a,{onClick:this.onClickHandler},"Click for Details"),l.a.createElement(y.a,{size:"tiny",compact:!0,icon:!0,className:"DashEditGoal",onClick:function(){return e.onClickEditGoalHandler()}},l.a.createElement(_e.a,{name:"edit"})),l.a.createElement(y.a,{size:"tiny",compact:!0,icon:!0,className:"DashDeleteGoal",onClick:function(){return e.onClickDeleteHandler()}},l.a.createElement(_e.a,{name:"trash"})))))}}]),a}(l.a.Component),Et=Object(s.c)(null,{getGoal:ae,deleteGoal:le})(Object(i.e)(gt)),vt=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={select:0,show:0,max:e.props.goalCardList.length/6,showOptions:[{key:1,text:"Show All",value:1},{key:2,text:"Ongoing",value:2},{key:3,text:"Finished",value:3},{key:4,text:"Future",value:4}]},e.renderShowbyTime=function(t){var a=Se()(new Date).startOf("day").unix();switch(t){case 1:return e.props.goalCardList.map((function(e){return l.a.createElement(Et,{goal:e})}));case 2:return e.props.goalCardList.reduce((function(e,t){return t.start_at<=a&&t.deadline>=a&&e.push(t),e}),[]).map((function(e){return l.a.createElement(Et,{goal:e})}));case 3:return e.props.goalCardList.reduce((function(e,t){return t.deadline<a&&e.push(t),e}),[]).map((function(e){return l.a.createElement(Et,{goal:e})}));case 4:return e.props.goalCardList.reduce((function(e,t){return t.start_at>a&&e.push(t),e}),[]).map((function(e){return l.a.createElement(Et,{goal:e})}));default:return e.props.goalCardList.map((function(e){return l.a.createElement(Et,{goal:e})}))}},e.renderSelect=function(){var t=6*e.state.select;return e.renderShowbyTime(e.state.show).slice(t,t+6)},e.prevHandler=function(){e.setState({select:e.state.select-1})},e.nextHandler=function(){e.setState({select:e.state.select+1})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"DashBoardGoalCards"},l.a.createElement("h2",{style:{paddingTop:"5px"}},"Your Goals"),l.a.createElement(at.a,{placeholder:"Filter by",search:!0,selection:!0,options:this.state.showOptions,onChange:function(t,a){return e.setState({show:a.value})},style:{border:"none",marginRight:"20px",marginLeft:"5px"}}),l.a.createElement(y.a.Group,null,l.a.createElement(y.a,{size:"tiny",disabled:0==this.state.select,onClick:function(){return e.prevHandler()},icon:"angle left",className:"dashcardprev"}),l.a.createElement(y.a,{size:"tiny",disabled:this.state.select==Math.floor(this.state.max),onClick:function(){return e.nextHandler()},icon:"angle right",className:"dashcardnext"})),l.a.createElement(v.a,{style:{boxShadow:"none",border:"none"}},l.a.createElement(ht.a.Group,null,this.renderSelect())))}}]),a}(n.Component),yt=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).getMetric=function(){if(0==e.props.goals.length)return 0;var t=Se()(new Date).startOf("day").unix(),a=e.props.goals.reduce((function(e,a){return a.deadline<t&&e.push(a),e}),[]);return Math.floor(100*a.length/e.props.goals.length)},e.getWordCloud=function(){var t,a=[],n=Object(je.a)(e.props.goals);try{for(n.s();!(t=n.n()).done;){var l,r=t.value,o=Object(je.a)(r.tags);try{for(o.s();!(l=o.n()).done;){var s=l.value,i=a.find((function(e){return e.text==s}));void 0==i?a.push({text:s,value:10}):i.value+=10}}catch(c){o.e(c)}finally{o.f()}}}catch(c){n.e(c)}finally{n.f()}return console.log("wordlist",a),a},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.getAllGoal()}},{key:"render",value:function(){return l.a.createElement("div",{className:"dashboard"},l.a.createElement("div",{className:"menubar"},l.a.createElement(De,null)),l.a.createElement(ke.a,{columns:"2",divided:!0},l.a.createElement(Le.a,{className:"dashboardGrid"},l.a.createElement(pt,{metric:this.getMetric(),wordList:this.getWordCloud()})),l.a.createElement(Le.a,null,l.a.createElement(vt,{goalCardList:this.props.goals}))))}}]),a}(n.Component),bt=Object(s.c)((function(e){return{goals:e.goal.goals}}),{getAllGoal:te})(yt),kt=(a(672),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).startAtDate=function(e){return Se.a.unix(e).format("MMM Do YYYY")},e.deadlineDate=function(e){return Se.a.unix(e).format("MMM Do YYYY")},e.renderTags=function(){return e.props.selectedGoal.tags.map((function(t){var a=e.randomColor();return l.a.createElement(Ge.a.Item,null,l.a.createElement(ft.a,{horizontal:!0,style:{marginBottom:"2px",backgroundColor:a,color:"#FFFFFF"}},t))}))},e.getRandomInt=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},e.randomColor=function(){switch(e.getRandomInt(0,5)){case 0:return"#24b4ab";case 1:return"#173f5f";case 2:return"#686566";case 3:return"#20639b";case 4:return"#ed553b";case 5:return"#04837c"}},e}return Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"GeneralGoalInfoPanel"},l.a.createElement(v.a,{style:{boxShadow:"none"}},l.a.createElement(ke.a,{row:"2"},l.a.createElement(ke.a.Row,null,l.a.createElement("h2",{className:"GeneralGoalInfoTitle"},this.props.selectedGoal.title)),l.a.createElement(ke.a.Row,{className:"GeneralGoalInfoSub"},l.a.createElement(ke.a.Column,{width:"5"},l.a.createElement("p",{style:{color:"#807e7e"}},"From ",this.startAtDate(this.props.selectedGoal.start_at),", Until ",this.deadlineDate(this.props.selectedGoal.deadline))),this.renderTags()))))}}]),a}(n.Component)),Ct=(a(673),a(674),function(e){var t=Object(n.useState)(!1),a=Object(f.a)(t,2),r=(a[0],a[1]);return l.a.createElement(v.a,{style:{boxShadow:"none",margin:"0px",border:"none"},className:"TaskInfo"},l.a.createElement(ke.a,{columns:"2",style:{padding:"4px"}},l.a.createElement(ke.a.Column,{width:"2",style:{padding:"0px",alignItems:"center"}},l.a.createElement(y.a,{icon:!0,style:{backgroundColor:"#FFFFFF"},onClick:function(){r(!0),e.onSelect(e.task.id)}},l.a.createElement(_e.a,{name:"check circle outline",size:"large",style:{paddingTop:"11px",paddingLeft:"20px"}}))),l.a.createElement(ke.a.Column,{width:"14",style:{padding:"4px"}},l.a.createElement(Ge.a,{className:"TaskInfoTitleList"},l.a.createElement(Ge.a.Item,{className:"TaskInfoListItem"},l.a.createElement(Ge.a.Content,{className:"TaskInfoListTitle"},l.a.createElement(Ge.a.Header,{className:"TaskInfoListTitleHeader",style:{fontSize:"16px",paddingBottom:"12px",paddingTop:"0px"}},e.task.title,"\xa0\xa0\xa0",l.a.createElement(Fe.a,{className:"TaskInfoListRating",name:"simple-controlled",size:"small",id:"AddTaskFormImportance",value:e.task.importance,readOnly:!0})),function(e,t,a){var n="From ";if(n=n+function(e){return Se.a.unix(e).format("MMM Do YYYY")}(t)+", Until "+function(e){return Se.a.unix(e).format("MMM Do YYYY")}(a),0!==e.length){var r,o="On every ",s=Object(je.a)(e);try{for(s.s();!(r=s.n()).done;){var i=r.value;o=o+(i=((i=i.toLowerCase()).charAt(0).toUpperCase()+i.slice(1)).slice(0,3))+", "}}catch(c){s.e(c)}finally{s.f()}return o=o.slice(0,o.length-2),l.a.createElement("p",{style:{fontSize:"14px",color:"#807d7d"}},n,l.a.createElement("br",null),o)}return l.a.createElement("p",{style:{fontSize:"13px",color:"#807d7d"}},n)}(e.task.day_of_week,e.task.start_at,e.task.deadline)))))))}),Ot=(a(675),function(e){var t=e.achievement.percentage_complete,a=Se.a.unix(e.achievement.written_at).format("MMM Do YYYY");return l.a.createElement(v.a,{className:"AccContainer"},l.a.createElement("h4",null,"Your achievement on ",a),l.a.createElement("br",null),l.a.createElement(ke.a,{columns:"2",className:"AccGrid",divided:!0,style:{marginLeft:"0px"}},l.a.createElement(ke.a.Column,{width:6,className:"AccContainerPercentage",style:{paddingLeft:"2px"}},l.a.createElement("svg",{viewBox:"0 0 520 520"},l.a.createElement(Me.a,{standalone:!1,labelComponent:l.a.createElement("span",null),width:520,height:520,data:[{key:"",y:t},{key:"",y:100-t}],innerRadius:166,colorScale:["#19B3A6","#EEEEEE"]}),l.a.createElement(Ye.a,{textAnchor:"middle",style:{fontSize:50},x:260,y:260,text:t+"%"})),l.a.createElement("p",{className:"AccChartTitle"},"percentage done")),l.a.createElement(ke.a.Column,{width:10,className:"AccContainerDetail"},l.a.createElement(ke.a,{columns:"2"},l.a.createElement(ke.a.Column,{width:"5"},l.a.createElement("h5",null,"See Photo Preview")),l.a.createElement(ke.a.Column,{width:"10",style:{paddingLeft:"0px"}},l.a.createElement("img",{id:"image",src:e.achievement.photo,className:"AccPreviewImage"}))))),l.a.createElement("div",{className:"description"},l.a.createElement(_e.a,{name:"pencil alternate",style:{color:"#5F5F5F"}}),e.achievement.description),l.a.createElement("div",{className:"description"},l.a.createElement("br",null)))}),wt=function(e){var t;return t=0==e.number?0:e.total/e.number,l.a.createElement(v.a,{style:{boxShadow:"none"},className:"AchInfo"},l.a.createElement(ke.a,{columns:"2",divided:!0},l.a.createElement(ke.a.Column,null,l.a.createElement("p",{style:{textAlign:"center",fontSize:"30px",fontWeight:"lighter"}},e.number),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0total number of achievements"),l.a.createElement(ke.a.Column,null,l.a.createElement("p",{style:{textAlign:"center",fontSize:"30px",fontWeight:"lighter"}},Math.floor(t),"%"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0average percentage complete")))},xt=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={selectedTask:null,achList:[],startIndex:0},e.onTaskSubmit=function(t){e.setState({selectedTask:t})},e.renderTaskInfo=function(){var t,a=e.props.tasks;return a.sort((function(e,t){return e.start_at<t.start_at?-1:e.start_at>t.start_at?1:0})),0==(t=a.map((function(t){return l.a.createElement(Ct,{task:t,onSelect:e.onTaskSubmit})}))).length?l.a.createElement("p",{style:{fontWeight:"600",fontSize:"15px"}},"\xa0\xa0No tasks added for this goal yet!"):t},e.prevHandler=function(){e.setState({startIndex:e.state.startIndex-1})},e.nextHandler=function(){e.setState({startIndex:e.state.startIndex+1})},e.renderAchTotal=function(){if(e.state.selectedTask){var t;console.log(e.props.achievements);var a=0,n=e.props.achievements;return n.sort((function(e,t){return e.written_at<t.written_at?-1:e.written_at>t.written_at?1:0})),t=n.reduce((function(t,n){return n.task==e.state.selectedTask&&(t.push(l.a.createElement(Ot,{achievement:n})),a+=n.percentage_complete),t}),[]),l.a.createElement("div",null,l.a.createElement("p",null,"\xa0ACHIEVEMENT INFO"),l.a.createElement(wt,{number:t.length,total:a}),l.a.createElement("br",null),l.a.createElement("p",null,"\xa0ACHIEVEMENT JOURNAL"),t[e.state.startIndex],l.a.createElement(y.a.Group,{floated:"right"},l.a.createElement(y.a,{size:"tiny",icon:"angle left",style:{backgroundColor:"#FFFFFF"},className:"DashPrevAch",disabled:0==e.state.startIndex,onClick:function(){return e.prevHandler()}}),l.a.createElement(y.a,{size:"tiny",icon:"angle right",style:{backgroundColor:"#FFFFFF"},className:"DashNextAch",disabled:e.state.startIndex==t.length-1,onClick:function(){return e.nextHandler()}})))}return l.a.createElement("div",null,l.a.createElement("p",null,"\xa0ACHIEVEMENT INFO"),l.a.createElement("p",{style:{fontWeight:"600",fontSize:"15px"}},"\xa0Select a task to see achievement info!"),l.a.createElement("br",null),l.a.createElement("p",null,"\xa0ACHIEVEMENT JOURNAL"),l.a.createElement("p",{style:{fontWeight:"600",fontSize:"15px"}},"\xa0Select a task to see achievement journals!"))},e}return Object(m.a)(a,[{key:"render",value:function(){return console.log(this.state.selectedTask),l.a.createElement(v.a,{className:"TaskAndAchContainer",style:{boxShadow:"none",border:"none"}},l.a.createElement(ke.a,{columns:"2",divided:!0,style:{minHeight:"700px",marginTop:"5px"}},l.a.createElement(ke.a.Column,{style:{paddingTop:"0px",paddingLeft:"0px"},width:"7"},l.a.createElement("p",null,"\xa0\xa0TASKS YOU'VE DONE"),this.renderTaskInfo()),l.a.createElement(ke.a.Column,{width:"9",style:{paddingTop:"0px"}},this.renderAchTotal())))}}]),a}(n.Component),_t=(a(676),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){console.log("mounting"),this.props.getGoal(this.props.match.params.id),this.props.get_achievements_of_goal(this.props.match.params.id)}},{key:"render",value:function(){return console.log(this.props.achievements),l.a.createElement("div",{className:"GoalDetailPage"},l.a.createElement("div",{className:"menubar"},l.a.createElement(De,null)),null!==this.props.selectedGoal&&l.a.createElement(kt,{selectedGoal:this.props.selectedGoal}),null!==this.props.selectedGoal&&l.a.createElement(xt,{tasks:this.props.selectedGoal.tasks,achievements:this.props.achievements}))}}]),a}(n.Component)),Dt=Object(s.c)((function(e){return console.log("DETAIL selectedGoal: ",e.goal.selectedGoal),{selectedGoal:e.goal.selectedGoal,achievements:Object.values(e.achievement)}}),{getGoal:ae,get_achievements_of_goal:function(e){return function(){var t=Object(Q.a)(J.a.mark((function t(a){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.a.get("/api/v1/achievements/goal/".concat(e,"/"));case 2:n=t.sent,console.log("[DEBUG] get_achievements_of_goal res.data: ",n.data),a({type:H,payload:n.data});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(Object(i.e)(_t)),At=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={title:e.props.goal.title,url:null==e.props.goal.photo?"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/480px-No_image_available.svg.png":e.props.goal.photo},e.getRandomInt=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},e.renderTags=function(){return e.props.goal.tags.map((function(t){var a=e.randomColor();return l.a.createElement(ft.a,{horizontal:!0,style:{marginTop:"2px",marginBottom:"2px",backgroundColor:a,color:"#FFFFFF"}},t)}))},e.randomColor=function(){switch(e.getRandomInt(0,5)){case 0:return"#24b4ab";case 1:return"#173f5f";case 2:return"#686566";case 3:return"#20639b";case 4:return"#ed553b";case 5:return"#04837c"}},e.onClickHandler=function(){d.push("/explore/goalhistory/"+e.props.goal.id)},e}return Object(m.a)(a,[{key:"render",value:function(){var e="url("+this.state.url+")";return l.a.createElement(ht.a,{className:"RecCardComp",style:{width:"190px"}},l.a.createElement(ht.a.Content,{style:{height:"180px",backgroundImage:e,backgroundSize:"cover"}},l.a.createElement(ht.a.Description,null,this.renderTags())),l.a.createElement(ht.a.Content,{header:this.props.goal.title,textAlign:"center",s:!0,style:{padding:"12px",paddingBottom:"0px"}}),l.a.createElement(ht.a.Description,{textAlign:"center",style:{color:"#807e7e",marginBottom:"5px"}},l.a.createElement(_e.a,{name:"user circle"}),"\xa0",this.props.goal.username),l.a.createElement(ht.a.Content,{extra:!0},l.a.createElement(y.a,{floated:"right",fluid:!0,onClick:this.onClickHandler},"Look More")))}}]),a}(l.a.Component),Tt=function(e){var t=Object(n.useState)(0),a=Object(f.a)(t,2),r=a[0],o=a[1],s=e.goals.map((function(e){return l.a.createElement(At,{goal:e})}));return l.a.createElement("div",{className:"RecGoalCards",style:{marginLeft:"130px",width:"90%"}},l.a.createElement(v.a,{style:{boxShadow:"none",border:"none",display:"flex"}},l.a.createElement(ht.a.Group,null,s.slice(0,10*r+10))),l.a.createElement(y.a,{style:{marginLeft:"10px"},className:"ExpShowMore",disabled:r>0,onClick:function(){o(r+1)}},"Click for more recommendations!"),l.a.createElement(y.a,{style:{marginLeft:"10px"},className:"ExpShowLess",disabled:!(r>0),onClick:function(){o(r-1)}},"Hide recommendations"))},St=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){console.log("mounting explore page"),this.props.explore_getAllGoal()}},{key:"render",value:function(){return l.a.createElement("div",{className:"dashboard"},l.a.createElement("div",{className:"menubar"},l.a.createElement(De,null)),l.a.createElement("h3",{style:{paddingLeft:"138px",paddingTop:"7px",marginTop:"15px",paddingBottom:"10px",fontSize:"30px"}},"Explore new goals"),l.a.createElement(Tt,{goals:this.props.goals}))}}]),a}(n.Component),Gt=Object(s.c)((function(e){return console.log("EXPLORE all goals:",e.explore.goals),{goals:e.explore.goals}}),{explore_getAllGoal:function(){return function(e){return $.a.get("/api/v1/explore/recommend/").then((function(t){return e((a=t.data,console.log("explore_getAllGoal_ goals: ",a),{type:V,goals:a.slice(1,a.length)}));var a}))}}})(St),Nt=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.explore_getGoal(this.props.match.params.id),this.props.explore_get_ach_by_goal(this.props.match.params.id)}},{key:"render",value:function(){return l.a.createElement("div",{className:"ExploreGoalDetailPage",style:{width:"80%",marginLeft:"125px",maxWidth:"1190px"}},l.a.createElement("div",{className:"menubar"},l.a.createElement(De,null)),null!==this.props.selectedGoal&&l.a.createElement(kt,{selectedGoal:this.props.selectedGoal}),null!==this.props.selectedGoal&&l.a.createElement(xt,{tasks:this.props.selectedGoal.tasks,achievements:this.props.achievements}))}}]),a}(n.Component),jt=Object(s.c)((function(e){return{selectedGoal:e.explore.selectedGoal,achievements:e.explore.achievements}}),{explore_getGoal:function(e){return function(t){return $.a.get("/api/v1/explore/recommend/"+e+"/").then((function(e){var a;t((a=e.data,{type:K,target:a}))}))}},explore_get_ach_by_goal:function(e){return function(t){return $.a.get("/api/v1/explore/recommend/ach/"+e+"/").then((function(e){t(de(e.data))}))}}})(Nt);var Mt=function(e){return l.a.createElement(i.b,{history:d},l.a.createElement("div",{className:"App",id:"fill-window"},l.a.createElement(i.c,null,l.a.createElement(i.a,{path:"/",exact:!0,component:Oe}),l.a.createElement(i.a,{path:"/create",exact:!0,component:lt}),l.a.createElement(i.a,{path:"/edit",exact:!0,component:ut}),l.a.createElement(i.a,{path:"/main",exact:!0,component:$e}),l.a.createElement(i.a,{path:"/dashboard",exact:!0,component:bt}),l.a.createElement(i.a,{path:"/explore",exact:!0,component:Gt}),l.a.createElement(i.a,{path:"/explore/goalhistory/:id",exact:!0,component:jt}),l.a.createElement(i.a,{path:"/goalhistory/:id",exact:!0,component:Dt}))))},Yt=a(120),Ft=a(35),Lt=a(16),Bt={goals:[],selectedGoal:null},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(Lt.a)(Object(Lt.a)({},e),{},{goals:t.payload});case S:return Object(Lt.a)(Object(Lt.a)({},e),{},{selectedGoal:t.payload});case G:var a=t.payload;return Object(Lt.a)(Object(Lt.a)({},e),{},{goals:[].concat(Object(Ft.a)(e.goals),[a])});case N:console.log(e.goals.filter((function(e){return e.id!==t.payload.id})));var n=e.goals.filter((function(e){return e.id!==t.payload.id})).concat([t.payload]);return Object(Lt.a)(Object(Lt.a)({},e),{},{selectedGoal:t.payload,goals:n});case F:var l=e.selectedGoal.tasks.filter((function(e){return e.id!==t.payload.id})),r=Object(Lt.a)(Object(Lt.a)({},e.selectedGoal),{},{tasks:[].concat(Object(Ft.a)(l),[t.payload])});return Object(Lt.a)(Object(Lt.a)({},e),{},{selectedGoal:r});case j:var o=e.goals.filter((function(e){return e.id!==t.id}));return Object(Lt.a)(Object(Lt.a)({},e),{},{goals:o});case M:var s=e.goals.filter((function(e){return e.id===t.payload.goal}))[0],i=e.goals.filter((function(e){return e.id!==t.payload.goal}));return Object(Lt.a)(Object(Lt.a)({},e),{},{goals:[].concat(Object(Ft.a)(i),[Object(Lt.a)(Object(Lt.a)({},s),{},{tasks:[].concat(Object(Ft.a)(s.tasks),[t.payload])})])});case Y:var c=e.goals.filter((function(e){return e.id===t.payload.goal_id}))[0],d=c.tasks.filter((function(e){return e.id!==t.payload.task_id})),u=Object(Lt.a)(Object(Lt.a)({},c),{},{tasks:d}),m=e.goals.filter((function(e){return e.id!==t.payload.goal_id}));return Object(Lt.a)(Object(Lt.a)({},e),{},{goals:[].concat(Object(Ft.a)(m),[u]),selectedGoal:u})}return e},Ut={tasks:[],selectedTask:null},Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(Lt.a)(Object(Lt.a)({},e),{},{tasks:t.payload});case B:var a=t.payload;return Object(Lt.a)(Object(Lt.a)({},e),{},{tasks:[].concat(Object(Ft.a)(e.tasks),[a])});case I:var n=e.tasks.filter((function(e){return e.id!==t.payload}));return Object(Lt.a)(Object(Lt.a)({},e),{},{tasks:n});case U:var l=e.tasks.filter((function(e){return e.id!==t.payload.id}));return Object(Lt.a)(Object(Lt.a)({},e),{},{tasks:[].concat(Object(Ft.a)(l),[t.payload])})}return e},Ht=a(302),Pt=a.n(Ht),zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:case H:return Object(Lt.a)(Object(Lt.a)({},e),Pt.a.mapKeys(t.payload,"id"));case P:case z:return Object(Lt.a)(Object(Lt.a)({},e),{},Object(et.a)({},t.payload.id,t.payload));case W:return Pt.a.omit(e,t.payload);default:return e}},Wt=a(270),Vt={authModal:!1,addTask:!1,addAcc:!1},Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{authModal:!1,addTask:!1,addAcc:!1};case w:return{authModal:!0};case x:return{addTask:!0};case _:return{addTask:!1};case D:return{addAcc:!0};case A:return{addAcc:!1};default:return e}},qt={goals:[],selectedGoal:null,achievements:[]},Xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(Lt.a)(Object(Lt.a)({},e),{},{goals:t.goals});case K:return Object(Lt.a)(Object(Lt.a)({},e),{},{selectedGoal:t.target});case q:return Object(Lt.a)(Object(Lt.a)({},e),{},{achievements:t.achievements})}return e},Jt=Object(Yt.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:case k:return t.payload;case C:return null;default:return e}},goal:It,task:Rt,achievement:zt,modal:Kt,explore:Xt,router:Object(Wt.a)(d)}),Qt=a(442),Zt=a(419),$t=[function(e){return function(t){return function(a){console.log("[Middleware] Dispatching",a);var n=t(a);return console.log("[Middleware] Next State",e.getState()),n}}},Qt.a,Object(Zt.a)(d)],ea=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Yt.d,ta=Object(Yt.e)(Jt,{},ea(Yt.a.apply(void 0,$t)));a(677);o.a.render(l.a.createElement(s.a,{store:ta},l.a.createElement(Mt,{history:d})),document.getElementById("root"))}},[[678,1,2]]]);
//# sourceMappingURL=main.2c9b6722.chunk.js.map